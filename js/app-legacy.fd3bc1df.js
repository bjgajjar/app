(function(e){function t(t){for(var s,o,l=t[0],r=t[1],c=t[2],d=0,h=[];d<l.length;d++)o=l[d],n[o]&&h.push(n[o][0]),n[o]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],s=!0,o=1;o<i.length;o++){var r=i[o];0!==n[r]&&(s=!1)}s&&(a.splice(t--,1),e=l(l.s=i[0]))}return e}var s={},n={app:0},a=[];function o(e){return l.p+"js/"+({"lang-de-DE":"lang-de-DE","lang-fr-FR":"lang-fr-FR","lang-nl-NL":"lang-nl-NL"}[e]||e)+"-legacy."+{"lang-de-DE":"08018715","lang-fr-FR":"2ff4e622","lang-nl-NL":"b44526f5"}[e]+".js"}function l(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise(function(t,s){i=n[e]=[t,s]});t.push(i[2]=s);var a,r=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=o(e),a=function(t){c.onerror=c.onload=null,clearTimeout(d);var i=n[e];if(0!==i){if(i){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+s+": "+a+")");o.type=s,o.request=a,i[1](o)}n[e]=void 0}};var d=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,r.appendChild(c)}return Promise.all(t)},l.m=e,l.c=s,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(i,s,function(t){return e[t]}.bind(null,s));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0182":function(e,t,i){"use strict";var s=i("b9d8"),n=i.n(s);n.a},"01d9":function(e,t,i){},"0494":function(e,t,i){},"04b0":function(e,t,i){"use strict";var s=i("f367"),n=i.n(s);n.a},"04bd":function(e,t,i){"use strict";var s=i("cdfb"),n=i.n(s);n.a},"05ce":function(e,t,i){},"0927":function(e,t,i){"use strict";var s=i("f3d3"),n=i.n(s);n.a},"0a2d":function(e,t,i){"use strict";var s=i("67e9"),n=i.n(s);n.a},"0f39":function(e,t,i){"use strict";var s=i("d624"),n=i.n(s);n.a},1271:function(e,t,i){"use strict";i.r(t),i.d(t,"dateTimeFormats",function(){return s});const s={short:{year:"numeric",month:"short",day:"numeric"},long:{year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric",hour12:!0}};t["default"]={about_directus:"About Directus",activity:"Activity",my_activity:"My Activity",activity_log:"Activity Log",activity_outside_directus:"This item was created outside of Directus.",admin_email:"Admin Email",admin_password:"Admin Password",additional_info:"Additional Info",add_new:"Add new",add_field_filter:"Add a field filter",add_note:"Add a helpful note for users...",admin_settings:"Admin Settings",almost_done_options:"Almost Done! Now just review the interface options below.",almost_done_copy:"Every interface can be perfectly tailored to your needs. Below are the available options for this field, but only some are required.",all:"All",statuses:"Statuses",api_url:"API URL",api_installed:"API Successfully Installed",auto_generated:"Automatically generated...",batch:"Batch",batch_edit:"Batch Editing Items: {collection}",batch_delete:"Batch Delete",batch_delete_confirm:"No items have been selected | Are you sure you want to delete this item? This action can not be undone. | Are you sure you want to delete these {count} items? This action can not be undone.",between:"Between",both:"Both",bookmarks:"Bookmarks",cancel:"Cancel",change_project:"Change Project",choose_one:"Choose One",choose_project:"Choose Project",choose_interface:"Choose an interface for how this data should be managed.",clear:"Clear",click_to_toggle_all_none:"Click to toggle entire column on/off",connection:"Connection",collection:"Collection",collections_and_fields:"Collection & Fields",collection_updated:"{collection} Collection Updated",collection_removed:"{collection} Collection Removed",collection_names_cannot_be_changed:"Collection names cannot be edited at this time.",collections:"Collections",collection_count:"No Collections | One Collection | {count} Collections","collections-directus_files":"Files","collections-directus_users":"Users","collections-directus_activity":"Activity",comment:"Comment",comments:"Comments",coming_soon:"Coming Soon",contains:"Contains",config_error:"Missing Config",config_error_copy:"Make sure you've created the application's configuration file",collection_contains_items:"{collection} contains {count} items",currently_selected:"Currently selected: {thing}",create:"Create",creating_item:"Creating Item",creating_item_page_title:"Creating Item: {collection}",creating_role:"Creating Role",create_role:"Create Role",create_field:"Create Field",update_field:"Update Field",create_collection:"Create Collection",database_connection:"Database Connection",database_connection_copy:"Next, we need to know how to connect to the database where this project will be managed.",datatype:"Datatype",db_datatype:"{db} Datatype",editing_my_profile:"Editing My Profile",fieldtypes:{alias:"Fields that do not save data or do not have corresponding database columns",array:"Standard array format in API response",datetime:"A date and time in ISO format, eg: 2018-09-19T14:00:43.381Z",date:"Date, eg: 2018-09-19",time:"Time, eg: 14:09:22",file:"Foreign key to directus_files.id",group:"Groups fields together visually, children save group into directus_fields.group",integer:"Whole number",decimal:"Number that includes a decimal",json:"Standard JSON format in API response",lang:"Specific to translation interfaces, this stores the language key",m2o:"Many-to-One Relationship",o2m:"One-to-Many Relationship",sort:"System field used in drag-and-drop item reordering",status:"System field used for publishing workflows",string:"Any text, numbers, spaces, or symbols; defined and limited by its length (number of characters)",translation:"Specific to translation interfaces, this o2m is stores multi-lingual content",uuid:"A Universally Unique Identifier",datetime_created:"System field to track the datetime an item was created, used by revisions",datetime_updated:"System field to track the datetime an item was updated, used by revisions",user_created:"System field to track the user who created an item, used by revisions",user_updated:"System field to track the user who updated an item, used by revisions"},datatypes:{mysql:{CHAR:"A fixed-length non-binary string right-padded with spaces. Length can be 0 to 255 characters.",VARCHAR:"A variable-length non-binary string. Length can be 0 to 65,535 characters (MySQL 5.0.3+).",TINYTEXT:"A string with a max length of 255 characters.",TEXT:"A string with a max length of 65,535 characters.",MEDIUMTEXT:"A string with a max length of 16,777,215 characters.",LONGTEXT:"A string with a max length of 4,294,967,295 characters.",BOOLEAN:"True or false. Is saved as either 1 or 0 respectively.",TINYINT:"An integer. When signed (allows negative) length is -128 to 127, otherwise the max is 255.",SMALLINT:"An integer. When signed (allows negative) length is -32,768 to 32,767, otherwise the max is 65,535.",MEDIUMINT:"An integer. When signed (allows negative) length is -8,388,608 to 8,388,607, otherwise the max is 16,777,215.",INT:"An integer. When signed (allows negative) length is -2,147,483,648 to 2,147,483,647, otherwise the max is 4,294,967,295.",BIGINT:"An integer. When signed (allows negative) length is -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807, otherwise the max is 18,446,744,073,709,551,615.",DECIMAL:"An accurate number (eg: for currency), with 1 to 65 digits length (L) and 0 to 30 digits decimal (D). Length format: `L,D`",FLOAT:"An approximate binary number, 4 bytes with a floating decimal point.",DOUBLE:"An approximate binary number, 8 bytes with a floating decimal point.",DATE:"A date. Allows `1000-01-01` to `9999-12-31`.",DATETIME:"A date and time. Allows `1000-01-01 00:00:00` to `9999-12-31 23:59:59`.",TIMESTAMP:"A date and time. Allows `1970-01-01 00:00:01` UTC to `2038-01-19 03:14:07` UTC.",TIME:"A time. Allows `-838:59:59` to `838:59:59`.",YEAR:"A year. Allows `1901` to `2155` or `0000`"}},date_and_time:"Date & Time",db_user:"Database User",db_password:"Database User Password",db_name:"Database Name",db_type:"Database Type",db_column_name:"Database column name...",default:"Default",delete:"Delete",delete_are_you_sure:"Are you sure you want to delete this item? This action can not be undone.",delete_collection_are_you_sure:"Are you sure you want to delete this collection? This action can not be undone.",delete_field_are_you_sure:'Are you sure you want to delete the field "{field}"? This action can not be undone.',delete_role_are_you_sure:'Are you sure to delete the role "{name}"? This action cannot be undone.',delete_bookmark:"Delete Bookmark",delete_bookmark_body:"Are you sure you want to delete this bookmark? This action cannot be undone.",description:"Description",delete_confirmation:"Delete Confirmation",dialog_beginning:"Beginning of dialog window.",discard_changes:"Discard Changes",display_name:"Display Name",drop_files:"Can't Drop Files | Drop file here... | Drop files here...",dont_show:"Don't Show",editing:"Editing Item: {collection}",editing_item:"Editing Item",editing_items:"Batch Editing {count} Items",editing_single:"Editing {collection}",email_address:"Email Address",email:"Email",empty_collection:"Empty Collection",empty_collection_body:"There are no items in this collection yet",enable_manual_sorting:"Enable manual sorting",enter_value:"Enter Value",enter_collection_name:"Enter collection name...",enter_role_name:"Enter role name...",environment:"Environment",project_key:"Project Key",errors:{"-1":"Couldn't reach API",11:"Can't connect to database",100:"Wrong username and/or password",101:"Logged out due to inactivity",102:"Logged out due to inactivity",103:"User inactive",106:"Wrong username and/or password",107:"User not found"},error_unknown:"Unknown error. Try again later.",esc_cancel:"Escape will cancel and close the window.",equal_to:"Equal to",existing:"Existing",fetching_data:"Fetching Data",field:"Field",field_type:"Field Type",field_created:"{field} Field Created",field_updated:"{field} Field Updated",field_removed:"{field} Field Removed",fields:"Fields",fields_are_saved_instantly:"Changes saved instantly",file:"File",file_library:"File Library",file_upload:"Upload File(s)",forgot_password:"Forgot Password",greater_than_equal:"Greater than or equal to",greater_than:"Greater than",help_and_docs:"Help & Docs",keep_editing:"Keep editing",hidden_detail:"Hidden on Detail",hidden_browse:"Hidden on Browse",host:"Host",in_list:"One of these",initial_schema:"Choose an Initial Schema",initial_schema_copy:"Choose from existing database architectures or start fresh. You can always extend and tweak this later.",interface:"Interface",interface_count:"No Interfaces | One Interface | {count} Interfaces",interfaces:"Interfaces",info:"Info",intelligent_defaults:"Advanced options lets you configure how data will be stored in the database and tweak additional app settings.",interface_settings:"Every interface can be perfectly tailored to your needs. Below are the available options for this interface, but only some are required.",install:"Install",install_copy:"This API has not been setup yet. Would you like to install and configure it now?",is_empty:"Is empty",is_not_null:"Is not NULL",is_null:"Is NULL",item_count:"No Items | One Item | {count} Items",event_count:"No Events | One Event | {count} Events",role_count:"No Roles | One Role | {count} Roles",item_count_filter:"No Filtered Items | One Filtered Item | {count} Filtered Items",item_deleted:"Item Deleted",item_saved:"Item Saved | {count} Items Saved",junction_collection:"Junction Collection",cant_disable_primary:"You can't disable primary key on an existing field. Remove this field instead.",extension_error:"There was a problem loading the {ext} extension.",extensions_missing:"No Extensions Found",extensions_missing_copy:"Make sure you have the system extensions installed.",latency:"Latency",learn_more:"Learn More",leave_comment:"Leave a comment...",length:"Length",less_than_equal:"Less than or equal to",less_than:"Less than",limited:"Limited",loading:"Loading...",loading_more:"Loading more items...",login:"Log in",m2m:"Many-to-Many (M2M)",m2o:"Many-to-One (M2O)",o2m:"One-to-Many (O2M)",name:"Name",name_field:"Let’s name this {field} field and add a helpful note for users.",navigate_changes:"Are you sure you want to leave this page? The changes you made will be lost if you navigate away from this page.",new:"New",new_file:"New File",no_related_entries:"Has no related entries",not_between:"Not between",not_contains:"Doesn't contain",note:"Note",note_note:"An internal description...",note_hidden:"[Learn More](https://docs.directus.io/app/admin/collections.html#hidden)",note_icon:"The icon shown in the App's navigation sidebar",note_managed:"[Learn More](https://docs.directus.io/app/admin/collections.html#managing-collections)",note_single:"[Learn More](https://docs.directus.io/app/admin/collections.html#single)",no_results:"No Results",no_results_body:"The current filters do not match any collection items",no_collections:"No Collections Setup",no_collections_body:"It seems like there aren't any collections setup yet",no_fields:"No Fields Setup",no_fields_body:"It seems like this collection doesn't have any fields setup yet",no_files:"No Files",no_files_body:"It seems like there haven't been any files uploaded yet",numeric:"Numeric",page_not_found:"Page Not Found",page_not_found_body:"The page you are looking for doesn't seem to exist.",permissions:"Permissions",name_bookmark:"What would you like to name this bookmark?",next:"Next",none:"None",not_empty:"Is not empty",not_equal_to:"Not equal to",not_in_list:"Not one of these",no_interface_error:"Field {field} doesn't have an interface setup",manage:"Manage",max_size:"Max. Size: {size}",max_one_primary_key:"You can only have 1 primary key field per collection",dont_manage:"Don't Manage",dont_manage_copy:"Privileges, preferences, and settings for the {collection} collection will be permanently removed from the system! Are you sure?",more_options:"More options",mixed:"Mixed",my_profile:"My Profile",other:"Other",ok:"OK",operator:"Operator",open_on_gh:"Open on GitHub",options:"Options",password:"Password",password_reset_sent:"Password reset email sent to {email}",permissions_no_collections:"This project does not have any collections yet.",permissions_admin:"Admins have access to all managed data within the system by default.",permission_states:{none:"None",mine:"Mine Only",role:"Role Only",full:"All",read:"Readonly",create:"Create",on_create:"On Creation",update:"Update",on_update:"On Update",always:"Always"},popular:"Popular",powered_by_directus:"Powered by Directus",preview_and_revert:"Preview and Revert",primary_key:"Primary Key",port:"Port",project:"Project",project_name:"Project Name",project_info:"Project Information",project_info_copy:"Below are a few questions about your project, including the credentials of your first administrator.",read:"Read",readable_fields:"Readable Fields",readable_fields_copy:"Select the fields that the user can view",readonly:"Readonly",relational:"Relational",report_issue:"Report Issue",request_feature:"Request Feature",regex:"RegEx",relation_setup:"Since this is a relational field, we need to map-out the related fields.",relation_setup_copy:"There are different types of relational data, this interface uses one called {relation}.",related_entries:"Has related entries",related_collection:"Related Collection",remove:"Remove",remove_related:"Remove Related Item",relationship:"Relationship",required:"Required",reset_preferences:"Reset all listing preferences",reset_password:"Reset Password",revert:"Revert",revert_copy:"Do you want to revert this item to how it was on {date}?",roles:"User Roles",role_settings:"Role Settings",save:"Save",save_and_add:"Save and Add New",save_and_stay:"Save and Stay",save_as_copy:"Save as Copy",save_as_bookmark:"Save as Bookmark",schema:"Schema",search:"Search",select_from_device:"Select from device",select_existing:"Select Existing",select_field:"Select a Field",select_fields:"Select Fields",search_interface:"Search for an interface...",select_interface_below:"Select an interface below",select_statuses:"Select Statuses",select_statuses_copy:"Select the statuses the user can use",settings:"Settings",settings_project:"Project Settings",settings_global:"Global Settings",settings_collections_fields:"Collections & Fields",settings_permissions:"Roles & Permissions",settings_extensions:"Extensions",server_details:"Server Details",server_error:"Server Error",server_error_copy:"Something is wrong with this instance’s server or database.",server_trouble:"Server Trouble",server_trouble_copy:"Try again later or contact your system administrator help.",advanced_options:"Advanced options",show_directus_collections:"Show Directus System Collections",something_went_wrong:"Something went wrong.",something_went_wrong_body:"Trouble processing request. Try again after refreshing the page.",sign_in:"Sign In",signing_in:"Signing In",sign_out:"Sign Out",sign_out_confirm:"Are you sure you want to sign out?",sign_out_confirm_edits:"Are you sure you want to sign out? All unsaved changes will be lost.",text:"Text",this_collection:"This Collection",to:"To",unsaved_changes_copy:"You have unsaved changes! Are you sure you want to leave this page?",user_directory:"User Directory",update:"Update",update_confirm:"Are you sure you want to update {count} items?",unique:"Unique",user_edit_warning:"{first_name} {last_name} is editing this item too. Please coordinate with them so you don't lose your changes.",value:"Value",values:"Values",validation:"Validation",version:"Version",version_and_updates:"Version and Updates",view_type:"View As...",welcome:"Welcome",writable_fields:"Writable Fields",writable_fields_copy:"Select the fields that the user can edit",yes:"Yes",duplicating_field:"Duplicating Field",duplicate:"Duplicate"}},1392:function(e,t,i){},1632:function(e,t,i){"use strict";var s=i("5791"),n=i.n(s);n.a},"170c":function(e,t,i){"use strict";var s=i("689c"),n=i.n(s);n.a},"171c":function(e,t,i){},"195d":function(e,t,i){},"1b2c":function(e,t,i){},"1f04":function(e,t,i){},2224:function(e,t,i){e.exports=i.p+"img/logo-dark.912f80a1.svg"},2243:function(e,t,i){"use strict";var s=i("e543"),n=i.n(s);n.a},2328:function(e,t,i){"use strict";var s=i("959d"),n=i.n(s);n.a},"25af":function(e,t,i){"use strict";var s=i("9645"),n=i.n(s);n.a},"2acd":function(e,t,i){},"2ae6":function(e,t,i){},3027:function(e,t,i){},3101:function(e,t,i){"use strict";var s=i("c26d"),n=i.n(s);n.a},"3f1e":function(e,t,i){},"3fd6":function(e,t,i){},"3fdd":function(e,t,i){"use strict";var s=i("dada"),n=i.n(s);n.a},"41b5":function(e,t,i){},"46b1":function(e,t,i){"use strict";var s=i("3f1e"),n=i.n(s);n.a},"46d8":function(e,t,i){"use strict";var s=i("abf3"),n=i.n(s);n.a},"483c":function(e,t,i){},4865:function(e,t,i){},"49bd":function(e,t,i){"use strict";var s=i("4a61"),n=i.n(s);n.a},"4a61":function(e,t,i){},"4aaa":function(e,t,i){"use strict";var s=i("05ce"),n=i.n(s);n.a},"4ad1":function(e,t,i){},"4ade":function(e,t,i){},"4db1":function(e,t,i){"use strict";var s=i("b1af"),n=i.n(s);n.a},"4e2c":function(e,t,i){"use strict";var s=i("2acd"),n=i.n(s);n.a},"4e8c":function(e,t,i){},5252:function(e,t,i){"use strict";var s=i("4ad1"),n=i.n(s);n.a},"52ff":function(e,t,i){"use strict";var s=i("adbe"),n=i.n(s);n.a},"54e5":function(e,t,i){},"559b":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);var s={};i.r(s),i.d(s,"LOGIN_PENDING",function(){return Cn}),i.d(s,"LOGIN_SUCCESS",function(){return xn}),i.d(s,"LOGIN_FAILED",function(){return In}),i.d(s,"LOGOUT",function(){return Sn}),i.d(s,"REFRESH_TOKEN",function(){return En}),i.d(s,"REMOVE_AUTH_ERROR",function(){return On}),i.d(s,"CHANGE_API",function(){return Tn}),i.d(s,"SET_BOOKMARKS",function(){return Fn}),i.d(s,"ADD_BOOKMARK",function(){return Nn}),i.d(s,"DELETE_BOOKMARK",function(){return jn}),i.d(s,"SET_COLLECTIONS",function(){return An}),i.d(s,"ADD_COLLECTION",function(){return Mn}),i.d(s,"DELETE_COLLECTION",function(){return qn}),i.d(s,"UPDATE_COLLECTION",function(){return Pn}),i.d(s,"DISCARD_CHANGES",function(){return Dn}),i.d(s,"ITEM_CREATED",function(){return Rn}),i.d(s,"START_EDITING",function(){return Ln}),i.d(s,"UNSTAGE_VALUE",function(){return Bn}),i.d(s,"STAGE_VALUE",function(){return Vn}),i.d(s,"ADD_FIELD",function(){return Un}),i.d(s,"UPDATE_FIELD",function(){return Kn}),i.d(s,"UPDATE_FIELDS",function(){return zn}),i.d(s,"REMOVE_FIELD",function(){return Wn}),i.d(s,"SET_INTERFACES",function(){return Hn}),i.d(s,"SET_LAYOUTS",function(){return Gn}),i.d(s,"SET_PAGES",function(){return Qn}),i.d(s,"STORE_HYDRATED",function(){return Xn}),i.d(s,"HYDRATING_FAILED",function(){return Yn}),i.d(s,"SET_PERMISSIONS",function(){return Jn}),i.d(s,"ADD_PERMISSION",function(){return Zn}),i.d(s,"LATENCY",function(){return ea}),i.d(s,"LOADING_START",function(){return ta}),i.d(s,"LOADING_FINISHED",function(){return ia}),i.d(s,"SET_CURRENT_USER",function(){return sa}),i.d(s,"UPDATE_CURRENT_USER",function(){return na}),i.d(s,"SET_RELATIONS",function(){return aa}),i.d(s,"ADD_RELATION",function(){return oa}),i.d(s,"UPDATE_RELATION",function(){return la}),i.d(s,"SET_SETTINGS",function(){return ra}),i.d(s,"SET_SERVER_INFO",function(){return ca}),i.d(s,"TOGGLE_NAV",function(){return da}),i.d(s,"TOGGLE_INFO",function(){return ua}),i.d(s,"SET_USERS",function(){return ha}),i.d(s,"PUSH_NOTIFICATION",function(){return pa}),i.d(s,"REMOVE_NOTIFICATION",function(){return ma});var n={};i.r(n),i.d(n,"login",function(){return yl}),i.d(n,"loginSSO",function(){return bl}),i.d(n,"refresh",function(){return $l}),i.d(n,"logout",function(){return kl}),i.d(n,"changeAPI",function(){return wl}),i.d(n,"removeAuthError",function(){return Cl}),i.d(n,"clearAuth",function(){return xl});var a={};i.r(a),i.d(a,"tokenPayload",function(){return El}),i.d(a,"loggedIn",function(){return Ol});var o={};i.r(o),i.d(o,"getExtensions",function(){return jl}),i.d(o,"getAllExtensions",function(){return Al});var l={};i.r(l),i.d(l,"discardChanges",function(){return Rl}),i.d(l,"startEditing",function(){return Ll}),i.d(l,"stageValue",function(){return Bl}),i.d(l,"unstageValue",function(){return Vl}),i.d(l,"save",function(){return Ul});var r={};i.r(r),i.d(r,"editing",function(){return Kl});var c={};i.r(c),i.d(c,"addPermission",function(){return Ql}),i.d(c,"getPermissions",function(){return Xl});var d={};i.r(d),i.d(d,"getUsers",function(){return er});var u={};i.r(u),i.d(u,"getRelations",function(){return nr}),i.d(u,"addRelation",function(){return ar}),i.d(u,"updateRelation",function(){return or});var h={};i.r(h),i.d(h,"m2o",function(){return lr}),i.d(h,"o2m",function(){return rr});var p={};i.r(p),i.d(p,"getServerInfo",function(){return pr});var m={};i.r(m),i.d(m,"latency",function(){return $r}),i.d(m,"getSettings",function(){return kr}),i.d(m,"addField",function(){return wr}),i.d(m,"updateField",function(){return Cr}),i.d(m,"updateFields",function(){return xr}),i.d(m,"removeField",function(){return Ir}),i.d(m,"getCurrentUser",function(){return Sr}),i.d(m,"track",function(){return Er}),i.d(m,"getCollections",function(){return Or}),i.d(m,"addCollection",function(){return Tr}),i.d(m,"removeCollection",function(){return Fr}),i.d(m,"updateCollection",function(){return Nr}),i.d(m,"getBookmarks",function(){return jr}),i.d(m,"saveBookmark",function(){return Ar}),i.d(m,"deleteBookmark",function(){return Mr}),i.d(m,"loadingStart",function(){return qr}),i.d(m,"loadingFinished",function(){return Pr});var f={};i.r(f),i.d(f,"signalStrength",function(){return Dr});var v=i("2b0e"),_=i("2ef0"),g=i.n(_),y=i("1516"),b=i.n(y),$=i("e37d"),k=i("8682"),w=i("5cd9"),C=i.n(w),x=i("bc3a"),I=i.n(x),S=i("0a89"),E=i.n(S),O=i("52cf"),T=i.n(O),F=i("8424"),N=i.n(F),j=(i("e008"),i("a725"),i("5b7e")),A=i.n(j),M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"invisible-label",attrs:{for:e.htmlFor}},[e._t("default")],2)},q=[],P={name:"invisible-label",props:{htmlFor:{type:String,required:!0}}},D=P,R=(i("f5f1"),i("2877")),L=Object(R["a"])(D,M,q,!1,null,"43af0604",null);L.options.__file="invisible-label.vue";var B=L.exports,V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"loader",class:e.area,style:{zIndex:e.zIndex}},[i("div",{staticClass:"overlay",class:{transparent:e.transparent}}),i("transition",{attrs:{name:"fade"}},[i("v-spinner",{directives:[{name:"show",rawName:"v-show",value:e.spinnerActive,expression:"spinnerActive"}],staticClass:"spinner",attrs:{"line-fg-color":"var(--light-gray)","line-bg-color":"var(--lighter-gray)"}})],1)],1)])},U=[],K={name:"loader",props:{area:{type:String,default:null,validator(e){const t=["content","full-page"];return t.includes(e)}},transparent:{type:Boolean,default:!1},delay:{type:Number,default:0},spinnerDelay:{type:Number,default:0},zIndex:{type:Number,default:500}},data(){return{active:!1,spinnerActive:!1}},created(){setTimeout(()=>{this.active=!0},this.delay),setTimeout(()=>{this.spinnerActive=!0},this.delay+this.spinnerDelay)}},z=K,W=(i("c82b"),Object(R["a"])(z,V,U,!1,null,"0ba60734",null));W.options.__file="loader.vue";var H=W.exports,G=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-avatar"},[i("div",{staticClass:"wrapper",style:{borderColor:"var(--"+e.color+")",width:e.size+"px",height:e.size+"px"}},[null==e.src||e.error?i("i",{staticClass:"material-icons",style:{fontSize:e.size/2+2+"px"}},[e._v("person")]):i("img",{directives:[{name:"show",rawName:"v-show",value:!e.error&&!1===e.loading,expression:"!error && loading === false"}],attrs:{src:e.src,alt:e.alt},on:{load:function(t){e.loading=!1},error:e.onImageLoadingError}})]),e.indicator?i("div",{staticClass:"indicator",style:{backgroundColor:"var(--"+e.color+")"}}):e._e()])},Q=[],X={name:"v-avatar",props:{src:{type:String,default:null},alt:{type:String,required:!0},indicator:{type:Boolean,default:!1},color:{type:String,default:"accent"},size:{type:Number,default:40}},data(){return{loading:!1,error:!1}},methods:{onImageLoadingError(e){this.error=e,this.loading=!1}},watch:{src(){this.error=!1}}},Y=X,J=(i("46b1"),Object(R["a"])(Y,G,Q,!1,null,"aacb8fe2",null));J.options.__file="avatar.vue";var Z=J.exports,ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.element,{tag:"component",staticClass:"v-card",class:{link:e.link,selected:e.selected,selectable:e.selectable,"selection-mode":e.selectionMode,disabled:e.disabled}},[i(e.wrapperTag,{tag:"component",attrs:{to:e.to,href:e.href,target:"__blank"}},[e.src||e.icon||e.$slots.icon?i("div",{staticClass:"header",style:{backgroundColor:"var(--"+e.color+")"}},[e.selectable?i("button",{staticClass:"select",attrs:{type:"button"},on:{click:function(t){t.stopPropagation(),e.$emit("select")}}},[i("i",{staticClass:"material-icons"},[e._v(e._s(e.selectionIcon))])]):e._e(),e.src&&!e.error?i("img",{attrs:{alt:e.title,src:e.src},on:{error:e.onImageError}}):e._e(),e.error?i("i",{staticClass:"material-icons error icon"},[e._v("broken_image")]):e._e(),e.icon?i("i",{staticClass:"material-icons icon",class:{"half-opacity":"half"===e.opacity}},[e._v(e._s(e.icon))]):e._e(),e.$slots.icon?i("div",{staticClass:"custom-icon"},[e._t("icon")],2):e._e(),e.label?i("span",{staticClass:"label"},[e._v(e._s(e.label))]):e._e()]):i("div",{staticClass:"header small",style:{backgroundColor:"var(--"+e.color+")"}},[e.selectable?i("button",{staticClass:"select",attrs:{type:"button"},on:{click:function(t){t.stopPropagation(),e.$emit("select")}}},[i("i",{staticClass:"material-icons"},[e._v(e._s(e.selectionIcon))])]):e._e()]),i("div",{staticClass:"body",class:{menu:null!=e.options}},[i("div",{staticClass:"main"},[i(e.titleElement,{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.title,expression:"title"}],tag:"component",staticClass:"title"},[e._v(e._s(e.title))]),e.subtitle?i("p",{staticClass:"subtitle style-4"},[e._v(e._s(e.subtitle))]):e._e(),e.body?i("p",{staticClass:"content"},[e._v(e._s(e.body))]):e._e()],1),i("v-popover",{attrs:{placement:"right-start",offset:"2"}},[null!=e.options?i("button",{staticClass:"menu-toggle",attrs:{type:"button"}},[i("i",{staticClass:"material-icons"},[e._v("more_vert")])]):e._e(),i("template",{slot:"popover"},[i("ul",{staticClass:"ctx-menu"},e._l(e.options,function(t,s){var n=t.text,a=t.icon;return i("li",{key:s},[i("button",{attrs:{type:"button"},on:{click:function(t){e.$emit(s)}}},[a?i("i",{staticClass:"material-icons"},[e._v(e._s(a))]):e._e(),e._v("\n                "+e._s(n)+"\n              ")])])}))])],2)],1)])],1)},te=[],ie={name:"v-card",props:{element:{type:String,default:"article"},titleElement:{type:String,default:"h2"},icon:{type:String,default:null},color:{type:String,default:"darkest-gray"},src:{type:String,default:null},title:{type:String,required:!0},subtitle:{type:String,default:null},body:{type:String,default:null},to:{type:String,default:null},href:{type:String,default:null},label:{type:String,default:null},opacity:{type:String,default:"full",validator(e){return["full","half"].includes(e)}},selected:{type:Boolean,default:null},selectionMode:{type:Boolean,default:!1},options:{type:Object,default:null},disabled:{type:Boolean,default:!1}},data(){return{error:null}},computed:{wrapperTag(){return this.to?"router-link":this.href?"a":"div"},link(){return!(!this.to&&!this.href)},selectable(){return null!==this.selected},selectionIcon(){return this.selected?"check_circle":this.selectionMode&&!this.selected?"radio_button_unchecked":"check_circle"}},methods:{onImageError(e){this.error=e}},watch:{src(){this.error=null}}},se=ie,ne=(i("bd86"),Object(R["a"])(se,ee,te,!1,null,"ac18114e",null));ne.options.__file="card.vue";var ae=ne.exports,oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("details",{staticClass:"v-details",class:e.type,attrs:{open:e.open}},[i("summary",[e._v(e._s(e.title))]),i("div",{staticClass:"content"},[e._t("default")],2)])},le=[],re={name:"v-details",props:{title:{type:String,default:null},open:{type:Boolean,default:!1},type:{type:String,default:"group",validator(e){return["group","break"].includes(e)}}}},ce=re,de=(i("5cc9"),Object(R["a"])(ce,oe,le,!1,null,"7e4b3a94",null));de.options.__file="details.vue";var ue=de.exports,he=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",staticClass:"v-table",style:{minWidth:e.totalWidth+"px"},on:{scroll:e.onScroll}},[i("div",{staticClass:"toolbar",class:{shadow:e.scrolled}},[e.manualSortField?i("div",{staticClass:"manual-sort cell",class:{active:e.manualSorting}},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("enable_manual_sorting"),expression:"$t('enable_manual_sorting')"}],on:{click:e.startManualSorting}},[i("i",{staticClass:"material-icons"},[e._v("sort")])])]):e._e(),e.selectable?i("div",{staticClass:"select cell"},[i("v-checkbox",{attrs:{id:"select-all",checked:e.allSelected,name:"select-all",value:"all"},on:{change:e.selectAll}})],1):e._e(),e._l(e.columns,function(t,s){var n=t.field,a=t.name;return i("div",{key:n,staticClass:"cell",style:{flexBasis:e.widths&&e.widths[n]?e.widths[n]+"px":null}},[e.sortable?i("button",{staticClass:"sort style-4 no-wrap",class:{active:e.sortVal.field===n},on:{click:function(t){e.updateSort(n)}}},[e._v(e._s(e.widths[n]>40?a:null)),e.sortVal.field===n?i("i",{staticClass:"material-icons"},[e._v(e._s(e.sortVal.asc?"arrow_upward":"arrow_downward"))]):e._e()]):i("span",{staticClass:"style-4"},[e._v(e._s(e.widths[n]>40?a:null))]),e.resizeable&&s!==e.columns.length-1?i("div",{staticClass:"drag-handle",attrs:{draggable:""},on:{drag:function(t){e.drag(n,t)},dragstart:e.hideDragImage,dragend:e.dragEnd}},[i("div",{staticClass:"drag-handle-line"})]):e._e()])})],2),i("div",{staticClass:"body",class:{loading:e.loading,dragging:e.dragging}},[e.loading&&0===e.items.length?i("div",{staticClass:"loader"},e._l(50,function(t){return i("div",{key:t,staticClass:"row",style:{height:e.rowHeight+"px"}})})):e._e(),i(e.manualSorting?"draggable":"div",{tag:"component",attrs:{options:{handle:".manual-sort"}},on:{start:e.startSort,end:e.saveSort},model:{value:e.itemsManuallySorted,callback:function(t){e.itemsManuallySorted=t},expression:"itemsManuallySorted"}},[e.link?e._l(e.itemsArray,function(t){return i("div",{key:t[e.primaryKeyField],staticClass:"link row",class:{selected:e.selection&&e.selection.includes(t[e.primaryKeyField])},style:{height:e.rowHeight+"px"},attrs:{tabindex:"0",role:"link"},on:{click:function(i){i.stopPropagation(),e.$router.push(t[e.link])},keyup:function(i){if(!("button"in i)&&e._k(i.keyCode,"enter",13,i.key,"Enter"))return null;i.stopPropagation(),e.$router.push(t[e.link])}}},[e.manualSortField?i("div",{staticClass:"manual-sort cell",class:{active:e.manualSorting},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[i("i",{staticClass:"material-icons"},[e._v("drag_handle")])]):e._e(),e.selectable?i("div",{staticClass:"cell select",on:{click:function(e){e.stopPropagation()}}},[i("v-checkbox",{attrs:{id:"check-"+t[e.primaryKeyField],value:t[e.primaryKeyField],checked:e.selection.includes(t[e.primaryKeyField])},on:{change:function(i){e.toggleCheckbox(t[e.primaryKeyField])}}})],1):e._e(),e._l(e.columns,function(s){var n=s.field,a=s.fieldInfo;return i("div",{key:n,staticClass:"cell",style:{flexBasis:e.widths&&e.widths[n]?e.widths[n]+"px":null}},[""===t[n]||e.$lodash.isNil(t[n])?i("div",{staticClass:"empty"},[e._v("--")]):e.useInterfaces&&!e.$lodash.isNil(t[n])?i("v-ext-display",{attrs:{"interface-type":a.interface,name:n,type:a.type,datatype:a.datatype,options:a.options,value:t[n]}}):[e._v(e._s(t[n]))]],2)})],2)}):e._l(e.itemsArray,function(t){return i("div",{key:t[e.primaryKeyField],staticClass:"row",style:{height:e.rowHeight+"px"}},[e.selectable?i("div",{staticClass:"select",on:{click:function(e){e.stopPropagation()}}},[i("v-checkbox",{attrs:{id:"check-"+t[e.primaryKeyField],value:t[e.primaryKeyField],checked:e.selection.includes(t[e.primaryKeyField])},on:{change:function(i){e.toggleCheckbox(t[e.primaryKeyField])}}})],1):e._e(),e._l(e.columns,function(s){var n=s.field,a=s.fieldInfo;return i("div",{key:n,staticClass:"cell",style:{flexBasis:e.widths&&e.widths[n]?e.widths[n]+"px":null}},[""===t[n]||e.$lodash.isNil(t[n])?i("div",{staticClass:"empty"},[e._v("--")]):e.useInterfaces&&!e.$lodash.isNil(t[n])?i("v-ext-display",{attrs:{"interface-type":a.interface,name:n,type:a.type,options:a.options,value:t[n]}}):[e._v(e._s(t[n]))]],2)})],2)})],2)],1),i("transition",{attrs:{name:"fade"}},[e.lazyLoading?i("div",{staticClass:"lazy-loader"},[i("v-spinner",{attrs:{"line-fg-color":"var(--light-gray)","line-bg-color":"var(--lighter-gray)"}})],1):e._e()])],1)},pe=[],me=(i("ac6a"),{name:"v-table",props:{loading:{type:Boolean,default:!1},lazyLoading:{type:Boolean,default:!1},items:{type:Array,required:!0},height:{type:Number,default:null},columns:{type:Array,required:!0},link:{type:String,default:null},selection:{type:Array,default:null},sortVal:{type:Object,default:null},manualSortField:{type:String,default:null},primaryKeyField:{type:String,required:!0},rowHeight:{type:Number,default:40},columnWidths:{type:Object,default:null},useInterfaces:{type:Boolean,default:!1}},data(){return{widths:{},lastDragXPosition:null,windowHeight:0,scrolled:!1,dragging:!1,manualSorting:!1,itemsManuallySorted:[]}},computed:{allSelected(){const e=this.items.map(e=>e[this.primaryKeyField]).sort(),t=[...this.selection];return t.sort(),this.selection.length>0&&this.$lodash.isEqual(e,t)},selectable(){return Array.isArray(this.selection)},sortable(){return this.$lodash.isObject(this.sortVal)},resizeable(){return this.$lodash.isObject(this.columnWidths)},totalWidth(){return Object.keys(this.widths).map(e=>this.widths[e]).reduce((e,t)=>e+t,0)+30+40},itemsArray(){return this.manualSorting?this.itemsManuallySorted:this.items}},created(){this.initWidths(),this.manualSortField&&this.sortVal&&this.sortVal.field===this.manualSortField&&!0===this.sortVal.asc&&(this.manualSorting=!0,this.itemsManuallySorted=this.items)},watch:{columnWidths(){this.initWidths()},columns(){this.initWidths()},items(e){this.itemsManuallySorted=e}},methods:{selectAll(){if(this.allSelected)return this.$emit("select",[]);const e=this.items.map(e=>e[this.primaryKeyField]);return this.$emit("select",e)},updateSort(e,t){if(this.manualSorting=!1,t){const i={field:e,asc:"asc"===t};return this.$emit("sort",i)}const i={field:e,asc:e===this.sortVal.field?!this.sortVal.asc:"ASC"};this.$emit("sort",i)},toggleCheckbox(e){const t=[...this.selection];this.selection.includes(e)?t.splice(t.indexOf(e),1):t.push(e),this.$emit("select",t)},drag(e,t){const{screenX:i}=t;if(0!==i&&this.lastDragXPosition){const t=i-this.lastDragXPosition,s=this.widths[e]+t;this.widths[e]=s}this.lastDragXPosition=i},dragEnd(){this.lastDragXPosition=0,this.$emit("widths",this.widths)},hideDragImage(e){const t=document.createElement("img");t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.dataTransfer.setDragImage(t,0,0),e.dataTransfer.effectAllowed="move"},initWidths(){const e={};this.columns.forEach(({field:t})=>{e[t]=this.columnWidths&&this.columnWidths[t]||200}),this.widths=e},onScroll(e){const{scrollHeight:t,clientHeight:i,scrollTop:s}=e.srcElement,n=t-i,a=n-s;a<=500&&this.$emit("scroll-end"),this.scrolled=s>0},startManualSorting(){this.manualSorting?this.manualSorting=!1:(this.updateSort(this.manualSortField,"asc"),this.manualSorting=!0)},startSort(){this.dragging=!0},saveSort(){return this.dragging=!1,this.itemsManuallySorted.some(e=>null==e[this.manualSortField])?this.$emit("input",this.itemsManuallySorted.map((e,t)=>({[this.primaryKeyField]:e[this.primaryKeyField],[this.manualSortField]:t+1}))):this.$emit("input",this.itemsManuallySorted.map((e,t)=>({[this.primaryKeyField]:e[this.primaryKeyField],[this.manualSortField]:this.items[t][this.manualSortField]})))}}}),fe=me,ve=(i("5e48"),Object(R["a"])(fe,he,pe,!1,null,"f5a811b0",null));ve.options.__file="table.vue";var _e=ve.exports,ge=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.componentName,{tag:"component",staticClass:"v-ext-input",attrs:{name:e.name,id:e.name,"input-name":e.id,value:e.value,type:e.typeOrDefault,length:e.length,readonly:e.readonly,required:e.required,loading:e.loading,options:e.optionsWithDefaults,"new-item":e.newItem,relation:e.relation,fields:e.fields,values:e.values},on:{input:function(t){e.$emit("input",t)},setfield:function(t){e.$emit("setfield",t)}}},[e._t("default")],2)},ye=[];function be(e){return new Promise((t,i)=>{const s=document.createElement("script"),n=document.createElement("link");function a(){s.remove(),window.__DirectusExtension__=null}function o(){const e=window.__DirectusExtension__;t(e),a()}function l(e){i(e),a()}n.rel="stylesheet",n.href=e.slice(0,-2)+"css",n.onerror=function(){this.remove()},s.onload=o,s.onerror=l,s.src=e,document.body.appendChild(s),document.body.appendChild(n)})}function $e(e){return v["default"].options.components[e]&&Object.keys(v["default"].options.components[e]).length>0}var ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-input",{staticClass:"v-ext-input-fallback",attrs:{value:e.value},on:{input:function(t){e.$emit("input",t)}}})},we=[],Ce={name:"v-ext-input-fallback",props:{value:{type:null,default:""},inputName:{type:String,default:""},name:{type:String,default:""}},created(){null==this.inputName?this.$notify({title:this.$t("no_interface_error",{field:this.$helpers.formatTitle(this.name)}),color:"red",iconMain:"error"}):this.$notify({title:this.$t("extension_error",{ext:this.inputName}),color:"red",iconMain:"error"})}},xe=Ce,Ie=(i("5252"),Object(R["a"])(xe,ke,we,!1,null,"513a03b5",null));Ie.options.__file="input-fallback.vue";var Se=Ie.exports,Ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-spinner",{staticClass:"v-ext-input-loading",attrs:{size:"20","line-fg-color":"var(--lighter-gray)","line-bg-color":"var(--lightest-gray)"}})},Oe=[],Te={name:"v-ext-input-loading"},Fe=Te,Ne=(i("bef4"),Object(R["a"])(Fe,Ee,Oe,!1,null,"3568b105",null));Ne.options.__file="input-loading.vue";var je=Ne.exports,Ae=i("a925"),Me=i("1271");v["default"].use(Ae["a"]);const qe=new Ae["a"]({locale:"en-US",fallbackLocale:"en-US",messages:{"en-US":Me["default"]},dateTimeFormats:{"en-US":Me["dateTimeFormats"]},silentTranslationWarn:!0}),Pe=["en-US"];function De(e){return qe.locale=e,document.querySelector("html").setAttribute("lang",e),e}function Re(e){return qe.locale!==e?Pe.includes(e)?Promise.resolve(De(e)):i("8701")(`./${e}`).then(t=>{return qe.setLocaleMessage(e,t.default),qe.setDateTimeFormat(e,t.dateTimeFormats),Pe.push(e),De(e)}):Promise.resolve(e)}const Le=["en-US","de-DE","fr-FR"],Be={mysql:{CHAR:{length:!0,defaultLength:50,maxLength:255,description:qe.t("datatypes.mysql.CHAR"),fallbackInterface:"text-input"},VARCHAR:{length:!0,defaultLength:255,maxLength:65535,description:qe.t("datatypes.mysql.VARCHAR"),fallbackInterface:"text-input"},TINYTEXT:{description:qe.t("datatypes.mysql.TINYTEXT"),fallbackInterface:"textarea"},TEXT:{description:qe.t("datatypes.mysql.TEXT"),fallbackInterface:"textarea"},MEDIUMTEXT:{description:qe.t("datatypes.mysql.MEDIUMTEXT"),fallbackInterface:"textarea"},LONGTEXT:{description:qe.t("datatypes.mysql.LONGTEXT"),fallbackInterface:"textarea"},TINYINT:{description:qe.t("datatypes.mysql.TINYINT"),fallbackInterface:"toggle"},SMALLINT:{description:qe.t("datatypes.mysql.SMALLINT"),fallbackInterface:"numeric"},MEDIUMINT:{description:qe.t("datatypes.mysql.MEDIUMINT"),fallbackInterface:"numeric"},INT:{description:qe.t("datatypes.mysql.INT"),fallbackInterface:"numeric"},BIGINT:{description:qe.t("datatypes.mysql.BIGINT"),fallbackInterface:"numeric"},DECIMAL:{decimal:!0,description:qe.t("datatypes.mysql.DECIMAL"),defaultDigits:10,maxDigits:65,defaultDecimals:10,maxDecimals:30,fallbackInterface:"numeric"},FLOAT:{decimal:!0,description:qe.t("datatypes.mysql.FLOAT"),defaultDigits:10,defaultDecimals:10,fallbackInterface:"numeric"},DOUBLE:{decimal:!0,description:qe.t("datatypes.mysql.DOUBLE"),defaultDigits:10,defaultDecimals:10,fallbackInterface:"numeric"},DATE:{description:qe.t("datatypes.mysql.DATE"),fallbackInterface:"date"},DATETIME:{description:qe.t("datatypes.mysql.DATETIME"),fallbackInterface:"datetime"},TIME:{description:qe.t("datatypes.mysql.TIME"),fallbackInterface:"time"},TIMESTAMP:{description:qe.t("datatypes.mysql.TIMESTAMP"),fallbackInterface:"time"},YEAR:{description:qe.t("datatypes.mysql.YEAR"),fallbackInterface:"numeric"}}};var Ve={alias:{description:qe.t("fieldtypes.alias"),mysql:{datatypes:null,default:null}},array:{description:qe.t("fieldtypes.array"),mysql:{datatypes:["VARCHAR"],default:"VARCHAR"}},boolean:{description:qe.t("fieldtypes.boolean"),mysql:{datatypes:["TINYINT"],default:"TINYINT"}},date:{description:qe.t("fieldtypes.date"),mysql:{datatypes:["DATE"],default:"DATE"}},datetime:{description:qe.t("fieldtypes.datetime"),mysql:{datatypes:["DATETIME"],default:"DATETIME"}},datetime_created:{description:qe.t("fieldtypes.datetime_created"),mysql:{datatypes:["DATETIME"],default:"DATETIME"}},datetime_updated:{description:qe.t("fieldtypes.datetime_updated"),mysql:{datatypes:["DATETIME"],default:"DATETIME"}},decimal:{description:qe.t("fieldtypes.decimal"),mysql:{datatypes:["DECIMAL","FLOAT","DOUBLE"],default:"DECIMAL"}},time:{description:qe.t("fieldtypes.time"),mysql:{datatypes:["TIME"],default:"TIME"}},file:{description:qe.t("fieldtypes.file"),mysql:{datatypes:["INT"],default:"INT"}},group:{description:qe.t("fieldtypes.group"),mysql:{datatypes:null,default:null}},integer:{description:qe.t("fieldtypes.integer"),mysql:{datatypes:["TINYINT","SMALLINT","MEDIUMINT","INT","BIGINT"],default:"INT"}},json:{description:qe.t("fieldtypes.json"),mysql:{datatypes:["VARCHAR","TINYTEXT","TEXT","MEDIUMTEXT","LONGTEXT"],default:"TEXT"}},lang:{description:qe.t("fieldtypes.lang"),mysql:{datatypes:["CHAR","VARCHAR"],default:"CHAR"}},m2o:{description:qe.t("fieldtypes.m2o"),mysql:{datatypes:["CHAR","VARCHAR","INT"],default:"INT"}},o2m:{description:qe.t("fieldtypes.o2m"),mysql:{datatypes:null,default:null}},sort:{description:qe.t("fieldtypes.sort"),mysql:{datatypes:["TINYINT","SMALLINT","MEDIUMINT","INT","BIGINT"],default:"INT"}},status:{description:qe.t("fieldtypes.status"),mysql:{datatypes:["CHAR","VARCHAR","INT"],default:"VARCHAR"}},string:{description:qe.t("fieldtypes.string"),mysql:{datatypes:["CHAR","VARCHAR","TINYTEXT","TEXT","MEDIUMTEXT","LONGTEXT"],default:"VARCHAR"}},translation:{description:qe.t("fieldtypes.translation"),mysql:{datatypes:null,default:null}},uuid:{description:qe.t("fieldtypes.uuid"),mysql:{datatypes:["VARCHAR"],default:"VARCHAR"}},user_created:{description:qe.t("fieldtypes.user_created"),mysql:{datatypes:["INT"],default:"INT"}},user_updated:{description:qe.t("fieldtypes.user_updated"),mysql:{datatypes:["INT"],default:"INT"}}},Ue={name:"v-ext-input",props:{id:{type:String,default:null},name:{type:String,required:!0},value:{type:null,default:null},type:{type:String,default:null},datatype:{type:String,default:null},length:{type:[String,Number],default:null},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},newItem:{type:Boolean,default:!1},relation:{type:Object,default:null},fields:{type:Object,default:null},values:{type:Object,default:null}},computed:{interfaces(){return this.$store.state.extensions.interfaces},interface(){return null===this.id?this.interfaceFallback:this.interfaces&&this.interfaces[this.id]},databaseVendor(){return this.$store.state.serverInfo.databaseVendor},componentName(){return null===this.id?this.componentNameFallback:`input-${this.id}`},typeOrDefault(){return this.interface?this.type?this.type:this.interface&&this.interface.types[0]:null},optionsWithDefaults(){if(!this.interface)return{};const e=this.$lodash.mapValues(this.interface.options,e=>e.default||null);return{...e,...this.options}},componentNameFallback(){return`input-${this.interfaceFallback.id}`},interfaceFallback(){if(null==this.datatype)return this.interfaces["text-input"];const e=Be[this.databaseVendor][this.datatype].fallbackInterface;return this.interfaces[e]}},watch:{id(){this.registerInterface()}},created(){this.registerInterface()},methods:{registerInterface(){if($e(this.componentName))return;const e=`${this.$api.url}/${this.interface.path.replace("meta.json","input.js")}`;v["default"].component(this.componentName,()=>({component:be(e),error:Se,loading:je}))}}},Ke=Ue,ze=Object(R["a"])(Ke,ge,ye,!1,null,null,null);ze.options.__file="input.vue";var We=ze.exports,He=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.componentName,{tag:"component",staticClass:"v-ext-display",attrs:{name:e.name,value:e.value,type:e.type,length:e.length,readonly:e.readonly,required:e.required,loading:e.loading,options:e.optionsWithDefaults}})},Ge=[],Qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-ext-display-fallback"},[e._v(e._s(e.value))])},Xe=[],Ye={name:"v-ext-display-fallback",props:{value:{type:null,default:""}}},Je=Ye,Ze=Object(R["a"])(Je,Qe,Xe,!1,null,null,null);Ze.options.__file="display-fallback.vue";var et=Ze.exports,tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-spinner",{staticClass:"v-ext-display-loading",attrs:{size:"20","line-fg-color":"var(--lighter-gray)","line-bg-color":"var(--lightest-gray)"}})},it=[],st={name:"v-ext-display-loading"},nt=st,at=(i("fc00"),Object(R["a"])(nt,tt,it,!1,null,"3081834d",null));at.options.__file="display-loading.vue";var ot=at.exports,lt={name:"v-ext-display",props:{interfaceType:{type:String,default:null},name:{type:String,required:!0},value:{type:null,default:null},type:{type:String,default:null},datatype:{type:String,default:null},length:{type:[String,Number],default:null},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},options:{type:Object,default:()=>({})}},components:{VExtDisplayFallback:et},computed:{interfaces(){return this.$store.state.extensions.interfaces},interfaceInfo(){return null===this.interfaceType?this.interfaceFallback:this.interfaces&&this.interfaces[this.interfaceType]},componentName(){return null===this.interfaceType?this.componentNameFallback:`display-${this.interfaceType}`},componentNameFallback(){return`display-${this.interfaceFallback.id}`},databaseVendor(){return this.$store.state.serverInfo.databaseVendor},interfaceFallback(){if(null==this.datatype)return this.interfaces["text-input"];const e=Be[this.databaseVendor][this.datatype].fallbackInterface;return this.interfaces[e]},optionsWithDefaults(){if(!this.interfaceInfo)return{};const e=this.$lodash.mapValues(this.interfaceInfo.options,e=>e.default||null);return{...e,...this.options}}},watch:{id(){this.registerDisplay()}},created(){this.registerDisplay()},methods:{registerDisplay(){if($e(this.componentName))return;const e=`${this.$api.url}/${this.interfaceInfo.path.replace("meta.json","display.js")}`;v["default"].component(this.componentName,()=>({component:be(e),error:et,loading:ot}))}}},rt=lt,ct=Object(R["a"])(rt,He,Ge,!1,null,null,null);ct.options.__file="display.vue";var dt=ct.exports,ut=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.componentName,{tag:"component",staticClass:"v-layout",attrs:{"layout-name":e.viewType,"primary-key-field":e.primaryKeyField,fields:e.fields,items:e.items,"view-options":e.viewOptions,"view-query":e.viewQuery,loading:e.loading,"lazy-loading":e.lazyLoading,selection:e.selection,link:e.link,"sort-field":e.sortField},on:{query:function(t){e.$emit("query",t)},select:function(t){e.$emit("select",t)},options:function(t){e.$emit("options",t)},"next-page":function(t){e.$emit("next-page",t)},input:function(t){e.$emit("input",t)}}})},ht=[],pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.items&&e.columns&&e.primaryKeyField?i("v-table",{staticClass:"v-ext-layout-fallback",attrs:{items:e.items,columns:e.columns,primaryKeyField:e.primaryKeyField,"use-interfaces":!0,link:"__link__"}}):e._e()},mt=[],ft={name:"v-ext-layout-fallback",props:{fields:{type:Object,required:!0},items:{type:Array,required:!0},primaryKeyField:{type:String,required:!0},layoutName:{type:String,default:""}},computed:{columns(){return Object.values(this.fields).map(e=>{return{field:e.field,name:e.name,fieldInfo:e}})}},created(){this.$notify({title:this.$t("extension_error",{ext:this.layoutName}),color:"red",iconMain:"error"})}},vt=ft,_t=Object(R["a"])(vt,pt,mt,!1,null,null,null);_t.options.__file="layout-fallback.vue";var gt=_t.exports,yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-layout-loading"},[i("v-spinner",{staticClass:"spinner",attrs:{"line-fg-color":"var(--light-gray)","line-bg-color":"var(--lighter-gray)"}})],1)},bt=[],$t={name:"v-layout-loading"},kt=$t,wt=Object(R["a"])(kt,yt,bt,!1,null,null,null);wt.options.__file="layout-loading.vue";var Ct=wt.exports,xt={name:"v-layout",props:{fields:{type:Object,required:!0},items:{type:Array,required:!0},viewType:{type:String,required:!0},viewOptions:{type:Object,default:()=>({})},viewQuery:{type:Object,default:()=>({})},selection:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},lazyLoading:{type:Boolean,default:!1},link:{type:String,default:null},sortField:{type:String,default:null}},computed:{layouts(){return this.$store.state.extensions.layouts},layout(){return this.layouts&&this.layouts[this.viewType]},componentName(){return`layout-${this.viewType}`},primaryKeyField(){const e=this.$lodash.filter(this.fields,e=>!0===e.primary_key)[0];return e&&e.field}},watch:{viewType(){this.registerLayout()}},created(){this.registerLayout()},methods:{registerLayout(){if($e(this.componentName))return;if(!this.layout)return void v["default"].component(this.componentName,gt);const e=`${this.$api.url}/${this.layout.path.replace("meta.json","layout.js")}`;v["default"].component(this.componentName,()=>({component:be(e),error:gt,loading:Ct}))}}},It=xt,St=Object(R["a"])(It,ut,ht,!1,null,null,null);St.options.__file="layout.vue";var Et=St.exports,Ot=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.componentName,{tag:"component",staticClass:"v-ext-layout-options",attrs:{"primary-key-field":e.primaryKeyField,fields:e.fields,"view-options":e.viewOptions,loading:e.loading,"view-query":e.viewQuery,selection:e.selection,"layout-name":e.type},on:{query:function(t){e.$emit("query",t)},select:function(t){e.$emit("select",t)},options:function(t){e.$emit("options",t)}}})},Tt=[],Ft=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-ext-layout-options-fallback"})},Nt=[],jt={name:"v-ext-layout-options-fallback",props:{layoutName:{type:String,default:""}},created(){this.$notify({title:this.$t("extension_error",{ext:this.layoutName}),color:"red",iconMain:"error"})}},At=jt,Mt=Object(R["a"])(At,Ft,Nt,!1,null,null,null);Mt.options.__file="layout-options-fallback.vue";var qt=Mt.exports,Pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-listing-options-loading"})},Dt=[],Rt={name:"v-listing-options-loading"},Lt=Rt,Bt=Object(R["a"])(Lt,Pt,Dt,!1,null,null,null);Bt.options.__file="layout-options-loading.vue";var Vt=Bt.exports,Ut={name:"v-ext-layout-options",props:{type:{type:String,required:!0},fields:{type:Object,required:!0},viewOptions:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},viewQuery:{type:Object,default:()=>({})},selection:{type:Array,default:()=>[]}},computed:{layouts(){return this.$store.state.extensions.layouts},layout(){return this.layouts&&this.layouts[this.type]},componentName(){return`layout-options-${this.type}`},primaryKeyField(){if(!this.fields)return null;const e=this.$lodash.find(this.fields,{primary_key:!0});return e?e.field:null}},watch:{type(){this.registerLayoutOptions()}},created(){this.registerLayoutOptions()},methods:{registerLayoutOptions(){if($e(this.componentName))return;if(!this.layout)return void v["default"].component(this.componentName,qt);const e=`${this.$api.url}/${this.layout.path.replace("meta.json","options.js")}`;v["default"].component(this.componentName,()=>({component:be(e),error:qt,loading:Vt}))}}},Kt=Ut,zt=Object(R["a"])(Kt,Ot,Tt,!1,null,null,null);zt.options.__file="layout-options.vue";var Wt=zt.exports,Ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(e.componentName,{tag:"component"},[e._t("default")],2)},Gt=[],Qt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},Xt=[],Yt={name:"v-ext-page-fallback",created(){this.$notify({title:this.$t("extension_error",{ext:this.interfaceName}),color:"red",iconMain:"error"})}},Jt=Yt,Zt=Object(R["a"])(Jt,Qt,Xt,!1,null,null,null);Zt.options.__file="page-fallback.vue";var ei=Zt.exports,ti=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-loading"},[e._v("LOADING")])},ii=[],si={name:"page-loading"},ni=si,ai=Object(R["a"])(ni,ti,ii,!1,null,null,null);ai.options.__file="page-loading.vue";var oi=ai.exports,li={name:"v-ext-page",props:{id:{type:String,required:!0}},computed:{pages(){return this.$store.state.extensions.pages},page(){return this.pages&&this.pages[this.id]},componentName(){return`page-${this.id}`}},watch:{id(){this.registerPage()}},created(){this.registerPage()},methods:{registerPage(){if($e(this.componentName))return;if(!this.page)return void v["default"].component(this.componentName,ei);const e=`${this.$api.url}/${this.page.path.replace("meta.json","page.js")}`;v["default"].component(this.componentName,()=>({component:be(e),error:ei,loading:oi}))}}},ri=li,ci=Object(R["a"])(ri,Ht,Gt,!1,null,null,null);ci.options.__file="page.vue";var di=ci.exports,ui=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.items.error?i("v-error",{attrs:{icon:"warning",color:"danger",title:e.$t("server_error"),body:e.$t("server_error_copy")}}):e.items.fields&&0===Object.keys(e.items.fields).length?i("v-error",{attrs:{icon:"build",title:e.$t("no_fields"),body:e.$t("no_fields_body")}}):"directus_files"===e.collection&&e.items.meta&&0===e.items.meta.total_count?i("v-error",{attrs:{icon:"image",title:e.$t("no_files"),body:e.$t("no_files_body")}}):e.items.meta&&0===e.items.meta.total_count?i("v-error",{attrs:{icon:"web_asset",title:e.$t("empty_collection"),body:e.$t("empty_collection_body")}}):e.items.data&&0===e.items.data.length&&e.items.meta&&0!==e.items.meta.total_count?i("v-error",{attrs:{title:e.$t("no_results"),body:e.$t("no_results_body"),icon:"search"}}):i("v-ext-layout",{attrs:{fields:e.fields,items:e.items.data||[],"view-type":e.viewType,"view-query":e.viewQuery,"view-options":e.viewOptions,selection:e.selectionKeys,loading:e.items.loading,"lazy-loading":e.items.lazyLoading,link:e.links?"__link__":null,"sort-field":e.sortField},on:{input:e.saveItems,select:e.select,query:function(t){e.$emit("query",t)},options:function(t){e.$emit("options",t)},"next-page":e.lazyLoad}})},hi=[];function pi(e){const t={};return e.forEach(e=>{t[`filter[${e.field}][${e.operator}]`]=e.value}),t}var mi={name:"v-items",props:{collection:{type:String,required:!0},filters:{type:Array,default:()=>[]},searchQuery:{type:String,default:""},viewType:{type:String,default:"tabular"},viewOptions:{type:Object,default:()=>({})},viewQuery:{type:Object,default:()=>({})},selection:{type:Array,default:null},links:{type:Boolean,default:!1}},data(){return{items:{meta:null,data:null,loading:!1,error:null,page:0,lazyLoading:!1}}},computed:{allSelected(){const e=this.items.data.map(e=>e[this.primaryKeyField]).sort(),t=[...this.selection];return t.sort(),this.selection.length>0&&this.$lodash.isEqual(e,t)},primaryKeyField(){if(this.fields)return this.$lodash.find(Object.values(this.fields),{primary_key:!0}).field},sortField(){const e=this.$lodash.find(this.fields,{type:"sort"});return e&&e.field||null},statusField(){const e=this.$lodash.find(this.fields,{type:"status"});return e&&e.field||null},userCreatedField(){return this.fields?(this.$lodash.find(Object.values(this.fields),e=>e.type&&"user_created"===e.type.toLowerCase())||{}).field:null},fields(){const e=this.$store.state.collections[this.collection].fields;return this.$lodash.mapValues(e,e=>({...e,name:this.$helpers.formatTitle(e.field)}))||{}},selectionKeys(){return this.selection?this.$lodash.uniq(this.selection.map(e=>e[this.primaryKeyField])):null}},created(){this.hydrate()},watch:{collection(e,t){this.$lodash.isEqual(e,t)||this.hydrate()},viewQuery:{deep:!0,handler(e,t){this.$lodash.isEqual(e,t)||this.getItems()}},filters:{deep:!0,handler(e,t){this.$lodash.isEqual(e,t)||this.getItems()}},searchQuery(e,t){this.$lodash.isEqual(e,t)||this.getItems()}},mounted(){this.$helpers.mousetrap.bind("mod+a",()=>{return this.selectAll(),!1})},beforeDestroy(){this.$helpers.mousetrap.unbind("mod+a")},methods:{hydrate(){this.items.loading||(this.items.data=null,this.items.loading=!1,this.items.error=null,this.getItems())},selectAll(){return this.allSelected?this.$emit("select",[]):this.$emit("select",this.items.data)},getItems(){if(this.items.loading)return;this.items.loading=!0,this.items.error=null,this.items.page=0;const e=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:e}),this.$api.getItems(this.collection,this.formatParams()).then(t=>{this.items.loading=!1,this.items.meta=t.meta,this.$store.dispatch("loadingFinished",e),this.links?this.items.data=t.data.map(e=>({...e,__link__:this.collection.startsWith("directus_")?`/${this.collection.substr(9)}/${e[this.primaryKeyField]}`:`/collections/${this.collection}/${e[this.primaryKeyField]}`})):this.items.data=t.data,this.$emit("fetch",t.meta)}).catch(t=>{console.error(t),this.$store.dispatch("loadingFinished",e),this.items.loading=!1,this.items.error=t})},select(e){this.$emit("select",e.map(e=>this.$lodash.find(this.items.data,{[this.primaryKeyField]:e})))},saveItems(e){if(!e)return;const t=this.primaryKeyField,i=this.$helpers.shortid.generate();if(this.$store.dispatch("loadingStart",{id:i}),Array.isArray(e)){const s=[],n=[];return e.forEach(e=>{e[t]&&null!=e[t]?s.push(e):n.push(e)}),Promise.all([s.length>0?this.$api.updateItems(this.collection,s):null,n.length>0?this.$api.createItems(this.collection,n):null]).then(()=>{return this.$store.dispatch("loadingFinished",i),this.getItems()}).catch(e=>{this.$store.dispatch("loadingFinished",i),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}return e[t]&&null!=e[t]?this.$api.updateItem(this.collection,e[t],e).then(()=>{return this.$store.dispatch("loadingFinished",i),this.getItems()}).catch(e=>{this.$store.dispatch("loadingFinished",i),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})}):this.$api.createItem(this.collection,e).then(()=>{return this.$store.dispatch("loadingFinished",i),this.getItems()}).catch(e=>{this.$store.dispatch("loadingFinished",i),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})},lazyLoad(){if(!this.items.lazyLoading&&this.items.meta.total_count!==this.items.data.length)return this.items.lazyLoading=!0,this.items.error=null,this.items.page=this.items.page+1,this.$api.getItems(this.collection,this.formatParams()).then(e=>{this.items.lazyLoading=!1,this.links?this.items.data=[...this.items.data,...e.data.map(e=>({...e,__link__:this.collection.startsWith("directus_")?`/${this.collection.substr(9)}/${e[this.primaryKeyField]}`:`/collections/${this.collection}/${e[this.primaryKeyField]}`}))]:this.items.data=[...this.items.data,...e.data],this.$emit("fetch",e.meta)}).catch(e=>{console.error(e),this.items.lazyLoading=!1,this.items.error=e})},formatParams(){let e={fields:"*.*",meta:"total_count,result_count",limit:50,offset:50*this.items.page};return Object.assign(e,this.viewQuery),this.searchQuery&&(e.q=this.searchQuery),this.filters&&this.filters.length>0&&(e={...e,...pi(this.filters)}),e.fields&&(e.fields=e.fields.split(",").map(e=>{if("*.*"===e)return e;const t=this.fields[e];return t?(t.type=t.type.toLowerCase(),"m2o"===t.type||"o2m"===t.type||"m2m"===t.type||"translation"===t.type?e.endsWith(".*.*")?e:e+".*.*":e):null}).filter(e=>e),this.sortField&&e.fields.push(this.sortField),this.statusField&&e.fields.push(this.statusField),this.userCreatedField&&e.fields.push(this.userCreatedField),!1===e.fields.includes(this.primaryKeyField)&&e.fields.push(this.primaryKeyField)),e}}},fi=mi,vi=Object(R["a"])(fi,ui,hi,!1,null,null,null);vi.options.__file="items.vue";var _i=vi.exports,gi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return 0===e.groupedFields.length?i("v-error",{attrs:{title:e.$t("no_fields"),body:e.$t("no_fields_body"),icon:"error_outline"}}):i("form",{staticClass:"v-form flex-group",on:{submit:function(e){e.preventDefault()}}},e._l(e.groupedFields,function(t){return i("div",{key:t.field,class:[e.isGroup(t)?null:"col-"+(t.width||4),e.isGroup(t)?"group":"field"]},[e.isGroup(t)?i("v-group",{attrs:{values:e.values,field:t,readonly:e.readonly,"batch-mode":e.batchMode,"active-fields":e.activeFields,"new-item":e.newItem},on:{activate:e.activateField,deactivate:e.deactivateField,"stage-value":function(t){e.$emit("stage-value",t)}}}):i("v-field",{attrs:{field:t,values:e.values,fields:e.fields,readonly:e.isReadonly(t),blocked:e.batchMode&&!e.activeFields.includes(t.field),"batch-mode":e.batchMode,"new-item":e.newItem},on:{activate:e.activateField,deactivate:e.deactivateField,"stage-value":function(t){e.$emit("stage-value",t)}}})],1)}))},yi=[],bi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-field"},[i(e.fieldset?"fieldset":"p",{tag:"component"},[i("div",[i("div",{staticClass:"heading"},[!1===e.hideLabel?[i("div",{staticClass:"label"},[i(e.fieldset?"legend":"label",{tag:"component",attrs:{for:e.field.field}},[e._v("\n              "+e._s(e.field.name||e.$helpers.formatTitle(e.field.field))),!0===e.field.required||"1"===e.field.required?i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("required"),expression:"$t('required')"}],staticClass:"material-icons"},[e._v("star")]):e._e()]),e.batchMode?i("label",{staticClass:"batch-label"},[i("v-toggle",{attrs:{value:!e.blocked},on:{input:function(t){e.$emit(e.blocked?"activate":"deactivate",e.field.field)}}})],1):e._e()],1)]:e._e(),!e.readonly&&e.field.note?i("small",{domProps:{innerHTML:e._s(e.$helpers.snarkdown(e.field.note))}}):e._e()],2),i("div",{staticClass:"field-wrapper"},[i("v-ext-input",{attrs:{id:e.field.interface,name:e.field.field,required:!0===e.field.required||"1"===e.field.required,readonly:e.readonly||e.blocked,options:e.field.options,type:e.field.type,datatype:e.field.datatype,value:e.values[e.field.field],relation:e.relation,fields:e.fields,values:e.values,length:e.field.length,"new-item":e.newItem},on:{input:function(t){!e.readonly&&e.$emit("stage-value",{field:e.field.field,value:t})},setfield:function(t){!e.readonly&&e.$emit("stage-value",{field:t.field,value:t.value})}}}),e.blocked?i("div",{staticClass:"blocker",on:{click:function(t){e.$emit("activate",e.field.field)}}}):e._e()],1)])])],1)},$i=[],ki={name:"v-field",props:{field:{type:Object,required:!0},values:{type:Object,required:!0},readonly:{type:Boolean,default:!1},blocked:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},fields:{type:Object,required:!0},newItem:{type:Boolean,default:!1}},computed:{fieldset(){const e=this.$store.state.extensions.interfaces[this.field.interface];return e&&e.fieldset||!1},hideLabel(){const e=this.field.interface,t=this.$store.state.extensions.interfaces[e];return!!t&&(!(!t||!t.hideLabel)&&t.hideLabel)},relation(){const{collection:e,field:t,type:i}=this.field;return"m2o"===i.toLowerCase()?this.$store.getters.m2o(e,t):"o2m"===i.toLowerCase()?this.$store.getters.o2m(e,t):"translation"===i.toLowerCase()?this.$store.getters.o2m(e,t):null}}},wi=ki,Ci=(i("9eb6"),Object(R["a"])(wi,bi,$i,!1,null,"1f188dfe",null));Ci.options.__file="field.vue";var xi=Ci.exports,Ii=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-ext-input",{staticClass:"v-group",attrs:{id:e.field.field,name:e.field.field,options:e.field.options,type:e.field.type}},[i("div",{staticClass:"flex-group"},e._l(e.field.children,function(t){return i("div",{key:t.field,class:[e.isGroup(t)?null:"col-"+t.width,e.isGroup(t)?"group":"field"]},[e.isGroup(t)?i("v-group",{attrs:{values:e.values,field:t,"new-item":e.newItem},on:{"stage-value":function(t){e.$emit("stageValue",t)}}}):i("v-field",{attrs:{readonly:e.readonly,values:e.values,field:t,blocked:e.batchMode&&!e.activeFields.includes(e.field.field),"batch-mode":e.batchMode,"new-item":e.newItem},on:{activate:function(t){e.$emit("activate",t)},deactivate:function(t){e.$emit("deactivate",t)},"stage-value":function(t){e.$emit("stageValue",t)}}})],1)}))])},Si=[],Ei={name:"v-group",components:{VField:xi},props:{values:{type:Object,required:!0},field:{type:Object,required:!0},readonly:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},activeFields:{type:Array,default:()=>[]}},methods:{isGroup(e){return e.children&&Array.isArray(e.children)}}},Oi=Ei,Ti=Object(R["a"])(Oi,Ii,Si,!1,null,null,null);Ti.options.__file="group.vue";var Fi=Ti.exports,Ni=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"error"}},[i("div",{staticClass:"v-error"},[i("i",{staticClass:"material-icons",class:e.color},[e._v(e._s(e.icon))]),i("h2",{staticClass:"style-1"},[e._v(e._s(e.title))]),i("p",[e._v(e._s(e.body))])])])},ji=[],Ai={name:"v-error",props:{color:{type:String,default:"accent",validator(e){return["accent","secondary","success","warning","danger"].includes(e)}},icon:{type:String,required:!0},title:{type:String,required:!0},body:{type:String,required:!0}}},Mi=Ai,qi=(i("e8ae"),Object(R["a"])(Mi,Ni,ji,!1,null,"527bb912",null));qi.options.__file="error.vue";var Pi=qi.exports;const Di={create:"none",read:"none",update:"none",delete:"none",comment:"none",explain:"none",status_blacklist:[],read_field_blacklist:[],write_field_blacklist:[]},Ri={create:"full",read:"full",update:"full",delete:"full",comment:"full",explain:"full",status_blacklist:[],read_field_blacklist:[],write_field_blacklist:[]};var Li={name:"v-form",components:{VField:xi,VGroup:Fi,VError:Pi},props:{fields:{type:Object,required:!0},values:{type:Object,required:!0},readonly:{type:Boolean,default:!1},batchMode:{type:Boolean,default:!1},permissions:{type:Object,default:()=>Ri},newItem:{type:Boolean,default:!1}},data(){return{activeFields:[]}},computed:{collection(){return Object.values(this.fields)[0].collection},groupedFields(){const e=Object.values(this.fields).filter(e=>!1===this.permissions.read_field_blacklist.includes(e.field)),t=e.filter(e=>e.type&&"group"===e.type.toLowerCase()).map(e=>({...e,children:[]})),i=e.filter(e=>e.type&&"group"!==e.type.toLowerCase());return i.forEach(e=>{if(null!=e.group){const i=this.$lodash.findIndex(t,t=>t.id===e.group);return t[i].children.push(e)}return t.push(e)}),t.filter(e=>!1===e.hidden_detail||"0"==e.hidden_detail).sort((e,t)=>{return e.sort==t.sort?0:null===e.sort?1:null===t.sort?-1:e.sort>t.sort?1:-1})}},methods:{isGroup(e){return e.children&&Array.isArray(e.children)},activateField(e){this.batchMode&&(this.activeFields=[...this.activeFields,e])},deactivateField(e){this.batchMode&&(this.activeFields=this.activeFields.filter(t=>t!==e),this.$emit("unstage-value",e))},isReadonly(e){return!!this.readonly||(!0===e.readonly||"1"===e.readonly||1===e.readonly||!!this.permissions.write_field_blacklist.includes(e.field))}}},Bi=Li,Vi=(i("cae2"),Object(R["a"])(Bi,gi,yi,!1,null,null,null));Vi.options.__file="form.vue";var Ui=Vi.exports,Ki=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"form-button style-btn",class:[e.bg||"no-bg",{fullwidth:e.fullwidth,loading:e.loading},e.color],attrs:{type:e.type,disabled:e.disabled||e.loading},on:{click:function(t){e.$emit("click")}}},[e.icon&&!e.loading?i("i",{staticClass:"material-icons"},[e._v(e._s(e.icon))]):e._e(),e.loading?i("v-spinner",{staticClass:"spinner",attrs:{"line-size":2,size:"13","line-foreground-color":"#fff","line-background-color":"var(--darkest-gray)"}}):e._e(),e._t("default")],2)},zi=[],Wi={name:"v-button",props:{fullwidth:{type:Boolean,default:!1},icon:{type:String,default:""},type:{type:String,default:""},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},color:{type:String,default:"white",validator:e=>["white","black"].includes(e)},bg:{type:String,default:"action",validator:e=>["action","secondary","warning","danger"].includes(e)}}},Hi=Wi,Gi=(i("6671"),Object(R["a"])(Hi,Ki,zi,!1,null,"8c40af5e",null));Gi.options.__file="button.vue";var Qi=Gi.exports,Xi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"form-checkbox"},[i("input",{attrs:{id:e.id,type:"checkbox"},domProps:{checked:e.shouldBeChecked,value:e.value},on:{change:e.updateInput}}),i("label",{staticClass:"no-wrap",attrs:{for:e.id}},[i("i",{staticClass:"material-icons"},[e._v(e._s(e.shouldBeChecked?"check_box":"check_box_outline_blank"))]),e._v("\n    "+e._s(e.label)+"\n  ")])])},Yi=[],Ji={name:"form-checkbox",model:{prop:"modelValue",event:"change"},props:{id:{type:String,default:""},value:{type:[String,Number],required:!0},modelValue:{type:null,default:!1},label:{type:String,default:""},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},checked:{type:Boolean,default:!1}},computed:{shouldBeChecked(){return Array.isArray(this.modelValue)?this.modelValue.includes(this.value):this.modelValue===this.trueValue||!0===this.checked}},methods:{updateInput(e){const t=e.target.checked;if(Array.isArray(this.modelValue)){const e=[...this.modelValue];t?e.push(this.value):e.splice(e.indexOf(this.value),1),this.$emit("change",e)}else this.$emit("change",t?this.trueValue:this.falseValue)}}},Zi=Ji,es=(i("5a56"),Object(R["a"])(Zi,Xi,Yi,!1,null,"8fba0358",null));es.options.__file="checkbox.vue";var ts=es.exports,is=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-input",class:{"icon-left":e.iconLeft,"icon-right":e.iconRight}},[i("input",{ref:"input",class:{charactercount:e.charactercount},attrs:{type:e.type,autocomplete:e.autocomplete,max:e.max,maxlength:e.maxlength,min:e.min,minlength:e.minlength,name:e.name,placeholder:e.placeholder,required:e.required,readonly:e.readonly||e.disabled,spellcheck:e.spellcheck,id:e.id,step:e.step},domProps:{value:e.value},on:{keyup:function(t){e.$emit("keyup",t)},keydown:function(t){e.$emit("keydown",t)},input:function(t){e.$emit("input",t.target.value)}}}),e.iconLeft?i("i",{staticClass:"material-icons",class:e.iconLeftColor},[e._v(e._s(e.iconLeft))]):e._e(),e.iconRight?i("i",{staticClass:"material-icons",class:e.iconRightColor},[e._v(e._s(e.iconRight))]):e._e(),e.charactercount?i("span",[e._v(e._s(e.charsRemaining))]):e._e()])},ss=[],ns={name:"v-input",props:{type:{type:String,default:"text"},autocomplete:{type:String,default:"on"},autofocus:{type:Boolean,default:!1},max:{type:[Number,Boolean,String],default:null},maxlength:{type:[Number,Boolean,String],default:null},min:{type:[Number,Boolean,String],default:null},minlength:{type:[Number,Boolean,String],default:null},name:{type:String,default:""},placeholder:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!0},id:{type:String,default:""},value:{type:null,default:""},step:{type:[String,Number],default:1},iconLeft:{type:String,default:""},iconLeftColor:{type:String,default:null},iconRight:{type:String,default:""},iconRightColor:{type:String,default:null},valid:{type:Boolean,default:!0},charactercount:{type:Boolean,default:!1}},computed:{charsRemaining(){return this.maxlength?this.maxlength-this.value.length:null}},mounted(){this.autofocus&&this.$refs.input.focus()}},as=ns,os=(i("9582"),Object(R["a"])(as,is,ss,!1,null,"43d969dc",null));os.options.__file="input.vue";var ls=os.exports,rs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-radio"},[i("input",{attrs:{id:e.id,name:e.name,disabled:e.disabled,type:"radio"},domProps:{checked:e.shouldBeChecked,value:e.value},on:{change:e.updateInput}}),i("label",{attrs:{for:e.id}},[e._v(e._s(e.label))])])},cs=[],ds={model:{prop:"modelValue",event:"change"},props:{name:{type:String,required:!0},id:{type:String,required:!0},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},value:{type:String,required:!0},modelValue:{type:String,default:""},label:{type:String,required:!0}},computed:{shouldBeChecked(){return this.modelValue===this.value}},methods:{updateInput(){this.$emit("change",this.value)}}},us=ds,hs=(i("d33e"),Object(R["a"])(us,rs,cs,!1,null,"39799d04",null));hs.options.__file="radio.vue";var ps=hs.exports,ms=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-select",class:{icon:e.icon}},[e.other?i("select",{attrs:{disabled:e.disabled||e.readonly,id:e.otherActive?null:e.id},domProps:{value:e.value},on:{change:function(t){e.change(t.target.value)}}},[i("optgroup",{attrs:{label:e.$t("values")}},e._l(e.parsedOptions,function(t,s){return i("option",{key:s,domProps:{value:s}},[e._v(e._s(t))])})),i("optgroup",{attrs:{label:e.$t("other")}},[i("option",{domProps:{value:e.customValue||"__other",selected:e.otherActive}},[e._v(e._s(e.customValue.length?e.customValue:e.$t("enter_value")))])])]):i("select",{ref:"select",attrs:{disabled:e.disabled||e.readonly,id:e.otherActive?null:e.id},domProps:{value:e.value},on:{change:function(t){e.change(t.target.value)}}},[e.placeholder?i("option",{ref:"default",attrs:{selected:"",disabled:"",value:""}},[e._v("\n      "+e._s(e.placeholder)+"\n    ")]):e._e(),e._l(e.parsedOptions,function(t,s){return i("option",{key:s,domProps:{value:s,selected:e.value==s}},[e._v(e._s(t))])})],2),e.otherActive?i("input",{ref:"input",attrs:{type:e.type,id:e.id,placeholder:e.placeholder,autofocus:""},domProps:{value:e.customValue},on:{input:e.changeCustom}}):e._e(),i("div",{staticClass:"value"},[e.icon?i("i",{staticClass:"material-icons"},[e._v(e._s(e.icon))]):e._e(),e.placeholder&&!e.value?i("span",{staticClass:"placeholder"},[e._v(e._s(e.placeholder))]):e._e(),i("span",{staticClass:"no-wrap"},[e._v(e._s(e.parsedOptions[e.value]))])]),i("i",{staticClass:"material-icons chevron"},[e._v("arrow_drop_down")])])},fs=[],vs={name:"v-select",props:{disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},name:{type:String,default:""},id:{type:String,default:""},value:{type:[String,Number],default:""},other:{type:Boolean,default:!1},icon:{type:String,default:""},type:{type:String,default:""},options:{type:[Object,String],required:!0},placeholder:{type:String,default:""},defaultValue:{type:Boolean,default:!1}},data(){return{otherActive:!1,customValue:""}},computed:{parsedOptions(){return"string"===typeof this.options?JSON.parse(this.options):this.options}},methods:{change(e){if(e===this.customValue||"__other"===e)return this.$emit("input",this.customValue),void(this.otherActive=!0);this.otherActive=!1,this.$emit("input",e),!0===this.defaultValue&&(this.$refs.default.setAttribute("selected","selected"),this.$refs.select.value="")},changeCustom(e){this.customValue=e.target.value,this.$emit("input",this.customValue)}}},_s=vs,gs=(i("d3a9"),Object(R["a"])(_s,ms,fs,!1,null,"e4224ebe",null));gs.options.__file="select.vue";var ys=gs.exports,bs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-simple-select"},[i("select",{ref:"selectElement",attrs:{disabled:e.disabled},domProps:{value:e.value},on:{change:e.stageValue}},[i("option",{attrs:{disabled:"",value:""},domProps:{selected:null==e.value}},[e._v(e._s(e.placeholder||"--"))]),e._t("default")],2),i("div",{staticClass:"preview"},[e.value?[e._v(e._s(e.valueText))]:i("span",{staticClass:"placeholder"},[e._v(e._s(e.placeholder||"--"))]),i("i",{staticClass:"material-icons"},[e._v("arrow_drop_down")])],2)])},$s=[],ks={name:"v-simple-select",props:{value:{type:String,default:null},placeholder:{type:String,default:null},disabled:{type:Boolean,default:!1}},data(){return{valueText:""}},methods:{stageValue(e){this.$emit("input",e.target.value),this.valueText=e.target.options[e.target.selectedIndex].text},getValueText(){const e=this.$refs.selectElement;this.valueText=e.options[e.selectedIndex].text||this.value}},mounted(){this.getValueText()},watch:{value(){this.getValueText()}}},ws=ks,Cs=(i("4aaa"),Object(R["a"])(ws,bs,$s,!1,null,"12c0339e",null));Cs.options.__file="simple-select.vue";var xs=Cs.exports,Is=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-slider"},[i("div",{staticClass:"input"},[i("input",{attrs:{id:e.id,name:e.id,min:e.min,max:e.max,step:e.step,type:"range"},domProps:{value:e.value},on:{input:function(t){e.$emit("input",Number(t.target.value))}}}),i("div",{ref:"track",staticClass:"track-wrapper"},[i("div",{staticClass:"track-fill",style:{transform:"scaleX("+e.progress+")"}})])]),i("output",{class:{"output-shown":e.alwaysShowOutput},attrs:{for:e.id}},[e._v(e._s(e.valueOrDefault)+" "+e._s(e.unit))])])},Ss=[],Es={name:"v-slider",props:{id:{type:String,default:null},value:{type:Number,required:!0},min:{type:Number,default:0},max:{type:Number,required:!0},step:{type:[Number,String],default:1},unit:{type:String,default:null},alwaysShowOutput:{type:Boolean,default:!1}},data(){return{valuePos:0}},computed:{valueOrDefault(){return null==this.value?(this.max-this.min)/2:this.value},progress(){return Math.round((this.valueOrDefault-this.min)/(this.max-this.min)*100)/100}}},Os=Es,Ts=(i("170c"),Object(R["a"])(Os,Is,Ss,!1,null,"15e8ba1b",null));Ts.options.__file="slider.vue";var Fs=Ts.exports,Ns=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("textarea",{staticClass:"v-textarea",attrs:{cols:e.cols,disabled:e.disabled,maxlength:e.maxlength,minlength:e.minlength,name:e.name,id:e.id,placeholder:e.placeholder,readonly:e.readonly,required:e.required,rows:e.rows,spellcheck:e.spellcheck,wrap:e.wrap,autofocus:e.autofocus},domProps:{value:e.value},on:{keydown:function(t){e.$emit("keydown",t.target.value)},input:function(t){e.$emit("input",t.target.value)}}})},js=[],As={name:"v-textarea",props:{cols:{type:Number,default:20},disabled:{type:Boolean,default:!1},maxlength:{type:Number,default:null},minlength:{type:Number,default:null},name:{type:String,default:null},id:{type:String,default:null},placeholder:{type:String,default:null},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},rows:{type:Number,default:null},spellcheck:{type:Boolean,default:null},wrap:{type:String,default:null},value:{type:String,default:null},autofocus:{type:String,default:null}}},Ms=As,qs=(i("5fd0"),Object(R["a"])(Ms,Ns,js,!1,null,"3a21ccda",null));qs.options.__file="textarea.vue";var Ps=qs.exports,Ds=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-toggle",class:{disabled:e.disabled},on:{click:e.emitValue}},[i("input",{attrs:{type:"checkbox",id:e.id,disabled:e.disabled},domProps:{checked:e.value},on:{change:function(t){e.$emit("input",!e.value)}}}),i("div",{staticClass:"switch-track",class:{active:e.value}}),i("div",{staticClass:"switch-thumb",class:{active:e.value}})])},Rs=[],Ls={name:"v-toggle",props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},methods:{emitValue(){this.disabled||this.$emit("input",!this.value)}}},Bs=Ls,Vs=(i("4e2c"),Object(R["a"])(Bs,Ds,Rs,!1,null,"7bbce514",null));Vs.options.__file="toggle.vue";var Us=Vs.exports,Ks=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-modal-base",{attrs:{message:e.message},on:{cancel:function(t){e.$emit("confirm")}}},[i("div",{staticClass:"buttons",on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.$emit("confirm")}}},[i("v-button",{staticClass:"confirm",on:{click:function(t){e.$emit("confirm")}}},[e._v(e._s(e.confirmText||e.$t("ok")))])],1)])},zs=[],Ws=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"slide"}},[i("div",{staticClass:"v-modal-base"},[i("div",{staticClass:"mask",on:{click:function(t){e.$emit("cancel")}}}),i("div",{staticClass:"wrapper"},[i("aside",{staticClass:"modal"},[i("p",[e._v(e._s(e.message))]),e._t("default")],2)])])])},Hs=[],Gs={name:"v-modal-base",props:{message:{type:String,required:!0}},mounted(){this.$helpers.disableBodyScroll(this.$refs.modal)},beforeDestroy(){this.$helpers.enableBodyScroll(this.$refs.modal)}},Qs=Gs,Xs=(i("619b"),Object(R["a"])(Qs,Ws,Hs,!1,null,"156e4bdf",null));Xs.options.__file="modal-base.vue";var Ys=Xs.exports,Js={name:"v-alert",props:{message:{type:String,required:!0},confirmText:{type:String,default:null}},components:{VModalBase:Ys}},Zs=Js,en=(i("49bd"),Object(R["a"])(Zs,Ks,zs,!1,null,"3e550904",null));en.options.__file="alert.vue";var tn=en.exports,sn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-modal-base",{attrs:{message:e.message},on:{cancel:function(t){e.$emit("cancel")}}},[i("div",{staticClass:"buttons",on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.$emit("cancel")}}},[i("button",{staticClass:"cancel",on:{click:function(t){e.$emit("cancel")}}},[e._v(e._s(e.cancelText||e.$t("cancel")))]),i("v-button",{staticClass:"confirm",attrs:{bg:e.color},on:{click:function(t){e.$emit("confirm")}}},[e.loading?[i("v-spinner",{attrs:{size:20,"line-size":2}})]:[e._v(e._s(e.confirmText||e.$t("ok")))]],2)],1)])},nn=[],an={name:"v-confirm",props:{message:{type:String,required:!0},confirmText:{type:String,default:null},cancelText:{type:String,default:null},loading:{type:Boolean,default:!1},color:{type:String,default:"action"}},components:{VModalBase:Ys}},on=an,ln=(i("04b0"),Object(R["a"])(on,sn,nn,!1,null,"fcd86de2",null));ln.options.__file="confirm.vue";var rn=ln.exports,cn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"slide"}},[i("div",{staticClass:"v-modal"},[i("div",{staticClass:"modal-mask",class:e.actionRequired?null:"pointer",on:{click:function(t){!e.actionRequired&&e.$emit("close")}}}),i("div",{staticClass:"modal-wrapper"},[i("aside",{ref:"modal",staticClass:"modal-container",class:{"full-size":e.fullSize},attrs:{"aria-labelledby":"modal-title","aria-describedby":"modal-description",role:"dialog"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;!e.actionRequired&&e.$emit("close")}}},[i("div",{attrs:{role:"document"}},[i("div",{staticClass:"screen-reader-offscreen",attrs:{id:"modal-description"}},[e._v("\n            "+e._s(e.$t("dialog_beginning"))+" "+e._s(e.actionRequired?null:e.$t("esc_cancel"))+"\n          ")]),e.title?i("header",[i("h1",{staticClass:"style-1",attrs:{id:"modal-title"}},[e._v(e._s(e.title))]),e.actionRequired?e._e():i("button",{on:{click:function(t){e.$emit("close")}}},[i("i",{staticClass:"material-icons"},[e._v("close")])])]):e._e(),e.tabs?i("div",{staticClass:"tabs"},e._l(e.tabs,function(t,s){return i("button",{key:s,class:{active:e.activeTab===s},attrs:{disabled:t.disabled},on:{click:function(t){e.$emit("tab",s)}}},[e._v(e._s(t.text))])})):e._e(),i("div",{ref:"tabsBody",staticClass:"body"},[e.tabs?e._l(e.tabs,function(t,s){return e.activeTab===s?i("div",{key:"tab-"+s,staticClass:"tab"},[e._t(s)],2):e._e()}):e._t("default")],2),i("div",{staticClass:"footer",class:{"action-required":e.actionRequired}},[e.actionRequired?e._e():i("button",{on:{click:function(t){e.$emit("close")}}},[e._v(e._s(e.$t("cancel")))]),e._l(e.buttons,function(t,s){return i("v-button",{key:s,staticClass:"confirm",attrs:{loading:t.loading||!1,disabled:t.disabled||!1},on:{click:function(t){e.$emit(s)}}},[e._v(e._s(t.text))])})],2)])])])])])},dn=[],un=i("c740"),hn={name:"v-modal",props:{actionRequired:{type:Boolean,default:!1},title:{type:String,default:null},buttons:{type:Object,default:()=>({})},tabs:{type:Object,default:null},activeTab:{type:String,default:null},fullSize:{type:Boolean,default:!1}},mounted(){Object(un["disableBodyScroll"])(this.$refs.modal)},beforeDestroy(){Object(un["enableBodyScroll"])(this.$refs.modal)},watch:{activeTab(){setTimeout(()=>{this.$refs.tabsBody.querySelector("input").focus()},0)}}},pn=hn,mn=(i("d4cb"),Object(R["a"])(pn,cn,dn,!1,null,"78c97736",null));mn.options.__file="modal.vue";var fn=mn.exports,vn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-modal-base",{attrs:{message:e.message},on:{cancel:function(t){e.$emit("cancel")}}},[i("div",{staticClass:"v-prompt",on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.$emit("cancel")}}},[e.multiline?i("v-textarea",{staticClass:"input multiline",attrs:{autofocus:"",placeholder:e.placeholder,value:e.value},on:{input:function(t){e.$emit("input",t)}}}):i("v-input",{staticClass:"input",attrs:{autofocus:"",value:e.value,placeholder:e.placeholder},on:{input:e.emitValue,keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$emit("confirm")}}}),i("div",{staticClass:"buttons"},[i("button",{staticClass:"cancel",on:{click:function(t){e.$emit("cancel")}}},[e._v(e._s(e.cancelText||e.$t("cancel")))]),i("v-button",{staticClass:"confirm",attrs:{loading:e.loading,disabled:e.required&&e.disabled},on:{click:function(t){e.$emit("confirm")}}},[e._v(e._s(e.confirmText||e.$t("ok")))])],1)],1)])},_n=[],gn={name:"v-prompt",props:{message:{type:String,required:!0},confirmText:{type:String,default:null},cancelText:{type:String,default:null},value:{type:String,default:null},multiline:{type:Boolean,default:!1},required:{type:Boolean,default:!1},placeholder:{type:String,default:""},loading:{type:Boolean,default:!1},safe:{type:Boolean,default:!1}},components:{VModalBase:Ys},computed:{disabled(){return null==this.value||0===this.value.length}},methods:{emitValue(e){this.safe&&(e=e.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w_]+/g,"").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"")),this.$emit("input",e)}}},yn=gn,bn=(i("0182"),Object(R["a"])(yn,vn,_n,!1,null,"6df5796c",null));bn.options.__file="prompt.vue";var $n=bn.exports,kn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",{staticClass:"v-header"},[i("button",{staticClass:"nav-toggle",attrs:{disabled:e.navActive},on:{click:e.activateNav}},[i("i",{staticClass:"material-icons"},[e._v("menu")])]),i("div",{staticClass:"title"},[e.title?i("h1",[e._v(e._s(e.title))]):i("ol",{staticClass:"breadcrumb"},e._l(e.breadcrumb||e.defaultBreadcrumb,function(t,s){var n=t.name,a=t.path,o=t.color;return void 0===o&&(o=null),i("li",{key:a},[s!==(e.breadcrumb||e.defaultBreadcrumb).length-1?[i("router-link",{style:{color:o?"var(--"+o+")":null},attrs:{to:a}},[e._v(e._s(n))])]:i("h1",{style:{color:o?"var(--"+o+")":null}},[e._v(e._s(n))])],2)})),e._t("title")],2),e._t("default"),e.infoToggle?i("v-header-button",{attrs:{label:e.$t("info"),icon:"info","no-background":""},on:{click:e.toggleInfo}}):e._e(),e._t("buttons")],2)},wn=[];const Cn="🔒 Login Pending",xn="🔒✅ Login Successful",In="🔒❌ Login Failed",Sn="🔒 Logout",En="🔒 Refresh Token",On="🔒 Remove Auth Error",Tn="🔒 Change API",Fn="🔖 Set Bookmarks",Nn="🔖 Add Bookmark",jn="🔖 Delete Bookmark",An="🗄 Set Collections",Mn="🗄 Add Collection",qn="🗄 Remove Collection",Pn="🗄 Update Collection",Dn="📝 Discard Changes",Rn="📝 Item Saved",Ln="📝 Start Editing",Bn="📝 Unstage Value",Vn="📝 Stage Value",Un="📌 Add Field",Kn="📌 Update Field",zn="📌 Update Fields",Wn="📌 Remove Field",Hn="📦 Set Interfaces",Gn="📦 Set Layouts",Qn="📦 Set Pages",Xn="🏪 Store Hydrated",Yn="🏪❌ Store Hydration Failed",Jn="🙅🏻‍♂️ Set Permissions",Zn="🙅🏻‍♂️ Add Permissions",ea="⏱ Latency Check",ta="⏳ Queue Request",ia="⏳ Remove Request from Queue",sa="👨🏻‍💻✅ Set Current User",na="👨🏻‍💻 Current User Updated",aa="❤️ Set Relations",oa="❤️ Add Relation",la="❤️ Update Relation",ra="⚙️ Set Global Settings",ca="🔮 Set Server Info",da="🎨 Toggle Nav Sidebar",ua="🎨 Toggle Info Sidebar",ha="👯‍♀️ Set Users",pa="💬 Push Notification",ma="💬❌ Remove Notification";var fa={name:"v-header",props:{title:{type:String,default:null},breadcrumb:{type:Array,default:null},infoToggle:{type:Boolean,default:!1}},computed:{defaultBreadcrumb(){const e=this.$route.path.split("/").filter(e=>e);return e.map((t,i)=>{let s="";for(let n=0;n<i;n++)s+=`/${e[n]}`;return s+=`/${t}`,{name:this.$helpers.formatTitle(t),path:s}})},navActive(){return this.$store.state.sidebars.nav}},methods:{activateNav(){this.$store.commit(da,!0)},toggleInfo(){this.$store.commit(ua)}}},va=fa,_a=(i("9a48"),i("aef9"),Object(R["a"])(va,kn,wn,!1,null,"1ad65c60",null));_a.options.__file="header.vue";var ga=_a.exports,ya=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-header-button"},[Object.keys(e.options).length>0?i("div",{staticClass:"options"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.choice,expression:"choice"}],attrs:{disabled:e.disabled},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.choice=t.target.multiple?i:i[0]},e.emitChange]}},[i("option",{attrs:{disabled:"",selected:"",value:""}},[e._v("\n        "+e._s(e.$t("more_options"))+"\n      ")]),e._l(e.options,function(t,s){return i("option",{key:s,domProps:{value:s}},[e._v("\n        "+e._s(t)+"\n      ")])})],2),i("i",{staticClass:"material-icons"},[e._v("more_horiz")])]):e._e(),i(e.disabled?"button":e.to?"router-link":"button",{tag:"component",class:{attention:e.alert,"no-bg":e.noBackground},style:{backgroundColor:e.noBackground||e.disabled?null:"var(--"+e.color+")",color:"var(--"+e.color+")"},attrs:{disabled:e.disabled,to:e.to||null},on:{click:function(t){!e.to&&e.$emit("click",t)}}},[e.loading?i("v-spinner",{attrs:{size:24,"line-fg-color":"white","line-bg-color":"transparent"}}):i("i",{staticClass:"material-icons"},[e._v(e._s(e.icon))]),e.label?i("span",{staticClass:"style-btn"},[e._v(e._s(e.label))]):e._e()],1)],1)},ba=[],$a={name:"v-header-button",props:{icon:{type:String,required:!0},color:{type:String,default:"accent"},label:{type:String,default:null},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},options:{type:Object,default:()=>({})},alert:{type:Boolean,default:!1},noBackground:{type:Boolean,default:!1},to:{type:String,default:null}},data(){return{choice:null}},methods:{emitChange(e){this.$emit("input",e.target.value),this.choice=null}}},ka=$a,wa=(i("f181"),Object(R["a"])(ka,ya,ba,!1,null,"085e6dc4",null));wa.options.__file="header-button.vue";var Ca=wa.exports,xa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-blocker",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],attrs:{"z-index":9},on:{click:e.disableSidebar}}),i("transition",{attrs:{name:"info"}},[i("aside",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"info-sidebar",class:{wide:e.wide}},[i("div",{staticClass:"system"},[e._t("system")],2),e._t("default")],2)])],1)},Ia=[],Sa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"blocker",style:{zIndex:e.zIndex},on:{click:function(t){e.$emit("click")},touchend:function(t){e.$emit("click")}}})])},Ea=[],Oa={name:"blocker",props:{zIndex:{type:Number,default:0}}},Ta=Oa,Fa=(i("e16e"),Object(R["a"])(Ta,Sa,Ea,!1,null,"e96f9bae",null));Fa.options.__file="blocker.vue";var Na=Fa.exports,ja={name:"info-sidebar",components:{VBlocker:Na},props:{wide:{type:Boolean,default:!1}},computed:{active(){return this.$store.state.sidebars.info}},methods:{disableSidebar(){this.$store.commit(ua,!1)}}},Aa=ja,Ma=(i("3fdd"),Object(R["a"])(Aa,xa,Ia,!1,null,"07656002",null));Ma.options.__file="info-sidebar.vue";var qa=Ma.exports,Pa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-upload",class:{uploading:Object.keys(e.files).length>0,disabled:e.disabled}},[i("input",{ref:"select",staticClass:"select",attrs:{disabled:e.disabled,type:"file",multiple:e.multiple},on:{change:function(t){e.filesChange(t.target.files)}}}),i("div",{staticClass:"dropzone",class:{smaller:e.small}},[e._m(0),i("div",{staticClass:"info"},[i("p",{staticClass:"name"},[e._v(e._s(e.$tc("drop_files",e.multiple?2:1)))]),i("p",{staticClass:"file-info no-wrap"},[e._v(e._s(e.$t("max_size",{size:e.$helpers.filesize(e.$store.state.serverInfo.maxUploadSize)})))])]),i("div",{staticClass:"buttons"},[i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("select_from_device"),expression:"$t('select_from_device')"}],staticClass:"material-icons select",on:{click:function(t){e.$refs.select.click()}}},[e._v("devices")])])]),i("transition-group",{attrs:{tag:"ol",name:"list"}},e._l(e.files,function(t,s){return i("li",{key:s,staticClass:"list-item"},[i("v-progress-ring",{staticClass:"icon",attrs:{progress:t.progress,icon:null!==t.error?"cloud_off":100===t.progress?"cloud_done":"cloud_upload",color:null!==t.error?"danger":100===t.progress?"success":"accent",stroke:100===t.progress?0:2}}),i("div",{staticClass:"info"},[i("p",{staticClass:"name no-wrap"},[e._v(e._s(t.name))]),i("p",{staticClass:"file-info no-wrap"},[e._v(e._s(t.size)+" "),t.progress&&100!==t.progress?i("span",{staticClass:"progress"},[e._v(e._s(t.progress)+"%")]):e._e()])])],1)})),i("input",{ref:"drop",staticClass:"drop",attrs:{disabled:e.disabled,type:"file",multiple:e.multiple},on:{click:function(e){e.preventDefault()},change:function(t){e.filesChange(t.target.files)}}})],1)},Da=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"icon"},[i("i",{staticClass:"material-icons"},[e._v("cloud_upload")])])}],Ra=i("49d5"),La=i.n(Ra),Ba={name:"v-upload",props:{multiple:{type:Boolean,default:!0},small:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{files:{}}},methods:{filesChange(e){e&&e.length&&Array.from(e).forEach(this.save)},save(e){const t=this.$helpers.shortid.generate(),i=new FormData,{name:s,size:n,type:a}=e;i.append("data",e,s),this.files={[t]:{name:s,size:La()(n),type:a,progress:0,error:null},...this.files},this.$api.uploadFiles(i,({loaded:e,total:i})=>{const s=Math.round(100*e/i);this.files[t].progress=s}).then(e=>e.data).then(e=>{this.$emit("upload",{...this.files[t],data:e}),this.$refs.select.value="",this.$refs.drop.value=""}).catch(e=>{this.files[t].error=e,this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}}},Va=Ba,Ua=(i("ff70"),Object(R["a"])(Va,Pa,Da,!1,null,"00006b70",null));Ua.options.__file="upload.vue";var Ka=Ua.exports,za=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-progress-ring",style:{height:2*e.radius+"px",width:2*e.radius+"px"}},[i("svg",[i("circle",{staticClass:"background",attrs:{fill:"var(--"+e.color+")",stroke:"transparent","stroke-width":e.stroke,r:e.normalizedRadius,cx:e.radius,cy:e.radius}}),i("circle",{style:{strokeDashoffset:e.strokeDashoffset},attrs:{stroke:"var(--"+e.color+")",fill:"transparent","stroke-dasharray":e.circumference+" "+e.circumference,"stroke-width":e.stroke,r:e.normalizedRadius,cx:e.radius,cy:e.radius}})]),e.icon?i("i",{staticClass:"material-icons",style:{fontSize:e.iconSize,color:"var(--"+e.color+")"}},[e._v(e._s(e.icon))]):e._e()])},Wa=[],Ha={name:"v-progress-ring",props:{radius:{type:Number,default:24},stroke:{type:Number,default:2},progress:{type:Number,required:!0,validator(e){return e>=0&&e<=100}},color:{type:String,default:"dark-gray"},icon:{type:String,default:null}},data(){const e=this.radius-2*this.stroke,t=2*e*Math.PI;return{normalizedRadius:e,circumference:t}},computed:{strokeDashoffset(){return this.circumference-this.progress/100*this.circumference},iconSize(){return 6*Math.round(this.radius/6)+"px"}}},Ga=Ha,Qa=(i("3101"),Object(R["a"])(Ga,za,Wa,!1,null,"147bb570",null));Qa.options.__file="progress-ring.vue";var Xa=Qa.exports;v["default"].component("v-ext-page",di),v["default"].component("v-ext-input",We),v["default"].component("v-ext-display",dt),v["default"].component("v-ext-layout",Et),v["default"].component("v-ext-layout-options",Wt),v["default"].component("v-items",_i),v["default"].component("v-form",Ui),v["default"].component("v-button",Qi),v["default"].component("v-checkbox",ts),v["default"].component("v-input",ls),v["default"].component("v-radio",ps),v["default"].component("v-select",ys),v["default"].component("v-simple-select",xs),v["default"].component("v-slider",Fs),v["default"].component("v-textarea",Ps),v["default"].component("v-toggle",Us),v["default"].component("v-alert",tn),v["default"].component("v-confirm",rn),v["default"].component("v-modal",fn),v["default"].component("v-prompt",$n),v["default"].component("v-header",ga),v["default"].component("v-header-button",Ca),v["default"].component("v-info-sidebar",qa),v["default"].component("v-error",Pi),v["default"].component("invisible-label",B),v["default"].component("loader",H),v["default"].component("v-spinner",A.a),v["default"].component("v-avatar",Z),v["default"].component("v-card",ae),v["default"].component("v-details",ue),v["default"].component("v-table",_e),v["default"].component("v-upload",Ka),v["default"].component("v-progress-ring",Xa);i("5b09"),i("6bff");var Ya=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.hydratingError?i("div",{staticClass:"error"},[i("v-error",{attrs:{icon:"warning",title:e.$t("server_error"),body:e.$t("server_error_copy"),color:"danger"}}),i("p",[e._v("Try again later or "),i("router-link",{attrs:{to:"/logout"}},[e._v("login to another instance")]),e._v(".")],1)],1):e.configError?i("div",{staticClass:"error"},[i("v-error",{attrs:{icon:"settings",title:e.$t("config_error"),body:e.$t("config_error_copy"),color:"warning"}})],1):e.extensionError?i("div",{staticClass:"error"},[i("v-error",{attrs:{icon:"extension",title:e.$t("extensions_missing"),body:e.$t("extensions_missing_copy"),color:"warning"}})],1):e.publicRoute?i("router-view",{staticClass:"directus"}):i("div",[e.hydrated?i("div",{staticClass:"directus"},[i("v-nav-sidebar"),i("router-view",{staticClass:"page-root"})],1):i("loader",{attrs:{area:"full-page"}}),i("portal-target",{attrs:{name:"modal"}}),i("v-notification")],1)},Ja=[],Za=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nav-sidebar"},[i("v-blocker",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"blocker",on:{click:e.disableNav}}),i("transition",{attrs:{name:"nav"}},[i("aside",{class:{active:e.active}},[i("button",{staticClass:"a11y-close",on:{click:e.disableNav}},[e._v("Close nav")]),i("v-logo",{staticClass:"logo"}),i("section",{staticClass:"content"},[i("project-switcher"),e.collections&&e.collections.length>0?i("nav-menu",{attrs:{title:e.$t("collections"),"no-border":!e.bookmarks.length&&!e.extensions,links:e.collections.map(function(t){var i=t.collection,s=t.icon;return{path:"/collections/"+i,name:e.$t("collections-"+i),icon:s}})}}):e._e(),e.extensions?i("nav-menu",{attrs:{title:e.$t("extensions"),links:e.extensions,"no-border":!e.bookmarks.length}}):e._e(),i("nav-bookmarks",{attrs:{bookmarks:e.bookmarks,"no-border":""}})],1),i("user-menu")],1)])],1)},eo=[],to=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-logo"},[e.customLogoExists?i("img",{attrs:{src:e.customLogoPath,alt:e.projectName}}):i("div",{staticClass:"logo",class:{running:e.running},on:{animationiteration:e.checkRunning}})])},io=[],so={name:"v-logo",data(){return{customLogoPath:"",running:!1}},computed:{customLogoExists(){return Boolean(this.$store.state.settings.logo)},projectName(){return this.$store.state.auth.projectName},queueContainsItems(){return 0!==this.$store.state.queue.length}},watch:{queueContainsItems(e){!0===e&&(this.running=!0)}},created(){if(this.customLogoExists){const e=this.$store.state.settings.logo;this.$api.getItem("directus_files",e).then(e=>e.data.storage.full_url).then(e=>this.customLogoPath=e).catch(e=>{this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}},methods:{checkRunning(){!1===this.queueContainsItems&&(this.running=!1)}}},no=so,ao=(i("52ff"),Object(R["a"])(no,to,io,!1,null,"71e88c18",null));ao.options.__file="logo.vue";var oo=ao.exports,lo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"project-switcher"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:{content:e.$store.state.auth.url+"<br>"+e.$t("latency")+": "+e.$n(Math.round(e.$store.state.latency[e.$store.state.latency.length-1].latency))+"ms",boundariesElement:"body"},expression:"{\n      content: $store.state.auth.url + `<br>${$t('latency')}: ${$n(Math.round($store.state.latency[$store.state.latency.length - 1].latency))}ms`,\n      boundariesElement: 'body'\n    }",modifiers:{left:!0}}],class:{slow:1==e.$store.getters.signalStrength,disconnected:0==e.$store.getters.signalStrength}},[i("v-signal",{staticClass:"icon"}),i("span",{staticClass:"no-wrap"},[e._v(e._s(e.$store.state.auth.projectName))]),Object.keys(e.urls).length>1?i("i",{staticClass:"material-icons chevron"},[e._v("arrow_drop_down")]):e._e(),Object.keys(e.urls).length>1?i("select",{domProps:{value:e.currentUrl},on:{change:function(t){return t.preventDefault(),e.changeUrl(t)}}},e._l(e.urls,function(t,s){return i("option",{key:t+s,attrs:{checked:s===e.currentUrl||s+"/"===e.currentUrl},domProps:{value:s}},[e._v(e._s(t))])})):e._e()],1)])},ro=[],co=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[0===e.strength?i("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 26 24"}},[i("path",{attrs:{"fill-opacity":".3",d:"M24.24 8l1.35-1.68C25.1 5.96 20.26 2 13 2S.9 5.96.42 6.32l12.57 15.66.01.02.01-.01L20 13.28V8h4.24z"}}),i("path",{attrs:{d:"M22 22h2v-2h-2v2zm0-12v8h2v-8h-2z"}})]):1===e.strength?i("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 48 48"}},[i("path",{attrs:{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"}}),i("path",{attrs:{d:"M0 0h48v48H0z",fill:"none"}}),i("path",{attrs:{d:"M13.34 29.72l10.65 13.27.01.01.01-.01 10.65-13.27C34.13 29.31 30.06 26 24 26s-10.13 3.31-10.66 3.72z"}})]):2===e.strength?i("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 48 48"}},[i("path",{attrs:{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"}}),i("path",{attrs:{d:"M0 0h48v48H0z",fill:"none"}}),i("path",{attrs:{d:"M9.58 25.03l14.41 17.95.01.02.01-.02 14.41-17.95C37.7 24.47 32.2 20 24 20s-13.7 4.47-14.42 5.03z"}})]):3===e.strength?i("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 48 48"}},[i("path",{attrs:{"fill-opacity":".3",d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"}}),i("path",{attrs:{d:"M0 0h48v48H0z",fill:"none"}}),i("path",{attrs:{d:"M7.07 21.91l16.92 21.07.01.02.02-.02 16.92-21.07C40.08 21.25 33.62 16 24 16c-9.63 0-16.08 5.25-16.93 5.91z"}})]):4===e.strength?i("svg",{staticClass:"v-signal",attrs:{viewBox:"0 0 48 48"}},[i("path",{attrs:{d:"M24.02 42.98L47.28 14c-.9-.68-9.85-8-23.28-8S1.62 13.32.72 14l23.26 28.98.02.02.02-.02z"}}),i("path",{attrs:{d:"M0 0h48v48H0z",fill:"none"}})]):e._e()])},uo=[],ho={name:"v-signal",computed:{strength(){return this.$store.getters.signalStrength}}},po=ho,mo=(i("7b1e"),Object(R["a"])(po,co,uo,!1,null,"008e63f1",null));mo.options.__file="signal.vue";var fo=mo.exports,vo={name:"project-switcher",components:{VSignal:fo},data(){return{active:!1}},computed:{urls(){return this.$lodash.mapKeys(window.__DirectusConfig__.api,(e,t)=>!1===t.endsWith("/")?t+"/":t)},currentUrl(){return this.$store.state.auth.url+"/"+this.$store.state.auth.env+"/"}},methods:{changeUrl(e){const t=e.target.value;this.$store.dispatch("changeAPI",t)}}},_o=vo,go=(i("5d8f"),Object(R["a"])(_o,lo,ro,!1,null,"138e756a",null));go.options.__file="project-switcher.vue";var yo=go.exports,bo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nav-menu"},[e.title?i("h3",{staticClass:"style-4"},[e._v(e._s(e.title))]):e._e(),i("nav",{class:{"no-border":e.noBorder}},[i("ul",e._l(e.links,function(t){var s=t.path,n=t.name,a=t.icon,o=t.color;return i("li",{key:s},[i(s.startsWith("http")?"a":"router-link",{tag:"component",class:o||null,attrs:{to:s,href:s,target:"__blank",rel:"noopener noreferrer"}},[a?i("i",{staticClass:"material-icons icon"},[e._v(e._s(a))]):i("svg",{staticClass:"icon",attrs:{viewBox:"0 0 17 18"}},[i("path",{attrs:{d:"M.4783 14.2777l7.676 3.5292a.7888.7888 0 0 0 .6913 0l7.6738-3.5292a.7661.7661 0 0 0 .4805-.748V4.3566a.8228.8228 0 0 0-.0147-.1474V4.165a.824.824 0 0 0-.0329-.1054l-.0113-.034a.8228.8228 0 0 0-.0669-.1246l-.0181-.0261a.824.824 0 0 0-.0726-.0873l-.0396-.026a.8228.8228 0 0 0-.0907-.0748l-.0227-.0159a.824.824 0 0 0-.111-.0623L8.8434.0794a.7888.7888 0 0 0-.6914 0L.4794 3.6086a.8228.8228 0 0 0-.111.0623l-.0227.0159a.824.824 0 0 0-.0907.0748l-.0283.0283a.824.824 0 0 0-.0726.0873l-.0181.026a.8228.8228 0 0 0-.0657.1247l-.0227.0317a.824.824 0 0 0-.034.1054v.043A.8228.8228 0 0 0 0 4.3567v9.1731c0 .3513.1587.6007.4783.748zm1.1684-8.6325L7.675 8.4218v7.3587l-6.0282-2.7778V5.644v.0012zM9.324 15.7794V8.4207l6.027-2.7767v7.3587l-6.027 2.7755v.0012zm-.825-14.051l5.7062 2.6293-5.7063 2.627-5.7052-2.6281 5.7052-2.6282z","fill-rule":"nonzero"}})]),e._v("\n          "+e._s(n)+"\n        ")])],1)}))])])},$o=[],ko={name:"nav-menu",props:{title:{type:String,default:null},links:{type:Array,required:!0},noBorder:{type:Boolean,default:!1}}},wo=ko,Co=(i("ca69"),Object(R["a"])(wo,bo,$o,!1,null,"86250f2a",null));Co.options.__file="nav-menu.vue";var xo=Co.exports,Io=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-menu"},[i("header",[i("v-avatar",{staticClass:"avatar",attrs:{src:e.avatarURL,alt:e.fullName,indicator:!0}}),i("span",{staticClass:"no-wrap"},[e._v(e._s(e.fullName))]),i("i",{staticClass:"material-icons"},[e._v("more_vert")])],1),i("div",{staticClass:"links"},[i("nav-menu",{attrs:{links:e.firstLinks}}),i("nav-menu",{attrs:{links:e.secondLinks}}),i("nav-menu",{attrs:{links:e.thirdLinks}}),i("button",{staticClass:"sign-out",on:{click:function(t){e.confirmSignOut=!0}}},[i("i",{staticClass:"material-icons icon"},[e._v("exit_to_app")]),e._v("\n      "+e._s(e.$t("sign_out"))+"\n    ")])],1),e.confirmSignOut?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{busy:e.confirmSignOutLoading,message:e.editing?e.$t("sign_out_confirm_edits"):e.$t("sign_out_confirm"),"confirm-text":e.$t("sign_out")},on:{cancel:function(t){e.confirmSignOut=!1},confirm:e.signOut}})],1):e._e()],1)},So=[],Eo={name:"user-menu",components:{NavMenu:xo},data(){return{confirmSignOut:!1,confirmSignOutLoading:!1}},computed:{avatarURL(){return this.$store.state.currentUser.avatar?this.$store.state.currentUser.avatar.data.full_url:null},currentUserID(){return this.$store.state.currentUser&&this.$store.state.currentUser.id},editing(){return this.$store.getters.editing},email(){return this.$store.state.currentUser&&this.$store.state.currentUser.email},fullName(){const e=this.$store.state.currentUser&&this.$store.state.currentUser.first_name,t=this.$store.state.currentUser&&this.$store.state.currentUser.last_name;return`${e} ${t}`},permissions(){return this.$store.state.permissions},firstLinks(){const e=[];return!0===this.$store.state.currentUser.admin&&e.push({path:"/settings",name:this.$t("admin_settings"),icon:"settings",color:"warning"}),e.push({path:"https://docs.directus.io",name:this.$t("help_and_docs"),icon:"help"}),e},secondLinks(){const e=[];return"none"!==this.permissions.directus_files.read&&e.push({path:"/files",name:this.$t("file_library"),icon:"collections"}),"none"===this.permissions.directus_users.read&&"mine"===this.permissions.directus_users.read||e.push({path:"/users",name:this.$t("user_directory"),icon:"person"}),e},thirdLinks(){const e=[];return"none"!==this.permissions.directus_activity.read&&e.push({path:"/activity",name:this.$t("my_activity"),icon:"notifications"}),e.push({path:`/users/${this.currentUserID}`,name:this.$t("my_profile"),icon:"person"}),e}},methods:{signOut(){this.confirmSignOutLoading=!0,this.$store.dispatch("logout")}}},Oo=Eo,To=(i("6915"),Object(R["a"])(Oo,Io,So,!1,null,"f2bf0f8c",null));To.options.__file="user-menu.vue";var Fo=To.exports,No=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"nav-bookmarks"},[e.bookmarks&&e.bookmarks.length>0?i("h3",{staticClass:"style-4"},[e._v(e._s(e.$t("bookmarks")))]):e._e(),e.bookmarks&&e.bookmarks.length>0?i("nav",{class:{"no-border":e.noBorder}},[i("ul",e._l(e.bookmarks,function(t){return i("li",{key:t.id,staticClass:"bookmark"},[i("router-link",{staticClass:"no-wrap",attrs:{to:"/bookmarks/"+t.collection+"/"+t.id}},[i("i",{staticClass:"material-icons icon"},[e._v("bookmark_outline")]),e._v(e._s(t.title)+"\n        ")]),i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("delete_bookmark"),expression:"$t('delete_bookmark')"}],on:{click:function(i){e.confirmRemove=!0,e.toBeDeletedBookmark=t.id}}},[i("i",{staticClass:"material-icons"},[e._v("remove_circle_outline")])])],1)}))]):e._e(),e.confirmRemove?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{message:e.$t("delete_bookmark_body")},on:{cancel:function(t){e.confirmRemove=!1},confirm:e.deleteBookmark}})],1):e._e()],1)},jo=[],Ao={name:"nav-bookmarks",props:{bookmarks:{type:Array,required:!0},noBorder:{type:Boolean,default:!1}},data(){return{confirmRemove:!1,toBeDeletedBookmark:null}},methods:{deleteBookmark(){this.$store.dispatch("deleteBookmark",this.toBeDeletedBookmark),this.confirmRemove=!1,this.toBeDeletedBookmark=null}}},Mo=Ao,qo=(i("1632"),Object(R["a"])(Mo,No,jo,!1,null,"43178138",null));qo.options.__file="nav-bookmarks.vue";var Po=qo.exports,Do={name:"nav-sidebar",components:{VLogo:oo,ProjectSwitcher:yo,NavMenu:xo,UserMenu:Fo,NavBookmarks:Po,VBlocker:Na},computed:{permissions(){return this.$store.state.permissions},collections(){const e=this.$store.state.collections;return null==e?[]:Object.values(e).filter(e=>0==e.hidden&&1==e.managed&&!1===e.collection.startsWith("directus_")).filter(e=>{return e.status_mapping?this.$lodash.some(this.permissions[e.collection].statuses,e=>"none"!==e.read):"none"!==this.permissions[e.collection].read})},bookmarks(){return this.$store.state.bookmarks},projectName(){return this.$store.state.auth.projectName},active(){return this.$store.state.sidebars.nav},extensions(){const e=[],t=this.$store.state.extensions.pages;return this.$lodash.forEach(t,(t,i)=>{e.push({path:`/ext/${i}`,name:t.name,icon:t.icon})}),e.length?e:null}},methods:{logout(){this.$store.dispatch("logout")},deleteBookmark(e){this.$store.dispatch("deleteBookmark",e)},toBookmark(e){const{collection:t,search_query:i,filters:s,view_options:n,view_type:a,view_query:o}=e;this.$store.dispatch("setListingPreferences",{collection:t,updates:{search_query:i,filters:s,view_options:n,view_type:a,view_query:o}}).then(()=>{this.$router.push(`/collections/${t}`)})},disableNav(){this.$store.commit(da,!1)}}},Ro=Do,Lo=(i("0927"),i("58de"),Object(R["a"])(Ro,Za,eo,!1,null,"7c3985a4",null));Lo.options.__file="nav-sidebar.vue";var Bo=Lo.exports,Vo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notifications"},[i("transition-group",{attrs:{name:"slide-fade",tag:"div"}},e._l(e.notifications,function(e){return i("v-item",{key:e.id,attrs:{item:e}})}))],1)},Uo=[],Ko=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notification",class:e.item.type},[i("div",{staticClass:"icon-main",style:{backgroundColor:e.ringColor}},[i("i",{staticClass:"material-icons",style:{color:e.iconColor}},[e._v(e._s(e.item.iconMain))])]),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[e._v(e._s(e.item.title))]),i("div",{staticClass:"details",domProps:{innerHTML:e._s(e.detailHtml)}})]),i("div",{staticClass:"icon-right",on:{click:e.actionClick}},[i("i",{staticClass:"material-icons"},[e._v(e._s(e.item.iconRight))])])])},zo=[],Wo=i("2f62"),Ho={name:"v-item",props:{item:{type:Object,required:!0}},computed:{detailHtml(){return void 0!==this.item.details?this.$helpers.snarkdown(this.item.details):""},iconColor(){return void 0!==this.item.color?`var(--${this.item.color}-500)`:"var(--blue-grey-500)"},ringColor(){return void 0!==this.item.color?`var(--${this.item.color}-100)`:"var(--blue-grey-100)"}},methods:{...Object(Wo["b"])("notifications",[ma]),startItemTimeout(){void 0!==this.item.delay&&this.item.delay>0&&setTimeout(()=>this.removeItemFromStore(),this.item.delay)},removeItemFromStore(){this.$store.commit(ma,this.item.id)},actionClick(){if(!(this.item.onClick instanceof Function))throw new Error("Notification callback is not a function");this.item.onClick(),this.removeItemFromStore()}},mounted(){this.startItemTimeout()}},Go=Ho,Qo=(i("5da0"),Object(R["a"])(Go,Ko,zo,!1,null,"4955d1ea",null));Qo.options.__file="item.vue";var Xo=Qo.exports,Yo={name:"VNotifications",components:{VItem:Xo},computed:{notifications(){return this.$store.state.notifications.queue}}},Jo=Yo,Zo=(i("8624"),Object(R["a"])(Jo,Vo,Uo,!1,null,"416c9bc4",null));Zo.options.__file="notifications.vue";var el=Zo.exports,tl={name:"directus",metaInfo:{title:"Directus"},components:{VBlocker:Na,VError:Pi,VNavSidebar:Bo,VNotification:el},computed:{publicRoute(){return this.$route.meta.publicRoute||!1},hydrated(){return this.$store.state.hydrated||!1},hydratingError(){return this.$store.state.hydratingError},configError(){return null==window.__DirectusConfig__},extensionError(){if(!this.hydrated)return null;const e=this.$store.state.extensions;return 0===Object.values(e.interfaces).length&&0===Object.values(e.layouts).length&&0===Object.values(e.pages).length||void 0}},watch:{$route(){this.bodyClass(),this.$store.commit(da,!1),this.infoActive=!1},infoActive(e){const t=this.$route.meta&&"wide"===this.$route.meta.infoSidebarWidth?"info-wide-active":"info-active";e?document.body.classList.add(t):(document.body.classList.remove("info-wide-active"),document.body.classList.remove("info-active"))},hydratingError(e){e&&document.body.classList.add("no-padding")}},created(){this.bodyClass()},methods:{bodyClass(){this.publicRoute?document.body.classList.add("no-padding"):document.body.classList.remove("no-padding")},keepEditing(){this.$router.push(`/collections/${this.$store.state.edits.collection}/${this.$store.state.edits.primaryKey}`)},discardChanges(){this.$store.dispatch("discardChanges")}}},il=tl,sl=(i("6294"),i("4db1"),Object(R["a"])(il,Ya,Ja,!1,null,"d08b6250",null));sl.options.__file="app.vue";var nl=sl.exports,al=i("8c4f"),ol=i("ee6c"),ll=i.n(ol),rl=i("0e44"),cl=i("6cc8"),dl=i.n(cl),ul=i("1b32"),hl=i.n(ul);let pl=null;function ml(){pl=setInterval(()=>{Kr.dispatch("latency"),Kr.dispatch("track",{page:mh.currentRoute.path})},1e4)}function fl(){clearInterval(pl)}const vl=window.__DirectusConfig__,_l=vl?Object(_["mapKeys"])(vl.api,(e,t)=>t.endsWith("/")?t:t+"/"):null;function gl(e){let t;return t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0],t=t.split("?")[0],t}function yl({commit:e},t){e(Cn);const{url:i}=t;let s=i;if(!1===s.endsWith("/")&&(s+="/"),!1===s.startsWith("http")){const e=document.createElement("a");e.href=s,s=e.href}const n=s.split("/"),a=n.pop()||n.pop(),o=n.join("/");return Xr.login({...t,url:o,env:a,persist:!0}).then(t=>{e(xn,{...t,projectName:_l[i]||_l[t.url+"/"+t.env+"/"]||hl()(gl(t.url))})}).catch(t=>{throw e(In,t),t})}function bl({commit:e},t){e(Cn);const{url:i,project:s}=dl()(t);return Xr.url=i,Xr.env=s,Xr.request("POST","auth/sso/access_token",{},{request_token:t}).then(e=>e.data).then(({token:t})=>{Xr.token=t,e(xn,{env:s,url:i,token:t,projectName:vl.api[i]||gl(i)})})}function $l({commit:e},{token:t,url:i,env:s}){e(En,{token:t,url:i,env:s})}function kl({commit:e},t){return new Promise(i=>{fl(),Xr.logout(),zr(),qe.locale="en-US",mh.push("/login"),e(Sn,t),i()})}function wl({commit:e,dispatch:t},i){t("logout").then(()=>{const t=i.split("/"),s=t.pop()||t.pop(),n=t.join("/");e(Tn,{url:n,env:s})})}function Cl({commit:e}){e(On)}function xl({commit:e}){e(Sn)}const Il={[Cn](e){e.loading=!0},[xn](e,t){e.loading=!1,e.error=null,e.token=t.token,e.env=t.env,e.url=t.url,e.projectName=t.projectName},[In](e,t){e.token=null,e.url=null,e.env=null,e.projectName=null,e.loading=!1,e.error=t},[Sn](e,t){e.error=t},[En](e,t){e.loading=!1,e.error=null,e.token=t.token,e.env=t.env,e.url=t.url},[On](e){e.error=null},[Tn](e,{url:t,env:i}){e.url=t,e.env=i}};var Sl=Il;function El(e){if(e.token){const t=dl()(e.token);return t.exp&&Number.isInteger(t.exp)&&(t.exp=new Date(1e3*t.exp)),t}return null}function Ol(e){return!!(e.token&&e.token.length>0&&e.url&&e.url.length>0&&El(e).exp>new Date)}const Tl={token:null,url:null,env:"_",error:null,loading:!1,projectName:null};var Fl={state:Tl,actions:n,mutations:Sl,getters:a};function Nl(e,t,i){const s=e=>{return null==e?e:"string"===typeof e?e.split(" ").map(e=>e.startsWith("$t:")?qe.t(`${t}-${i}-${e.substring(3)}`):e).join(" "):Object(_["isObject"])(e)&&Object.keys(e).length>0||Array.isArray(e)&&e.length>0?Nl(e,t,i):e};return Array.isArray(e)?e.map(s):Object(_["mapValues"])(e,s)}function jl({commit:e},t){const i=t.toUpperCase();let n=null;switch(t){case"interfaces":n=Xr.getInterfaces();break;case"layouts":n=Xr.getLayouts();break;case"pages":n=Xr.getPages();break;default:}return n.then(e=>e.data).then(e=>{return e.forEach(e=>{const{id:i,translation:s}=e;s&&Object(_["forEach"])(s,(e,s)=>{qe.mergeLocaleMessage(s,Object(_["mapKeys"])(e,(e,s)=>`${t}-${i}-${s}`))})}),e}).then(e=>e.map(e=>Nl(e,t,e.id))).then(t=>{e(s[`SET_${i}`],t)})}function Al({dispatch:e}){return Promise.all([e("getExtensions","interfaces"),e("getExtensions","layouts"),e("getExtensions","pages")])}const Ml={[Hn](e,t){e.interfaces=Object(_["keyBy"])(t,"id")},[Gn](e,t){e.layouts=Object(_["keyBy"])(t,"id")},[Qn](e,t){e.pages=Object(_["keyBy"])(t,"id")}};var ql=Ml;const Pl={layouts:{},interfaces:{},pages:{}};var Dl={state:Pl,actions:o,mutations:ql};function Rl({commit:e}){e(Dn)}function Ll({commit:e},{collection:t,primaryKey:i,savedValues:s}){e(Ln,{collection:t,primaryKey:i,savedValues:s})}function Bl({commit:e,state:t},{field:i,value:s}){return t.savedValues[i]==s?e(Bn,{field:i}):e(Vn,{field:i,value:s})}function Vl({commit:e},t){return e(Bn,{field:t})}function Ul({commit:e,state:t},i){function s(t){return e(Rn),t}const n={...t,...i};return"+"===n.primaryKey?Xr.createItem(n.collection,n.values).then(s):Xr.updateItem(n.collection,n.primaryKey,n.values).then(s)}function Kl(e){const t=e.collection&&e.collection.length>0,i=e.primaryKey&&e.primaryKey.length>0,s=e.values&&Object.keys(e.values).length>0,n=e.saving;return t&&i&&s&&!n||!1}const zl={[Dn](e){e.saving=!1,e.error=null,e.collection=null,e.primaryKey=null,e.values={}},[Rn](e){e.saving=!1,e.error=null,e.collection=null,e.primaryKey=null,e.values={}},[Ln](e,{collection:t,primaryKey:i,savedValues:s}){e.collection=t,e.primaryKey=i,e.savedValues=s,e.values={}},[Bn](e,{field:t}){v["default"].delete(e.values,t)},[Vn](e,{field:t,value:i}){v["default"].set(e.values,t,i)}};var Wl=zl;const Hl={collection:null,primaryKey:null,values:{},savedValues:{}};var Gl={actions:l,mutations:Wl,state:Hl,getters:r};function Ql({commit:e},{collection:t,permission:i}){e(Zn,{collection:t,permission:i})}function Xl({commit:e,rootState:t}){const i=t.collections,s=!0===t.currentUser.admin,n=s?Ri:Di,a=Object(_["mapValues"])(i,e=>{return e.status_mapping?{statuses:Object(_["mapValues"])(e.status_mapping,()=>n),$create:n}:{...n,$create:n}});return s?(e(Jn,a),Promise.resolve()):Xr.getMyPermissions().then(e=>e.data).then(t=>{return t.forEach(e=>{const{collection:t,status:i}=e;return i?"$create"===i?a[t].$create=e:a[t].statuses[i]=e:a[t]={...a[t],...e}}),e(Jn,a),a}).then(t=>{Object(_["forEach"])(t,t=>{if(t.read_field_blacklist&&t.read_field_blacklist.length>0){const s=i[t.collection];e(Pn,{collection:t.collection,edits:{fields:Object(_["omit"])(s.fields,t.read_field_blacklist)}})}})})}const Yl={[Jn](e,t){Object(_["forEach"])(t,(t,i)=>{v["default"].set(e,i,t)})},[Zn](e,{collection:t,permission:i}){v["default"].set(e,t,i)}};var Jl=Yl,Zl={actions:c,mutations:Jl,state:{}};function er({commit:e}){return Xr.getUsers({fields:["id","first_name","last_name","title","status","timezone","roles.*","avatar.*","company"]}).then(e=>e.data).then(e=>e.map(e=>({...e,roles:e.roles.map(({role:e})=>e)}))).then(t=>{e(ha,t)})}var tr={[ha](e,t){Object.values(t).forEach(t=>{v["default"].set(e,t.id,t)})}};const ir={};var sr={actions:d,mutations:tr,state:ir};function nr({commit:e}){return Xr.getRelations({limit:-1}).then(e=>e.data).then(t=>e(aa,t))}function ar({commit:e},t){e(oa,t)}function or({commit:e},t){e(la,t)}function lr(e,t,{collections:i}){return function(t,s){const n=e.filter(e=>e.collection_many===t&&e.field_many===s),a=n?n[n.length-1]:null;return a?{id:a.id,collection_many:i[a.collection_many],collection_one:i[a.collection_one],field_many:i[a.collection_many].fields[a.field_many],field_one:i[a.collection_one].fields[a.field_one]}:null}}function rr(e,t,{collections:i}){return function(s,n){const a=e.filter(e=>e.collection_one===s&&e.field_one===n),o=a?a[a.length-1]:null;if(o&&null!=o.junction_field){const e=t.m2o(o.collection_many,o.junction_field);return{id:o.id,collection_many:i[o.collection_many],collection_one:i[o.collection_one],field_many:i[o.collection_many].fields[o.field_many],field_one:i[o.collection_one].fields[o.field_one],junction:e}}return o?{id:o.id,collection_many:i[o.collection_many],collection_one:i[o.collection_one],field_many:i[o.collection_many].fields[o.field_many],field_one:i[o.collection_one].fields[o.field_one]}:null}}var cr={[aa](e,t){Object(_["forEach"])(t,(t,i)=>{v["default"].set(e,i,t)})},[oa](e,t){v["default"].set(e,e.length,t)},[la](e,t){const i=e.map(e=>{return e.id===t.id?t:e});Object(_["forEach"])(i,(t,i)=>{v["default"].set(e,i,t)})}};const dr=[];var ur={actions:u,mutations:cr,getters:h,state:dr},hr={[ca](e,t){e.apiVersion=t.apiVersion,e.phpVersion=t.phpVersion,e.maxUploadSize=t.maxUploadSize}};function pr({commit:e}){Xr.serverInfo().then(e=>e.data).then(t=>{e(ca,{apiVersion:Object(_["get"])(t,"api.version"),phpVersion:Object(_["get"])(t,"server.general.php_version"),maxUploadSize:Object(_["get"])(t,"server.max_upload_size")})})}const mr={apiVersion:null,phpVersion:null,maxUploadSize:null,databaseVendor:"mysql"};var fr={state:mr,mutations:hr,actions:p};const vr={[pa](e,t){e.queue.push(t)},[ma](e,t){e.queue=e.queue.filter(e=>e.id!==t)}};var _r=vr;const gr={queue:[]};var yr={state:gr,mutations:_r},br={hydrated:!1,hydratingError:null,latency:[],settings:{},currentUser:{},collections:{},bookmarks:[],sidebars:{nav:!1,info:!1},queue:[]};function $r({commit:e}){const t=performance.now(),i=Date.now();Xr.request("get","/server/ping",{},{},!0).then(()=>{const s=performance.now(),n=s-t;e(ea,{date:i,latency:n})}).catch(s=>{const n=performance.now(),a=n-t;return-2===s.code?e(ea,{date:i,latency:a}):e(ea,{date:i,latency:-1})})}function kr({commit:e}){return Xr.getSettings().then(e=>e.data).then(t=>e(ra,t))}function wr({commit:e},{collection:t,field:i}){e(Un,{collection:t,field:i})}function Cr({commit:e},{collection:t,field:i}){e(Kn,{collection:t,field:i})}function xr({commit:e},{collection:t,updates:i}){e(zn,{collection:t,updates:i})}function Ir({commit:e},{collection:t,field:i}){e(Wn,{collection:t,field:i})}function Sr({commit:e}){return Xr.getMe({fields:["id","avatar.*","email","first_name","last_name","locale","roles.*"]}).then(e=>e.data).then(e=>{return{...e,roles:e.roles.map(e=>e.role),admin:e.roles.map(e=>e.role).includes(1)}}).then(t=>e(sa,t))}function Er({commit:e,state:t},{page:i}){const s=t.currentUser.id,n={last_page:i};return e(na,n),Xr.request("PATCH",`/users/${s}/tracking/page`,{},n)}function Or({commit:e}){return Xr.getCollections().then(e=>e.data).then(t=>{Object(_["forEach"])(t,e=>{Object(_["isEmpty"])(e.translation)?Object(_["forEach"])(Le,t=>{qe.mergeLocaleMessage(t,{[`collections-${e.collection}`]:hl()(e.collection)})}):Object(_["forEach"])(e.translation,(t,i)=>{qe.mergeLocaleMessage(i,{[`collections-${e.collection}`]:t})})}),e(An,t)})}function Tr({commit:e},t){Object(_["isEmpty"])(t.translation)?Object(_["forEach"])(Le,e=>{qe.mergeLocaleMessage(e,{[`collections-${t.collection}`]:hl()(t.collection)})}):Object(_["forEach"])(t.translation,(e,i)=>{qe.mergeLocaleMessage(i,{[`collections-${t.collection}`]:e})}),e(Mn,t)}function Fr({commit:e},t){e(qn,t)}function Nr({commit:e},{collection:t,edits:i}){e(Pn,{collection:t,edits:i})}function jr({commit:e}){return Xr.getMyBookmarks().then(t=>{return e(Fn,t),t})}function Ar({commit:e},t){return Xr.createCollectionPreset(t).then(t=>{const i=t.data;return e(Nn,i),i})}function Mr({commit:e},t){return e(jn,t),Xr.deleteCollectionPreset(t).catch(e=>{this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}function qr({commit:e},{id:t,desc:i}){e(ta,{id:t,desc:i})}function Pr({commit:e},t){e(ia,t)}function Dr(e){let t=e.latency[e.latency.length-1];return t?(t=t.latency,t>0&&t<200?4:t>=200&&t<500?3:t>=500&&t<1e3?2:t>=1e3?1:0):0}const Rr={[Xn](e,t){e.hydrated=t},[Yn](e,t){e.hydrated=!1,e.hydratingError=t},[ea](e,t){const i=[...e.latency];i.push(t),i.length>200&&i.shift(),e.latency=i},[ra](e,t){e.settings=Object(_["mapValues"])(Object(_["keyBy"])(t,"key"),e=>e.value)},[sa](e,t){e.currentUser=t},[na](e,t){e.currentUser={...e.currentUser,...t}},[An](e,t){e.collections=Object(_["mapValues"])(Object(_["keyBy"])(t,"collection"),e=>{const t=Object(_["find"])(e.fields,{interface:"status"});let i=t&&t.options&&t.options.status_mapping;return i&&"string"===typeof i&&(i=JSON.parse(i)),{...e,status_mapping:i}})},[Mn](e,t){e.collections={...e.collections,[t.collection]:t}},[qn](e,t){const i={...e.collections};delete i[t],e.collections=i},[Pn](e,{collection:t,edits:i}){e.collections={...e.collections,[t]:{...e.collections[t],...i}}},[Fn](e,t){e.bookmarks=t},[Nn](e,t){e.bookmarks=[...e.bookmarks,t]},[jn](e,t){e.bookmarks=e.bookmarks.filter(e=>e.id!==t)},[da](e,t=!e.sidebars.nav){e.sidebars.nav=t},[ua](e,t=!e.sidebars.info){e.sidebars.info=t},[ta](e,{id:t,desc:i}){e.queue=[...e.queue,{id:t,desc:i}]},[ia](e,t){e.queue=e.queue.filter(e=>e.id!==t)},[Un](e,{collection:t,field:i}){v["default"].set(e.collections[t],"fields",{...e.collections[t].fields,[i.field]:i})},[Kn](e,{collection:t,field:i}){v["default"].set(e.collections[t],"fields",{...e.collections[t].fields,[i.field]:i})},[zn](e,{collection:t,updates:i}){i.forEach(i=>{v["default"].set(e.collections[t].fields,i.field,{...e.collections[t].fields[i.field],...i})})},[Wn](e,{collection:t,field:i}){const s=Object.assign({},e.collections[t].fields);delete s[i],v["default"].set(e.collections[t],"fields",s)}};var Lr=Rr;v["default"].use(Wo["a"]);const Br=!1,Vr=["auth.token","auth.url","auth.env","auth.projectName","edits"],Ur=new Wo["a"].Store({state:br,actions:m,getters:f,mutations:Lr,strict:Br,modules:{auth:Fl,extensions:Dl,edits:Gl,permissions:Zl,users:sr,relations:ur,serverInfo:fr,notifications:yr},plugins:[Object(rl["a"])({key:"directus",paths:Vr})]});var Kr=Ur;function zr(){const e=JSON.parse(JSON.stringify(br));e.auth.url=Ur.state.auth.url,Ur.replaceState(JSON.parse(JSON.stringify(e)))}const Wr=new ll.a,Hr=Kr.state.auth.token,Gr=Kr.state.auth.url,Qr=Hr?Object(ol["getPayload"])(Hr):null;if(Qr&&Gr){const e=Qr.exp.getTime()-Date.now();e>1e4?(Wr.url=Gr,Wr.token=Hr):Kr.dispatch("clearAuth")}Wr.onAutoRefreshSuccess=function(e){Kr.dispatch("refresh",e)},Wr.onAutoRefreshError=function(e){Kr.dispatch("logout",e)},Wr.startInterval();var Xr=Wr,Yr=i("8dee"),Jr=i.n(Yr);const Zr={delay:5e3},ec=function(e){const t={...Zr,...e,id:Jr.a.generate()};Kr.commit(pa,t)};var tc=ec;const ic=e=>{Object(_["isEmpty"])(e.message)||console.error(e.message),Object(_["isUndefined"])(e.error)||console.error(e.error),Object(_["isEmpty"])(e.notify)||tc({title:e.notify,color:"red",iconMain:"error"})};var sc=ic;const nc=new v["default"];Object.defineProperties(nc,{on:{get(){return nc.$on}},off:{get(){return nc.$off}},emit:{get(){return nc.$emit}},once:{get(){return nc.$once}}}),nc.on("error",sc),nc.install=(e=>{Object.defineProperty(e.prototype,"$events",{value:nc})});var ac=nc,oc=i("caa8");let lc=null;function rc(e){const t=+e.state.settings.auto_sign_out||60;lc=(new oc["a"]).whenNotInteractive().within(t).do(()=>{e.dispatch("logout",{code:101}),lc.stop()}).start()}var cc=i("9224");function dc(){return Promise.all([Kr.dispatch("latency"),Kr.dispatch("getCurrentUser"),Kr.dispatch("getCollections"),Kr.dispatch("getSettings"),Kr.dispatch("getAllExtensions"),Kr.dispatch("getBookmarks"),Kr.dispatch("getUsers"),Kr.dispatch("getRelations"),Kr.dispatch("getServerInfo")]).then(()=>Kr.dispatch("getPermissions")).then(()=>{const e=Kr.state.settings.color;e&&document.documentElement.style.setProperty("--accent",`var(--${e}-600)`)}).then(()=>{Le.includes(Kr.state.currentUser.locale)&&Re(Kr.state.currentUser.locale)}).then(()=>{ml(),rc(Kr)}).then(()=>{const e=Kr.state.currentUser.admin;e&&navigator.onLine&&I.a.post("https://telemetry.directus.io/count",{type:"app",url:window.location.origin,version:cc["a"]}).catch(()=>{})}).then(()=>{Kr.commit(Xn,new Date)}).catch(e=>{Kr.commit(Yn,e),console.error(e)})}var uc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"collections"},[i("v-header",{attrs:{breadcrumb:[{name:e.$t("collections"),path:"/collections"}]}}),0===e.items.length?i("v-error",{attrs:{title:e.$t("no_collections"),body:e.$t("no_collections_body"),icon:"error_outline"}}):i("v-table",{attrs:{items:e.items,columns:e.fields,"primary-key-field":"collection",link:"__link__"},on:{select:e.select}})],1)},hc=[],pc={name:"collections",metaInfo(){return{title:this.$t("collections")}},components:{VError:Pi},computed:{items(){return null==this.collections?[]:Object.values(this.collections).filter(e=>0==e.hidden&&1==e.managed&&!1===e.collection.startsWith("directus_")).filter(e=>{return e.status_mapping?this.$lodash.some(this.permissions[e.collection].statuses,e=>"none"!==e.read):"none"!==this.permissions[e.collection].read}).map(e=>({...e,collection:this.$t(`collections-${e.collection}`),__link__:`/collections/${e.collection}`}))},fields(){return[{field:"collection",name:this.$t("collection")},{field:"note",name:this.$t("note")}]},collections(){return this.$store.state.collections},permissions(){return this.$store.state.permissions}},methods:{select(e){this.selection=e}}},mc=pc,fc=(i("8634"),Object(R["a"])(mc,uc,hc,!1,null,"3e342b18",null));fc.options.__file="collections.vue";var vc=fc.exports,_c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.notFound?i("v-not-found"):i("div",{staticClass:"route-item-listing"},[i("v-header",{attrs:{"info-toggle":"",breadcrumb:e.breadcrumb}},[i("template",{slot:"title"},[i("button",{staticClass:"bookmark",class:e.currentBookmark?"active":null,attrs:{disabled:e.currentBookmark},on:{click:function(t){e.bookmarkModal=!0}}},[i("i",{staticClass:"material-icons"},[e._v("\n          "+e._s(e.currentBookmark?"bookmark":"bookmark_border")+"\n        ")])]),e.currentBookmark?i("div",{staticClass:"bookmark-name no-wrap"},[e._v("("+e._s(e.currentBookmark.title)+")")]):e._e()]),i("v-search-filter",{directives:[{name:"show",rawName:"v-show",value:e.selection&&0===e.selection.length&&!e.emptyCollection,expression:"selection && selection.length === 0 && !emptyCollection"}],attrs:{filters:e.filters,"search-query":e.searchQuery,"field-names":e.fieldNames,placeholder:e.resultCopy},on:{filter:function(t){e.updatePreferences("filters",t)},search:function(t){e.updatePreferences("search_query",t)},"clear-filters":e.clearFilters}}),i("template",{slot:"buttons"},[e.editButton&&!e.activity?i("v-header-button",{key:"edit",attrs:{icon:"mode_edit",color:"warning",disabled:!e.editButtonEnabled,label:e.$t("batch"),to:e.batchURL}}):e._e(),e.deleteButton&&!e.activity?i("v-header-button",{key:"delete",attrs:{icon:"close",color:"danger",disabled:!e.deleteButtonEnabled,label:e.$t("delete")},on:{click:function(t){e.confirmRemove=!0}}}):e._e(),e.addButton&&!e.activity?i("v-header-button",{key:"add",attrs:{icon:"add",color:"action",label:e.$t("new"),to:"/collections/"+e.collection+"/+"}}):e._e()],1)],2),e.preferences?i("v-items",{ref:"listing",attrs:{collection:e.collection,filters:e.filters,"search-query":e.searchQuery,"view-query":e.viewQuery,"view-type":e.viewType,"view-options":e.viewOptions,selection:e.activity?null:e.selection,links:""},on:{fetch:function(t){e.meta=t},options:e.setViewOptions,select:function(t){e.selection=t},query:e.setViewQuery}}):e._e(),e.preferences?i("v-info-sidebar",[i("template",{slot:"system"},[i("v-select",{attrs:{id:"layout",options:e.layoutNames,value:e.viewType,name:"layout"},on:{input:function(t){e.updatePreferences("view_type",t)}}})],1),i("v-ext-layout-options",{key:e.collection+"-"+e.viewType,attrs:{type:e.viewType,collection:e.collection,fields:e.$lodash.keyBy(e.fields,"field"),"view-options":e.viewOptions,"view-query":e.viewQuery,selection:e.selection,link:"__link__"},on:{query:e.setViewQuery,options:e.setViewOptions}})],2):e._e(),e.confirmRemove?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{message:e.$tc("batch_delete_confirm",e.selection.length,{count:e.selection.length}),color:"danger","confirm-text":e.$t("delete")},on:{cancel:function(t){e.confirmRemove=!1},confirm:e.remove}})],1):e._e(),e.bookmarkModal?i("portal",{attrs:{to:"modal"}},[i("v-prompt",{attrs:{message:e.$t("name_bookmark")},on:{cancel:e.cancelBookmark,confirm:e.saveBookmark},model:{value:e.bookmarkTitle,callback:function(t){e.bookmarkTitle=t},expression:"bookmarkTitle"}})],1):e._e()],1)},gc=[],yc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"searchFilter",staticClass:"search-filter",class:{open:e.open}},[i("v-header-button",{staticClass:"toggle",attrs:{alert:e.hasFilters,icon:"filter_list","no-background":""},on:{click:function(t){e.open=!e.open}}},[e._v("Filter")]),i("div",{staticClass:"wrapper"},[i("i",{staticClass:"material-icons"},[e._v("search")]),i("input",{ref:"searchInput",staticClass:"search",class:{"has-filters":e.hasFilters},attrs:{placeholder:e.placeholder||e.$t("search"),type:"text"},domProps:{value:e.searchQuery},on:{input:function(t){e.search(t.target.value)}}}),i("transition",{attrs:{name:"fade"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.hasFilters,expression:"hasFilters"}],staticClass:"clear-filters",class:{"has-filters":e.hasFilters},on:{click:e.clearFilters}},[i("i",{staticClass:"material-icons"},[e._v("close")])])]),i("button",{staticClass:"toggle",class:{"has-filters":e.hasFilters},on:{click:function(t){e.open=!e.open}}},[i("i",{staticClass:"material-icons"},[e._v("filter_list")])])],1),i("transition",{attrs:{name:"slide"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticClass:"dropdown"},[i("div",{staticClass:"search field"},[i("v-input",{attrs:{placeholder:e.placeholder||e.$t("search"),value:e.searchQuery,type:"search","icon-left":"search"},on:{input:e.search}})],1),e._l(e.filters,function(t,s){return i("div",{key:s,staticClass:"field"},[i("invisible-label",{attrs:{"html-for":"filter-"+s}},[e._v("\n          "+e._s(e.fields[t.field])+" "+e._s(e.operators[t.operator])+"\n        ")]),i("div",{staticClass:"name"},[i("p",[e._v(e._s(e.fields[t.field]))]),i("span",[e._v("\n            "+e._s(e.$t(e.operators[t.operator]))+"\n            "),i("i",{staticClass:"material-icons"},[e._v("arrow_drop_down")]),i("select",{on:{change:function(t){e.updateFilter(s,"operator",t.target.value)}}},e._l(e.operators,function(t,s){return i("option",{key:s,domProps:{value:s}},[e._v(e._s(e.$t(t)))])}))]),i("button",{staticClass:"remove",on:{click:function(t){e.deleteFilter(s)}}},[e._v(e._s(e.$t("remove")))])]),i("v-input",{attrs:{autofocus:"",id:"filter-"+s,value:t.value,type:"text"},on:{input:function(t){e.updateFilter(s,"value",t)}}})],1)}),i("div",{staticClass:"field"},[i("invisible-label",{attrs:{"html-for":"add"}},[e._v(e._s(e.$t("add_field_filter")))]),i("v-select",{attrs:{id:"add",icon:"add_circle",placeholder:e.$t("add_field_filter"),options:e.fields,"default-value":""},on:{input:e.addFilter}})],1)],2)]),e.open?i("v-blocker",{staticClass:"blocker",attrs:{"z-index":18},on:{click:function(t){e.open=!e.open}}}):e._e()],1)},bc=[],$c={name:"search-filter",components:{VBlocker:Na},props:{fieldNames:{type:Array,default:()=>[]},filters:{type:Array,default:()=>[]},searchQuery:{type:String,default:""},placeholder:{type:String,default:null}},data(){return{open:!1}},computed:{operators(){return{eq:"equal_to",neq:"not_equal_to",lt:"less_than",lte:"less_than_equal",gt:"greater_than",gte:"greater_than_equal",in:"in_list",nin:"not_in_list",null:"is_null",nnull:"is_not_null",contains:"contains",ncontains:"not_contains",empty:"is_empty",nempty:"not_empty",has:"related_entries",nhas:"no_related_entries"}},hasFilters(){return!!(this.filters&&this.filters.length>0||this.searchQuery)},fields(){const e={};return this.fieldNames.forEach(t=>{e[t]=this.$helpers.formatTitle(t)}),e}},created(){this.search=this.$lodash.debounce(this.search,300),this.updateFilter=this.$lodash.debounce(this.updateFilter,300)},mounted(){window.addEventListener("click",this.closeFilter)},beforeDestroy(){window.removeEventListener("click",this.closeFilter)},methods:{search(e){this.$emit("search",e)},addFilter(e){this.$emit("filter",[...this.filters,{field:e,operator:"contains",value:""}])},updateFilter(e,t,i){const s=this.$lodash.cloneDeep(this.filters);s[e][t]=i,this.$emit("filter",s)},deleteFilter(e){const t=this.$lodash.cloneDeep(this.filters);t.splice(e,1),this.$emit("filter",t)},clearFilters(){this.$emit("clear-filters"),this.open&&(this.open=!1)},closeFilter(e){const t=this.$refs.searchFilter.contains(e.target);this.open&&!1===t&&(this.open=!1)}}},kc=$c,wc=(i("d45e"),Object(R["a"])(kc,yc,bc,!1,null,"4cdece3f",null));wc.options.__file="search-filter.vue";var Cc=wc.exports,xc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"not-found"},[i("v-header",{attrs:{title:e.$t("page_not_found")}}),i("v-error",{attrs:{title:e.$t("page_not_found"),body:e.$t("page_not_found_body"),icon:"not_interested"}})],1)},Ic=[],Sc={name:"not-found",metaInfo(){return{title:this.$t("page_not_found")}},components:{VError:Pi}},Ec=Sc,Oc=(i("d0b0"),Object(R["a"])(Ec,xc,Ic,!1,null,"35cdaf18",null));Oc.options.__file="not-found.vue";var Tc=Oc.exports,Fc={name:"items",metaInfo(){return{title:this.$helpers.formatTitle(this.collection)}},components:{VSearchFilter:Cc,VNotFound:Tc},data(){return{selection:[],meta:null,preferences:null,confirmRemove:!1,bookmarkModal:!1,bookmarkTitle:"",notFound:!1}},computed:{activity(){return"directus_activity"===this.collection},breadcrumb(){if("directus_users"===this.collection)return[{name:this.$t("user_directory"),path:"/users"}];if("directus_files"===this.collection)return[{name:this.$t("file_library"),path:"/files"}];const e=[];return this.collection.startsWith("directus_")?e.push({name:this.$helpers.formatTitle(this.collection.substr(9)),path:`/${this.collection.substring(9)}`}):e.push({name:this.$t("collections"),path:"/collections"},{name:this.$t(`collections-${this.collection}`),path:`/collections/${this.collection}`}),e},fields(){const e=this.$store.state.collections[this.collection].fields;return Object.values(e).map(e=>({...e,name:this.$helpers.formatTitle(e.field)}))},batchURL(){return`/collections/${this.collection}/${this.selection.map(e=>e[this.primaryKeyField]).join(",")}`},currentBookmark(){if(!this.preferences)return;const e=this.$store.state.bookmarks,t={collection:this.preferences.collection,search_query:this.preferences.search_query,filters:this.preferences.filters,view_options:this.preferences.view_options,view_type:this.preferences.view_type,view_query:this.preferences.view_query},i=e.filter(e=>{const i={collection:e.collection,search_query:e.search_query,filters:e.filters,view_options:e.view_options,view_type:e.view_type,view_query:e.view_query};return this.$lodash.isEqual(i,t)})[0];return i||null},collection(){return this.$route.params.collection},emptyCollection(){return this.meta&&0===this.meta.total_count||!1},filters(){return this.preferences&&this.preferences.filters||[]},searchQuery(){return this.preferences&&this.preferences.search_query||""},viewType(){return this.preferences&&this.preferences.view_type||"tabular"},viewQuery(){return this.preferences&&this.preferences.view_query&&this.preferences.view_query[this.viewType]||{}},viewOptions(){return this.preferences&&this.preferences.view_options&&this.preferences.view_options[this.viewType]||{}},resultCopy(){if(!this.meta||!this.preferences)return this.$t("loading");const e=!this.$lodash.isEmpty(this.preferences.filters)||!this.$lodash.isNil(this.preferences.search_query)&&this.preferences.search_query.length>0;return e?this.$tc("item_count_filter",this.meta.result_count,{count:this.$n(this.meta.result_count)}):this.$tc("item_count",this.meta.total_count,{count:this.$n(this.meta.total_count)})},fieldNames(){return this.fields.map(e=>e.field)},layoutNames(){if(!this.$store.state.extensions.layouts)return{};const e={};return Object.keys(this.$store.state.extensions.layouts).forEach(t=>{e[t]=this.$store.state.extensions.layouts[t].name}),e},statusField(){return this.fields?(this.$lodash.find(Object.values(this.fields),e=>"status"===e.type.toLowerCase())||{}).field:null},userCreatedField(){return this.fields?(this.$lodash.find(Object.values(this.fields),e=>"user_created"===e.type.toLowerCase())||{}).field:null},primaryKeyField(){return this.fields?this.$lodash.find(this.fields,{primary_key:!0}).field:null},permission(){return this.$store.state.permissions[this.collection]},addButton(){return!!this.$store.state.currentUser.admin||(this.statusField?Object.values(this.permission.statuses).some(e=>"full"===e.create)||"full"===this.permission.$create.create:"full"===this.permission.create)},deleteButton(){return!!this.selection&&0!==this.selection.length},deleteButtonEnabled(){if(this.$store.state.currentUser.admin)return!0;const e=this.$store.state.currentUser.id;let t=!0;return this.selection.forEach(i=>{const s=this.statusField?i[this.statusField]:null,n=this.statusField?this.permission.statuses[s]:this.permission,a=i[this.userCreatedField];if("none"===n.delete)return t=!1;if("mine"===n.delete&&a!==e)return t=!1;if("role"===n.delete){const e=this.$store.state.users[a],i=this.$store.state.currentUser.roles;let s=!1;if(e.forEach(e=>{i.includes(e)&&(s=!0)}),!1===s)return t=!1}}),t},editButton(){return!!(this.selection&&this.selection.length>1)},editButtonEnabled(){const e=this.$store.state.currentUser.id;let t=!0;return!!this.$store.state.currentUser.admin||(this.selection.forEach(i=>{const s=this.statusField?i[this.statusField]:null,n=this.statusField?this.permission.statuses[s]:this.permission,a=i[this.userCreatedField];if("none"===n.update)return t=!1;if("mine"===n.update&&a!==e)return t=!1;if("role"===n.update){const e=this.$store.state.users[a],i=this.$store.state.currentUser.roles;let s=!1;if(e.forEach(e=>{i.includes(e)&&(s=!0)}),!1===s)return t=!1}}),t)}},methods:{cancelBookmark(){this.bookmarkTitle="",this.bookmarkModal=!1},setViewQuery(e){const t={...this.preferences.view_query,[this.viewType]:{...this.viewQuery,...e}};this.updatePreferences("view_query",t)},setViewOptions(e){const t={...this.preferences.view_options,[this.viewType]:{...this.viewOptions,...e}};this.updatePreferences("view_options",t)},updatePreferences(e,t,i=!1){i&&(t={...this.preferences[e],...t}),this.$set(this.preferences,e,t);const s=null==this.preferences.user;if(s)return this.createCollectionPreset();const n=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:n}),this.$api.updateCollectionPreset(this.preferences.id,{[e]:t}).then(()=>{this.$store.dispatch("loadingFinished",n)}).catch(e=>{this.$store.dispatch("loadingFinished",n),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})},createCollectionPreset(){const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e});const t={...this.preferences};return delete t.id,this.$api.createCollectionPreset({...t,collection:this.collection,user:this.$store.state.currentUser.id}).then(({data:t})=>{this.$store.dispatch("loadingFinished",e),this.$set(this.preferences,"id",t.id),this.$set(this.preferences,"user",t.user)}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},clearFilters(){this.updatePreferences("filters",null),this.updatePreferences("search_query",null)},remove(){const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteItems(this.collection,this.selection.map(e=>e[this.primaryKeyField])).then(()=>{this.$store.dispatch("loadingFinished",e),this.$refs.listing.getItems(),this.selection=[],this.confirmRemove=!1}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},saveBookmark(){const e={...this.preferences};e.user=this.$store.state.currentUser.id,e.title=this.bookmarkTitle,delete e.id,delete e.role,e.collection||(e.collection=this.collection);const t=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:t}),this.$store.dispatch("saveBookmark",e).then(()=>{this.$store.dispatch("loadingFinished",t),this.bookmarkModal=!1,this.bookmarkTitle=""}).catch(e=>{this.$store.dispatch("loadingFinished",t),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}},watch:{$route(){this.$route.query.b&&this.$router.replace({path:this.$route.path})}},beforeRouteEnter(e,t,i){const{collection:s}=e.params,n=Kr.state.collections[s]||null;if(!1===s.startsWith("directus_")&&null===n)return i(e=>e.notFound=!0);if(n&&n.single)return i(`/collections/${s}/1`);const a=Jr.a.generate();return Kr.dispatch("loadingStart",{id:a}),Xr.getMyListingPreferences(s).then(e=>{Kr.dispatch("loadingFinished",a),i(t=>{t.$data.preferences=e})}).catch(e=>{Kr.dispatch("loadingFinished",a),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})},beforeRouteUpdate(e,t,i){const{collection:s}=e.params;this.preferences=null,this.selection=[],this.meta={},this.notFound=!1;const n=this.$store.state.collections[s]||null;if(!1===s.startsWith("directus_")&&null===n)return this.notFound=!0,i();if(n&&n.single)return i(`/collections/${s}/1`);const a=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:a}),Xr.getMyListingPreferences(s).then(e=>{this.$store.dispatch("loadingFinished",a),this.preferences=e,i()}).catch(e=>{this.$store.dispatch("loadingFinished",a),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}},Nc=Fc,jc=(i("be34"),Object(R["a"])(Nc,_c,gc,!1,null,"29c2c3a8",null));jc.options.__file="items.vue";var Ac=jc.exports,Mc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.notFound?i("v-not-found"):i("div",{staticClass:"route-file-library"},[i("v-header",{attrs:{"info-toggle":"",breadcrumb:e.breadcrumb}},[i("template",{slot:"title"},[i("button",{staticClass:"bookmark",class:e.currentBookmark?"active":null,attrs:{disabled:e.currentBookmark},on:{click:function(t){e.bookmarkModal=!0}}},[i("i",{staticClass:"material-icons"},[e._v("\n          "+e._s(e.currentBookmark?"bookmark":"bookmark_border")+"\n        ")])]),e.currentBookmark?i("div",{staticClass:"bookmark-name no-wrap"},[e._v("("+e._s(e.currentBookmark.title)+")")]):e._e()]),i("v-search-filter",{directives:[{name:"show",rawName:"v-show",value:0===e.selection.length&&!e.emptyCollection,expression:"selection.length === 0 && !emptyCollection"}],attrs:{filters:e.filters,"search-query":e.searchQuery,"field-names":e.fieldNames,placeholder:e.resultCopy},on:{filter:function(t){e.updatePreferences("filters",t)},search:function(t){e.updatePreferences("search_query",t)},"clear-filters":e.clearFilters}}),i("template",{slot:"buttons"},[e.selection.length>1?i("v-header-button",{key:"edit",attrs:{icon:"mode_edit",color:"warning",label:e.$t("batch"),to:"/collections/"+e.collection+"/"+e.selection.join(",")}}):e._e(),e.selection.length?i("v-header-button",{key:"delete",attrs:{icon:"close",color:"danger",label:e.$t("delete")},on:{click:function(t){e.confirmRemove=!0}}}):e._e(),i("v-header-button",{key:"add",attrs:{icon:"add",color:"action",label:e.$t("new")},on:{click:function(t){e.newModal=!0}}})],1)],2),e.preferences?i("v-items",{key:e.key,ref:"listing",attrs:{collection:e.collection,filters:e.filters,"search-query":e.searchQuery,"view-query":e.viewQuery,"view-type":e.viewType,"view-options":e.viewOptions,selection:e.selection,links:""},on:{fetch:function(t){e.meta=t},options:e.setViewOptions,select:function(t){e.selection=t},query:e.setViewQuery}}):e._e(),e.preferences?i("v-info-sidebar",[i("template",{slot:"system"},[i("label",{staticClass:"style-4",attrs:{for:"listing"}},[e._v(e._s(e.$t("view_type")))]),i("v-select",{attrs:{id:"listing",options:e.layoutNames,value:e.viewType,name:"listing"},on:{input:function(t){e.updatePreferences("view_type",t)}}})],1),i("v-ext-layout-options",{key:e.collection+"-"+e.viewType,attrs:{type:e.viewType,collection:e.collection,fields:e.$lodash.keyBy(e.fields,"field"),"view-options":e.viewOptions,"view-query":e.viewQuery,selection:e.selection,link:"__link__"},on:{query:e.setViewQuery,options:e.setViewOptions}})],2):e._e(),e.confirmRemove?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{message:e.$tc("batch_delete_confirm",e.selection.length,{count:e.selection.length}),color:"danger","confirm-text":e.$t("delete")},on:{cancel:function(t){e.confirmRemove=!1},confirm:e.remove}})],1):e._e(),e.bookmarkModal?i("portal",{attrs:{to:"modal"}},[i("v-prompt",{attrs:{message:e.$t("name_bookmark")},on:{cancel:e.cancelBookmark,confirm:e.saveBookmark},model:{value:e.bookmarkTitle,callback:function(t){e.bookmarkTitle=t},expression:"bookmarkTitle"}})],1):e._e(),e.newModal?i("portal",{attrs:{to:"modal"}},[i("v-modal",{attrs:{title:e.$t("file_upload"),buttons:{done:{text:e.$t("done")}}},on:{done:function(t){e.newModal=!1},close:function(t){e.newModal=!1}}},[i("div",{staticClass:"modal-body"},[i("v-upload",{on:{upload:function(t){e.key=e.$helpers.shortid.generate()}}})],1)])],1):e._e()],1)},qc=[],Pc={name:"route-file-library",metaInfo(){return{title:this.$t("file_library")}},components:{VSearchFilter:Cc,VNotFound:Tc},data(){return{selection:[],meta:null,preferences:null,confirmRemove:!1,bookmarkModal:!1,bookmarkTitle:"",notFound:!1,newModal:!1,key:"init"}},computed:{breadcrumb(){return[{name:this.$t("file_library"),path:"/files"}]},fields(){const e=this.$store.state.collections[this.collection].fields;return Object.values(e).map(e=>({...e,name:this.$helpers.formatTitle(e.field)}))},currentBookmark(){if(!this.preferences)return;const e=this.$store.state.bookmarks,t={collection:this.preferences.collection,search_query:this.preferences.search_query,filters:this.preferences.filters,view_options:this.preferences.view_options,view_type:this.preferences.view_type,view_query:this.preferences.view_query},i=e.filter(e=>{const i={collection:e.collection,search_query:e.search_query,filters:e.filters,view_options:e.view_options,view_type:e.view_type,view_query:e.view_query};return this.$lodash.isEqual(i,t)})[0];return i||null},collection(){return"directus_files"},emptyCollection(){return this.meta&&0===this.meta.total_count||!1},filters(){return this.preferences&&this.preferences.filters||[]},searchQuery(){return this.preferences&&this.preferences.search_query||""},viewType(){return this.preferences&&this.preferences.view_type||"tabular"},viewQuery(){return this.preferences&&this.preferences.view_query&&this.preferences.view_query[this.viewType]||{}},viewOptions(){return this.preferences&&this.preferences.view_options&&this.preferences.view_options[this.viewType]||{}},resultCopy(){if(!this.meta||!this.preferences)return this.$t("loading");const e=!this.$lodash.isEmpty(this.preferences.filters)||!this.$lodash.isNil(this.preferences.search_query)&&this.preferences.search_query.length>0;return e?this.$tc("item_count_filter",this.meta.result_count,{count:this.$n(this.meta.result_count)}):this.$tc("item_count",this.meta.total_count,{count:this.$n(this.meta.total_count)})},fieldNames(){return this.fields.map(e=>e.field)},layoutNames(){if(!this.$store.state.extensions.layouts)return{};const e={};return Object.keys(this.$store.state.extensions.layouts).forEach(t=>{e[t]=this.$store.state.extensions.layouts[t].name}),e}},methods:{cancelBookmark(){this.bookmarkTitle="",this.bookmarkModal=!1},setViewQuery(e){const t={...this.preferences.view_query,[this.viewType]:{...this.viewQuery,...e}};this.updatePreferences("view_query",t)},setViewOptions(e){const t={...this.preferences.view_options,[this.viewType]:{...this.viewOptions,...e}};this.updatePreferences("view_options",t)},updatePreferences(e,t,i=!1){i&&(t={...this.preferences[e],...t}),this.$set(this.preferences,e,t);const s=null==this.preferences.user;if(s)return this.createCollectionPreset();const n=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:n}),this.$api.updateCollectionPreset(this.preferences.id,{[e]:t}).then(()=>{this.$store.dispatch("loadingFinished",n)}).catch(e=>{this.$store.dispatch("loadingFinished",n),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})},createCollectionPreset(){const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e});const t={...this.preferences};return delete t.id,this.$api.createCollectionPreset({...t,collection:this.collection,user:this.$store.state.currentUser.id}).then(({data:t})=>{this.$store.dispatch("loadingFinished",e),this.$set(this.preferences,"id",t.id),this.$set(this.preferences,"user",t.user)}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},clearFilters(){this.updatePreferences("filters",null),this.updatePreferences("search_query",null)},remove(){const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteItems(this.collection,this.selection.map(e=>e.id)).then(()=>{this.$store.dispatch("loadingFinished",e),this.$refs.listing.getItems(),this.selection=[]}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})}),this.confirmRemove=!1},saveBookmark(){const e={...this.preferences};e.user=this.$store.state.currentUser.id,e.title=this.bookmarkTitle,delete e.id,delete e.role,e.collection||(e.collection=this.collection);const t=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:t}),this.$store.dispatch("saveBookmark",e).then(()=>{this.$store.dispatch("loadingFinished",t),this.bookmarkModal=!1,this.bookmarkTitle=""}).catch(e=>{this.$store.dispatch("loadingFinished",t),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}},watch:{$route(){this.$route.query.b&&this.$router.replace({path:this.$route.path})}},beforeRouteEnter(e,t,i){const s="directus_files",n=Kr.state.collections[s]||null;if(!1===s.startsWith("directus_")&&null===n)return i(e=>e.notFound=!0);if(n&&n.single)return i(`/collections/${s}/1`);const a=Jr.a.generate();return Kr.dispatch("loadingStart",{id:a}),Promise.all([Xr.getMyListingPreferences(s)]).then(([e])=>({preferences:e})).then(({preferences:e})=>{Kr.dispatch("loadingFinished",a),i(t=>{t.$data.preferences=e})}).catch(e=>{Kr.dispatch("loadingFinished",a),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})},beforeRouteUpdate(e,t,i){const s="directus_files";this.preferences=null,this.selection=[],this.meta={},this.notFound=!1;const n=this.$store.state.collections[s]||null;if(!1===s.startsWith("directus_")&&null===n)return this.notFound=!0,i();if(n&&n.single)return i(`/collections/${s}/1`);const a=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:a}),Promise.all([Xr.getMyListingPreferences(s)]).then(([e])=>({preferences:e})).then(({preferences:e})=>{this.$store.dispatch("loadingFinished",a),this.preferences=e,i()}).catch(e=>{this.$store.dispatch("loadingFinished",a),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}},Dc=Pc,Rc=(i("7cef"),Object(R["a"])(Dc,Mc,qc,!1,null,"5b18008a",null));Rc.options.__file="file-library.vue";var Lc=Rc.exports,Bc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.notFound?i("v-not-found"):e.error?i("div",[i("v-header"),e.error?i("v-error",{attrs:{icon:"error_outline",color:"warning",title:e.$t("server_trouble"),body:e.$t("server_trouble_copy")}}):e._e()],1):null===e.fields?i("div",[i("v-header"),i("v-loader",{attrs:{area:"content"}})],1):i("div",{key:e.collection+"-"+e.primaryKey,staticClass:"edit"},[i("v-header",{attrs:{breadcrumb:e.breadcrumb,"info-toggle":!e.newItem&&!e.batch&&!e.activityDetail}},[i("template",{slot:"buttons"},[e.newItem||e.singleItem||"none"===e.permission.delete?e._e():i("v-header-button",{attrs:{icon:"close",color:"danger",label:e.$t("delete")},on:{click:function(t){e.confirmRemove=!0}}}),e.batch&&"none"!==e.permission.update?i("v-header-button",{attrs:{disabled:!e.editing,loading:e.saving,label:e.$t("save"),icon:"check",color:"action"},on:{click:function(t){e.confirmBatchSave=!0}}}):(e.isNew?"none"!==e.permission.create:"none"!==e.permission.update)?i("v-header-button",{attrs:{disabled:!e.editing,loading:e.saving,label:e.$t("save"),options:{stay:e.$t("save_and_stay"),add:e.$t("save_and_add"),copy:e.$t("save_as_copy")},icon:"check",color:"action"},on:{click:function(t){e.singleItem?e.save("stay"):e.save("leave")},input:e.save}}):e._e()],1)],2),e.newItem||e.batch?e._e():i("v-info-sidebar",{attrs:{wide:""}},[i("div",{staticClass:"tabs"},[i("button",{class:{active:"both"===e.activeTab},on:{click:function(t){e.activeTab="both"}}},[e._v(e._s(e.$t("both")))]),"none"!==e.permission.comment?i("button",{class:{active:"comments"===e.activeTab},on:{click:function(t){e.activeTab="comments"}}},[e._v(e._s(e.$t("comments")))]):e._e(),i("button",{class:{active:"activity"===e.activeTab},on:{click:function(t){e.activeTab="activity"}}},[e._v(e._s(e.$t("activity")))])]),i("v-activity",{attrs:{activity:e.activity,revisions:e.revisions,loading:e.activityLoading,show:e.activeTab,"comment-permission":e.permission.comment},on:{input:e.postComment,revert:function(t){e.revertActivity=t}}})],1),i("v-form",{ref:"form",attrs:{readonly:e.readonly,fields:e.fields,values:e.values,collection:e.collection,"batch-mode":e.batch,permissions:e.permission,"new-item":e.newItem},on:{"unstage-value":e.unstageValue,"stage-value":e.stageValue}}),e.confirmRemove?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{message:e.batch?e.$tc("batch_delete_confirm",e.primaryKey.split(",").length,{count:e.primaryKey.split(",").length}):e.$t("delete_are_you_sure"),busy:e.confirmRemoveLoading},on:{cancel:function(t){e.confirmRemove=!1},confirm:e.remove}})],1):e._e(),e.confirmNavigation?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{message:e.$t("unsaved_changes_copy"),"confirm-text":e.$t("keep_editing"),"cancel-text":e.$t("discard_changes")},on:{confirm:function(t){e.confirmNavigation=!1},cancel:function(t){e.$router.push(e.leavingTo),e.confirmNavigation=!1}}})],1):e._e(),e.confirmBatchSave?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{message:e.$t("update_confirm",{count:e.primaryKey.split(",").length}),"confirm-text":e.$t("update")},on:{confirm:function(t){e.save("leave")},cancel:function(t){e.confirmBatchSave=!1}}})],1):e._e(),e.revertActivity?i("portal",{attrs:{to:"modal"}},[i("v-modal",{attrs:{title:e.$t("preview_and_revert"),buttons:{revert:{text:e.$t("revert"),loading:e.reverting}}},on:{revert:function(t){e.revertItem(e.revertActivity.revision.id)},close:function(t){e.revertActivity=!1}}},[i("div",{staticClass:"revert"},[i("p",{staticClass:"notice"},[e._v(e._s(e.$t("revert_copy",{date:e.$d(e.revertActivity.date,"long")})))]),i("v-form",{attrs:{readonly:"",values:e.revertActivity.revision.data,fields:e.fields}})],1)])],1):e._e()],1)},Vc=[],Uc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-activity"},[i("form",{directives:[{name:"show",rawName:"v-show",value:"none"!==e.commentPermission&&"read"!==e.commentPermission&&"activity"!==e.show,expression:"(commentPermission !== 'none' && commentPermission !== 'read') && (show !== 'activity')"}],staticClass:"new-comment",on:{submit:function(t){return t.preventDefault(),e.postComment(t)}}},[i("v-textarea",{staticClass:"textarea",attrs:{rows:5,required:"",placeholder:e.$t("leave_comment")},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}}),i("button",{attrs:{type:"submit",disabled:0===e.comment.trim().length}},[e._v(e._s(e.$t("submit")))])],1),e._l(e.activityWithChanges,function(t,s){return i("article",{key:t.id,staticClass:"activity-item"},[t.action&&"comment"===t.action.toLowerCase()?i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("comment"),expression:"$t('comment')"}],staticClass:"material-icons"},[e._v("message")]):i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$helpers.formatTitle(t.action),expression:"$helpers.formatTitle(activity.action)"}],staticClass:"indicator",class:t.action}),i("div",{staticClass:"content"},["external"!==t.action&&t.changes&&t.name?i("details",[i("summary",{staticClass:"title"},[e._v(e._s(t.name)),t.date?i("span",[e._v("•")]):e._e(),t.date?i("v-timeago",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$d(t.date,"long"),delay:{show:1500,hide:100}},expression:"{ content: $d(activity.date, 'long'), delay: {show: 1500, hide: 100}  }"}],staticClass:"date",attrs:{"auto-update":1,since:t.date,locale:e.$i18n.locale}}):e._e(),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Revision Details",expression:"'Revision Details'"}],staticClass:"material-icons chevron"},[e._v("chevron_left")])],1),t.changes?i("div",[i("v-diff",{attrs:{changes:t.changes}}),0!==s?i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("revert"),expression:"$t('revert')"}],staticClass:"revert",on:{click:function(i){e.$emit("revert",t)}}},[i("i",{staticClass:"material-icons"},[e._v("restore")])]):e._e()],1):e._e()]):t.name?i("div",{staticClass:"title"},[e._v(e._s(t.name)),t.date?i("span",[e._v("•")]):e._e(),t.date?i("v-timeago",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.$d(t.date,"long"),delay:{show:1500,hide:100}},expression:"{ content: $d(activity.date, 'long'), delay: {show: 1500, hide: 100} }"}],staticClass:"date",attrs:{"auto-update":1,since:t.date,locale:e.$i18n.locale}}):e._e()],1):e._e(),t.htmlcomment?i("p",{class:{comment:t.action&&"comment"===t.action.toLowerCase()},domProps:{innerHTML:e._s(t.htmlcomment)}}):e._e()])])})],2)},Kc=[],zc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-diff"},e._l(e.changes,function(t){var s=t.field,n=t.before,a=t.after;return i("div",{key:s,staticClass:"change"},[i("p",[e._v(e._s(e.$helpers.formatTitle(s)))]),i("div",{staticClass:"diff"},[i("div",{staticClass:"before",class:{empty:!n}},[e._v(e._s(n||"--"))]),i("div",{staticClass:"after",class:{empty:!a}},[e._v(e._s(a||"--"))])])])}))},Wc=[],Hc={name:"v-diff",props:{changes:{type:Object,required:!0}}},Gc=Hc,Qc=(i("f76e"),Object(R["a"])(Gc,zc,Wc,!1,null,"634595e2",null));Qc.options.__file="diff.vue";var Xc=Qc.exports,Yc={name:"v-activity",components:{VDiff:Xc},data(){return{comment:""}},props:{activity:{type:Array,required:!0},revisions:{type:Object,required:!0},loading:{type:Boolean,default:!1},show:{type:String,default:"both"},commentPermission:{type:String,default:"none"}},computed:{activityFiltered(){switch(this.show){case"comments":return"none"===this.commentPermission?[]:this.activity.filter(e=>null!==e.comment);case"activity":return this.activity.filter(e=>null===e.comment);case"both":default:return this.activity.filter(e=>{return"none"!==this.commentPermission||null==e.comment})}},activityWithChanges(){const e=this.activityFiltered.map((e,t)=>({...e,changes:this.getChanges(e.id,t),revision:this.revisions[e.id]}));if(0===e.length)return[];const t=e&&e[e.length-1];if(t||"comments"===this.show){const i="create"===t.action.toLowerCase(),s="upload"===t.action.toLowerCase();i||s||e.push({action:"external",comment:this.$t("activity_outside_directus"),id:-1})}else e.push({action:"external",comment:this.$t("activity_outside_directus"),id:-1});return e.map(e=>({...e,htmlcomment:this.$helpers.snarkdown((e.comment||"").replace(/#/g,"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")||"")}))}},methods:{getChanges(e,t){const i=this.revisions[e];if(!i)return null;let s=null;for(let l=t+1;l<this.activityFiltered.length;l++)if("update"===this.activityFiltered[l].action||"create"===this.activityFiltered[l].action||"upload"===this.activityFiltered[l].action){s=this.activityFiltered[l];break}if(!s)return null;const n=this.revisions[s.id],a=n&&n.data||{},o=i.delta;return this.$lodash.mapValues(o,(e,t)=>({before:a[t],after:e,field:t}))},postComment(){this.$emit("input",this.comment),this.comment=""}}},Jc=Yc,Zc=(i("d8fe"),i("04bd"),Object(R["a"])(Jc,Uc,Kc,!1,null,"184fcea3",null));Zc.options.__file="activity.vue";var ed=Zc.exports;function td(e){const t=Kr.state.collections[e].fields;return Object.values(t).map(e=>e.field).map(i=>{const s=t[i];return"o2m"===(s.type&&s.type.toLowerCase())&&null!=Kr.getters.o2m(e,i).junction?i.endsWith(".*.*")?i:i+".*.*":"m2o"===(s.type&&s.type.toLowerCase())||"o2m"===(s.type&&s.type.toLowerCase())||"m2m"===(s.type&&s.type.toLowerCase())||"translation"===(s.type&&s.type.toLowerCase())||"file"===(s.type&&s.type.toLowerCase())?i.endsWith(".*")?i:i+".*":i}).join(",")}var id={name:"edit",metaInfo(){const e=this.collection.startsWith("directus_")?this.$helpers.formatTitle(this.collection.substr(9)):this.$helpers.formatTitle(this.collection);return this.isNew?{title:this.$t("creating_item_page_title",{collection:e})}:this.batch?{title:this.$t("batch_edit",{collection:e})}:{title:this.$t("editing",{collection:e})}},components:{VLoader:H,VNotFound:Tc,VError:Pi,VActivity:ed},props:{collection:{type:String,required:!0},primaryKey:{type:null,required:!0}},data(){return{saving:!1,notFound:!1,error:!1,confirmRemove:!1,confirmRemoveLoading:!1,confirmBatchSave:!1,confirmNavigation:!1,leavingTo:"",activeTab:"both",activityLoading:!1,activity:[],revisions:{},revertActivity:null,reverting:!1}},computed:{breadcrumb(){if("directus_users"===this.collection){let e=this.$t("editing_item");return this.primaryKey==this.$store.state.currentUser.id?e=this.$t("editing_my_profile"):this.newItem&&(e=this.$t("creating_item")),[{name:this.$t("user_directory"),path:"/users"},{name:e,path:this.$route.path}]}if("directus_files"===this.collection)return[{name:this.$t("file_library"),path:"/files"},{name:this.newItem?this.$t("creating_item"):this.$t("editing_item"),path:this.$route.path}];if(this.singleItem)return[{name:this.$t("collections"),path:"/collections"},{name:this.$t("editing_single",{collection:this.$helpers.formatTitle(this.collection)}),path:this.$route.path}];const e=[];if(this.collection.startsWith("directus_")?e.push({name:this.$helpers.formatTitle(this.collection.substr(9)),path:`/${this.collection.substring(9)}`}):e.push({name:this.$t("collections"),path:"/collections"},{name:this.$t(`collections-${this.collection}`),path:`/collections/${this.collection}`}),this.batch){const t=this.primaryKey.split(",").length;e.push({name:this.$t("editing_items",{count:t}),path:this.$route.path})}else e.push({name:this.newItem?this.$t("creating_item"):this.$t("editing_item"),path:this.$route.path});return e},collectionInfo(){return this.$store.state.collections[this.collection]},defaultValues(){return this.$lodash.mapValues(this.fields,e=>e.default_value)},values(){const e=this.$store.state.edits.values;return{...this.defaultValues,...this.savedValues||{},...e}},activityDetail(){return"directus_activity"===this.collection},editing(){return this.$store.getters.editing},savedValues(){return this.$store.state.edits.savedValues},newItem(){return"+"===this.primaryKey},singleItem(){return this.collectionInfo&&!0===this.collectionInfo.single},primaryKeyField(){return this.$lodash.find(this.fields,{primary_key:!0}).field},batch(){return this.primaryKey.includes(",")},statusField(){return this.fields?(this.$lodash.find(Object.values(this.fields),e=>e.type&&"status"===e.type.toLowerCase())||{}).field:null},status(){return this.statusField?this.savedValues[this.statusField]:null},permission(){const e=this.$store.state.permissions[this.collection];if(this.batch){if(this.statusField){const t=this.savedValues.map(e=>e[this.statusField]);return this.$lodash.merge({},...t.map(t=>e.statuses[t]))}return e}return this.isNew?this.status?{...e.statuses[this.status],read_field_blacklist:e.$create.read_field_blacklist,write_field_blacklist:e.$create.write_field_blacklist,status_blacklist:e.$create.status_blacklist}:{...e,read_field_blacklist:e.$create.read_field_blacklist,write_field_blacklist:e.$create.write_field_blacklist,status_blacklist:e.$create.status_blacklist}:this.status?e.statuses[this.status]:e},readonly(){return"none"===this.permission.update},isNew(){return"+"===this.primaryKey},fields(){const e=this.$store.state.collections[this.collection].fields;return Object(_["mapValues"])(e,e=>({...e,name:hl()(e.field)}))}},created(){this.isNew?this.stageDefaultValues():(this.fetchActivity(),this.checkOtherUsers())},mounted(){const e=()=>{return this.save("stay"),!1};this.$helpers.mousetrap.bind("mod+s",e),this.formtrap=this.$helpers.mousetrap(this.$refs.form.$el).bind("mod+s",e)},beforeDestroy(){this.$helpers.mousetrap.unbind("mod+s"),this.formtrap.unbind("mod+s")},watch:{$route(){this.fetchActivity()},notFound(e){this.singleItem&&!0===e&&this.$router.push(`/collections/${this.collection}/+`)}},methods:{stageDefaultValues(){this.$lodash.forEach(this.defaultValues,(e,t)=>this.stageValue({field:t,value:e}))},stageValue({field:e,value:t}){this.$store.dispatch("stageValue",{field:e,value:t})},unstageValue(e){this.$store.dispatch("unstageValue",e)},remove(){this.confirmRemoveLoading=!0;const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteItem(this.collection,this.primaryKey).then(()=>{this.$store.dispatch("loadingFinished",e),this.$store.dispatch("discardChanges",e),this.$notify({title:this.$t("item_deleted"),color:"green",iconMain:"check"}),this.confirmRemoveLoading=!1,this.confirmRemove=!1,this.$router.push(`/collections/${this.collection}`)}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},save(e){if(!1===this.$store.getters.editing)return;if(this.saving=!0,"copy"===e){const e=Object.assign({},this.values);let t="";this.$lodash.forEach(this.fields,(e,i)=>{!0===e.primary_key&&(t=i)}),delete e[t];const i=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:i}),this.$store.dispatch("save",{primaryKey:"+",values:e}).then(e=>{return this.$store.dispatch("loadingFinished",i),this.saving=!1,e.data[this.primaryKeyField]}).then(e=>{return this.$notify({title:this.$t("item_saved"),color:"green",iconMain:"check"}),this.collection.startsWith("directus_")?this.$router.push(`/${this.collection.substring(9)}/${e}`):this.$router.push(`/collections/${this.collection}/${e}`)}).catch(e=>{this.$store.dispatch("loadingFinished",i),this.$events.emit("error",{notify:e.message||this.$t("something_went_wrong_body"),error:e})})}const t=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:t}),this.$store.dispatch("save").then(e=>e.data).then(e=>{return this.$store.dispatch("loadingFinished",t),this.saving=!1,e}).then(t=>{const i=this.savedValues.length;if(this.$notify({title:this.$tc("item_saved",i,{count:i}),color:"green",iconMain:"check"}),"leave"===e)return this.collection.startsWith("directus_")?this.$router.push(`/${this.collection.substring(9)}`):this.$router.push(`/collections/${this.collection}`);if("stay"===e){if(this.fetchActivity(),this.newItem){const e=t[this.primaryKeyField];return this.$router.push(`/collections/${this.collection}/${e}`)}this.$store.dispatch("startEditing",{collection:this.collection,primaryKey:this.primaryKey,savedValues:t})}return"add"===e?this.collection.startsWith("directus_")?this.$router.push(`/${this.collection.substring(9)}/+`):this.$router.push(`/collections/${this.collection}/+`):void 0}).catch(e=>{this.saving=!1,this.$store.dispatch("loadingFinished",t),this.$events.emit("error",{notify:e.message||this.$t("something_went_wrong_body"),error:e})})},fetchActivity(){this.activity=[],this.revisions={},this.activeTab="both",this.activityLoading=!0;const e=Jr.a.generate();return Kr.dispatch("loadingStart",{id:e}),Promise.all([this.$api.getActivity({"filter[collection][eq]":this.collection,"filter[item][eq]":this.primaryKey,fields:"id,action,action_on,comment,action_by.first_name,action_by.last_name",sort:"-action_on"}),this.activityDetail?Promise.resolve({data:[]}):this.$api.getItemRevisions(this.collection,this.primaryKey)]).then(([t,i])=>{return Kr.dispatch("loadingFinished",e),{activity:t.data,revisions:i.data}}).then(({activity:e,revisions:t})=>{return{activity:e.map(e=>{const t=new Date(e.action_on),i=`${e.action_by.first_name} ${e.action_by.last_name}`;return{id:e.id,date:t,name:i,action:e.action.toLowerCase(),comment:e.comment}}),revisions:this.$lodash.keyBy(t,"activity")}}).then(({activity:e,revisions:t})=>{this.activity=e,this.revisions=t,this.activityLoading=!1}).catch(t=>{Kr.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},checkOtherUsers(){const e=this.$router.currentRoute.path,t=this.$helpers.date.dateToSql(new Date(new Date-3e5));this.$api.getUsers({"filter[last_access_on][gte]":t,"filter[last_page][eq]":e,"filter[id][neq]":this.$store.state.currentUser.id}).then(e=>e.data).then(e=>{e.length>0&&e.forEach(e=>{const{first_name:t,last_name:i}=e;this.$notify({title:this.$t("user_edit_warning",{first_name:t,last_name:i}),color:"red",iconMain:"error"})})}).catch(e=>{console.error(e)})},postComment(e){const t=Jr.a.generate();Kr.dispatch("loadingStart",{id:t});const i=this.$store.state.currentUser;this.$api.post("/activity/comment",{collection:this.collection,item:this.primaryKey,comment:e}).then(e=>e.data).then(e=>{Kr.dispatch("loadingFinished",t),this.activity=[{...e,name:`${i.first_name} ${i.last_name}`},...this.activity]}).catch(e=>{Kr.dispatch("loadingFinished",t),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})},revertItem(e){this.reverting=!0,this.$api.revert(this.collection,this.primaryKey,e).then(()=>{return this.reverting=!1,this.revertActivity=null,Promise.all([this.$api.getItem(this.collection,this.primaryKey,{fields:td(this.collection)}),this.fetchActivity()])}).then(([{data:e}])=>{this.$store.dispatch("startEditing",{collection:this.collection,primaryKey:this.primaryKey,savedValues:e})}).catch(e=>{this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}},beforeRouteEnter(e,t,i){const{collection:s,primaryKey:n}=e.params,a=Object.keys(Kr.state.collections).includes(s)||s.startsWith("directus_"),o="+"===n;if(!1===a)return i(e=>e.$data.notFound=!0);if(o)return Kr.dispatch("startEditing",{collection:s,primaryKey:n,savedValues:{}}),void i();const l=Jr.a.generate();return Kr.dispatch("loadingStart",{id:l}),Xr.getItem(s,n,{fields:td(s)}).then(e=>e.data).then(e=>{Kr.dispatch("loadingFinished",l),Kr.dispatch("startEditing",{collection:s,primaryKey:n,savedValues:e}),i()}).catch(e=>{return Kr.dispatch("loadingFinished",l),e&&203===e.code?i(e=>e.$data.notFound=!0):(ac.emit("error",{notify:qe.t("something_went_wrong_body"),error:e}),i(e=>e.$data.error=!0))})},beforeRouteUpdate(e,t,i){const{collection:s,primaryKey:n}=e.params,a=Object.keys(this.$store.state.collections).includes(s)||s.startsWith("directus_"),o="+"===n;if(this.saving=!1,this.notFound=!1,this.error=!1,this.confirmRemove=!1,this.confirmRemoveLoading=!1,this.confirmBatchSave=!1,this.confirmNavigation=!1,this.leavingTo="",this.activeTab="both",this.activityLoading=!1,this.activity=[],this.revisions={},this.revertActivity=null,this.reverting=!1,!1===a)return this.notFound=!0,i();if(o)return this.$store.dispatch("startEditing",{collection:s,primaryKey:n,savedValues:{}}),void i();const l=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:l}),this.$api.getItem(s,n,{fields:td(s)}).then(e=>e.data).then(e=>{this.$store.dispatch("loadingFinished",l),this.$store.dispatch("startEditing",{collection:s,primaryKey:n,savedValues:e}),i()}).catch(e=>{if(this.$store.dispatch("loadingFinished",l),e&&203===e.code)return this.notFound=!0,i();this.$events.emit("error",{notify:qe.t("something_went_wrong_body"),error:e}),this.error=e,i()})},beforeRouteLeave(e,t,i){return!1===this.$store.getters.editing?i():!0===this.confirmNavigation?(this.$store.dispatch("discardChanges"),i()):(this.confirmNavigation=!0,this.leavingTo=e.fullPath,i(!1))}},sd=id,nd=(i("2328"),Object(R["a"])(sd,Bc,Vc,!1,null,"42c12b8f",null));nd.options.__file="item.vue";var ad=nd.exports,od=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"login",class:{loading:e.loading}},[e.installing?s("v-install",{attrs:{saving:e.saving},on:{install:e.install}}):s("form",{on:{submit:function(t){return t.preventDefault(),e.processForm(t)}}},[s("img",{staticClass:"logo",attrs:{alt:"",src:i("2224")}}),e.loading?s("h1",[e._v(e._s(e.loggedIn?e.$t("fetching_data"):e.$t("signing_in")))]):e.notInstalled?s("h1",[e._v(e._s(e.$t("welcome")))]):s("h1",[e._v(e._s(e.resetMode?e.$t("reset_password"):e.$t("sign_in")))]),s("label",{staticClass:"project-switcher"},[Object.keys(e.urls).length>1||e.allowOther?s("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedUrl,expression:"selectedUrl"}],attrs:{disabled:e.loading},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selectedUrl=t.target.multiple?i:i[0]}}},[e._l(e.urls,function(t,i){return s("option",{key:i,attrs:{checked:i===e.url||i===e.url+"/"},domProps:{value:i}},[e._v("\n            "+e._s(t)+"\n          ")])}),e.allowOther?s("option",{attrs:{value:"other"}},[e._v(e._s(e.$t("other")))]):e._e()],2):e._e(),e._v("\n        "+e._s(e.$t("to"))+" "),s("span",[e._v(e._s(e.urls[e.selectedUrl]||e.$t("choose_project"))+" "),Object.keys(e.urls).length>1||e.allowOther?s("i",{staticClass:"material-icons"},[e._v("arrow_drop_down")]):e._e()])]),e.selectOther?s("div",{staticClass:"material-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],class:{"has-value":e.url&&e.url.length>0},attrs:{disabled:e.loading,type:"url",id:"url",name:"url"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}}),s("label",{attrs:{for:"url"}},[e._v(e._s(e.$t("api_url")))])]):e._e(),e.notInstalled?[s("p",{staticClass:"install-copy"},[e._v("\n          "+e._s(e.$t("install_copy"))+"\n        ")]),s("button",{staticClass:"style-btn",attrs:{type:"button"},on:{click:function(t){e.installing=!0}}},[e._v("\n          "+e._s(e.$t("install"))+"\n        ")])]:[s("div",{staticClass:"material-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{"has-value":e.email&&e.email.length>0},attrs:{autocomplete:"email",disabled:e.loading||!1===e.exists,type:"text",id:"email",name:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),s("label",{attrs:{for:"email"}},[e._v(e._s(e.$t("email")))])]),e.resetMode?e._e():s("div",{staticClass:"material-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:{"has-value":e.password&&e.password.length>0},attrs:{autocomplete:"current-password",disabled:e.loading||!1===e.exists,type:"password",id:"password",name:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("label",{attrs:{for:"password"}},[e._v(e._s(e.$t("password")))])]),s("div",{staticClass:"buttons"},[s("button",{staticClass:"forgot",attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.resetMode=!e.resetMode}}},[e._v("\n            "+e._s(e.resetMode?e.$t("sign_in"):e.$t("forgot_password"))+"\n          ")]),s("button",{staticClass:"style-btn",attrs:{type:"submit",disabled:e.disabled||e.loading}},[e._v("\n            "+e._s(e.resetMode?e.$t("reset_password"):e.$t("sign_in"))+"\n          ")])]),s("transition-group",{staticClass:"stack",attrs:{name:"list",tag:"div"}},[e.checkingExistence||e.gettingThirdPartyAuthProviders?s("v-spinner",{key:"spinner",staticClass:"spinner",attrs:{size:18,"line-size":2,"line-fg-color":"var(--gray)","line-bg-color":"var(--lighter-gray)"}}):e.error||e.SSOerror?s("span",{key:"error",staticClass:"notice",class:e.errorType,on:{click:function(t){e.error=null}}},[s("i",{staticClass:"material-icons"},[e._v(e._s(e.errorType))]),e._v("\n            "+e._s(e.errorMessage)+"\n          ")]):e.thirdPartyAuthProviders&&!e.thirdPartyAuthProviders.length?s("i",{key:"lock",staticClass:"material-icons lock"},[e._v(e._s(e.loggedIn?"lock_open":"lock_outline"))]):s("ul",{key:"third-party-auth",staticClass:"third-party-auth"},e._l(e.thirdPartyAuthProviders,function(t){return s("li",{key:t.name},[s("a",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.$helpers.formatTitle(t.name),expression:"$helpers.formatTitle(provider.name)",modifiers:{bottom:!0}}],attrs:{href:e.url+"auth/sso/"+t.name}},[s("img",{attrs:{alt:t.name,src:t.icon}})])])}))],1)]],2),s("small",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{classes:["inverted"],content:e.version},expression:"{ classes: ['inverted'], content: version }"}],staticClass:"style-4"},[e._v(e._s(e.$t("powered_by_directus")))])],1)])},ld=[],rd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-modal",{attrs:{tabs:e.tabs,buttons:e.buttons,"active-tab":e.activeTab,"action-required":""},on:{tab:function(t){e.activeTab=t},next:e.nextTab}},[i("template",{slot:"project"},[i("h1",{staticClass:"style-0"},[e._v(e._s(e.$t("project_info")))]),i("p",{staticClass:"subtext"},[e._v("\n      "+e._s(e.$t("project_info_copy"))+"\n    ")]),i("form",{on:{submit:function(t){return t.preventDefault(),e.nextTab(t)}}},[i("label",[e._v("\n        "+e._s(e.$t("project_name"))+"\n        "),i("v-input",{ref:"projectName",staticClass:"input",attrs:{id:"project-name",autofocus:""},model:{value:e.values.project_name,callback:function(t){e.$set(e.values,"project_name",t)},expression:"values.project_name"}})],1),i("label",[e._v("\n        "+e._s(e.$t("project_key"))+"\n        "),i("v-input",{staticClass:"input",attrs:{id:"environment",disabled:"",value:"Default ( _ )"}})],1),i("label",[e._v("\n        "+e._s(e.$t("admin_email"))+"\n        "),i("v-input",{staticClass:"input",attrs:{id:"admin-email",type:"email"},model:{value:e.values.user_email,callback:function(t){e.$set(e.values,"user_email",t)},expression:"values.user_email"}})],1),i("label",[e._v("\n        "+e._s(e.$t("admin_password"))+"\n        "),i("v-input",{staticClass:"input",attrs:{id:"admin-password",type:"password",autocomplete:"new-password"},model:{value:e.values.user_password,callback:function(t){e.$set(e.values,"user_password",t)},expression:"values.user_password"}})],1),i("input",{staticClass:"hidden",attrs:{type:"submit"}})])]),i("template",{slot:"database"},[i("h1",{staticClass:"style-0"},[e._v(e._s(e.$t("database_connection")))]),i("p",{staticClass:"subtext"},[e._v(e._s(e.$t("database_connection_copy")))]),i("form",{on:{submit:function(t){return t.preventDefault(),e.nextTab(t)}}},[i("label",[e._v("\n        "+e._s(e.$t("host"))+"\n        "),i("v-input",{staticClass:"input",attrs:{id:"db_host"},model:{value:e.values.db_host,callback:function(t){e.$set(e.values,"db_host",t)},expression:"values.db_host"}})],1),i("label",[e._v("\n        "+e._s(e.$t("port"))+"\n        "),i("v-input",{staticClass:"input",attrs:{id:"db_port"},model:{value:e.values.db_port,callback:function(t){e.$set(e.values,"db_port",t)},expression:"values.db_port"}})],1),i("label",[e._v("\n        "+e._s(e.$t("db_user"))+"\n        "),i("v-input",{staticClass:"input",attrs:{id:"db_user"},model:{value:e.values.db_user,callback:function(t){e.$set(e.values,"db_user",t)},expression:"values.db_user"}})],1),i("label",[e._v("\n        "+e._s(e.$t("db_password"))+"\n        "),i("v-input",{staticClass:"input",attrs:{type:"password",id:"db_password"},model:{value:e.values.db_password,callback:function(t){e.$set(e.values,"db_password",t)},expression:"values.db_password"}})],1),i("label",[e._v("\n        "+e._s(e.$t("db_name"))+"\n        "),i("v-input",{staticClass:"input",attrs:{id:"db_name"},model:{value:e.values.db_name,callback:function(t){e.$set(e.values,"db_name",t)},expression:"values.db_name"}})],1),i("label",[e._v("\n        "+e._s(e.$t("db_type"))+"\n        "),i("v-input",{staticClass:"input",attrs:{disabled:"",id:"db_type",value:"MySQL & Variants"}})],1),i("input",{staticClass:"hidden",attrs:{type:"submit"}})])])],2)},cd=[],dd={name:"v-install",props:{saving:{type:Boolean,default:!1}},data(){return{activeTab:"project",values:{db_host:"localhost",db_port:3306,db_name:"directus",db_user:"root",db_password:null,user_email:null,user_password:null,project_name:"Directus",cors_enabled:!0}}},computed:{databaseDisabled(){const{isEmpty:e}=this.$lodash,{project_name:t,user_email:i,user_password:s}=this.values;return e(t)||e(i)||e(s)},schemaDisabled(){const{isEmpty:e}=this.$lodash,{db_host:t,db_port:i,db_name:s,db_user:n,db_password:a}=this.values;return e(t)||e(i)||e(s)||e(n)||e(a)},buttons(){let e=!1;return"project"===this.activeTab&&this.databaseDisabled&&(e=!0),{next:{disabled:e,text:"database"===this.activeTab?this.$t("save"):this.$t("next"),loading:this.saving}}},tabs(){return{project:{text:this.$t("project")},database:{text:this.$t("database"),disabled:this.databaseDisabled}}}},methods:{nextTab(){switch(this.activeTab){case"project":this.activeTab="database";break;case"database":default:this.save();break}},save(){this.$emit("install",this.values)}}},ud=dd,hd=(i("c6e5"),Object(R["a"])(ud,rd,cd,!1,null,"3bb30072",null));hd.options.__file="install.vue";var pd=hd.exports,md={name:"login",components:{VInstall:pd},data(){return{selectedUrl:this.$store.state.auth.url+"/"+this.$store.state.auth.env+"/",url:null,email:null,password:null,loading:!1,loggedIn:!1,error:null,SSOerror:null,exists:null,checkingExistence:!1,thirdPartyAuthProviders:null,gettingThirdPartyAuthProviders:!1,resetMode:!1,installing:!1,notInstalled:!1,saving:!1}},computed:{urls(){if(window.__DirectusConfig__)return this.$lodash.mapKeys(window.__DirectusConfig__.api,(e,t)=>!1===t.endsWith("/")?t+"/":t)},allowOther(){if(window.__DirectusConfig__)return window.__DirectusConfig__.allowOtherAPI},version(){return`${this.$t("version")} v${cc["a"]}`},storeError(){return this.$store.state.auth.error},storeUrl(){return this.$store.state.auth.url?this.$store.state.auth.url+"/"+this.$store.state.auth.env:null},errorType(){if(!this.error&&!this.SSOerror)return;const e=this.error&&this.error.code||this.SSOerror;return+e>=100&&+e<200?101===+e||102===+e?null:"warning":"error"},errorMessage(){if(!this.error&&!this.SSOerror)return;const e=this.error&&this.error.code||this.SSOerror;return this.localeMessages.errors&&null!=this.localeMessages.errors[e]?this.$t(`errors[${e}]`):this.$t("error_unknown")},localeMessages(){return this.$i18n.getLocaleMessage(this.$i18n.locale)},disabled(){return this.resetMode?null===this.email||0===this.email.length:null===this.email||null===this.password||(0===this.email.length||0===this.password.length)},selectOther(){return"other"===this.selectedUrl}},created(){this.checkUrl=this.$lodash.debounce(this.checkUrl,300),this.url&&this.checkUrl();let e=this.storeUrl||Object.keys(window.__DirectusConfig__.api)[0];!1===Object.keys(window.__DirectusConfig__.api).includes(e)&&(e=null),this.url=e||Object.keys(window.__DirectusConfig__.api)[0]||"",this.selectedUrl=this.url,!1===this.url.endsWith("/")&&(this.url=this.url+"/"),this.trySSOLogin()},watch:{url(){this.exists=null,this.checkUrl()},selectedUrl(e){if("other"!==e)return this.url=e},exists(e){!0===e?this.getThirdPartyAuthProviders():!1===e&&(this.error={code:-1})},$route(){this.trySSOLogin()},storeError(e){this.error=e}},methods:{processForm(){if(this.resetMode)this.loading=!0,this.$axios.post(this.url+"auth/password/request",{email:this.email}).then(()=>{this.loading=!1,this.$notification.confirm(this.$t("password_reset_sent",{email:this.email}))}).catch(e=>{this.error=e,this.loading=!1});else{const e={url:this.selectedUrl,email:this.email,password:this.password};this.loading=!0,this.$store.dispatch("login",e).then(()=>{this.loggedIn=!0,this.enterApp()}).catch(()=>{this.loading=!1})}},enterApp(){if(this.$route.query.redirect)return this.$router.push(this.$route.query.redirect);this.$api.getMe({fields:"last_page"}).then(e=>e.data.last_page).then(e=>{this.$router.push(e||"/")}).catch(e=>{this.loading=!1,this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e}),this.$router.push("/")})},checkUrl(){if(!this.url)return;this.checkingExistence=!0,this.exists=null,this.thirdPartyAuthProviders=null,this.error=null,this.notInstalled=!1;const e=this.url.split("/");e.pop()||e.pop();const t=e.join("/");this.$axios.get(t+"/server/ping").then(()=>{this.exists=!0,this.checkingExistence=!1,this.error=null}).catch(()=>{this.exists=!1,this.notInstalled=!1,this.checkingExistence=!1})},getThirdPartyAuthProviders(){this.gettingThirdPartyAuthProviders=!0,this.thirdPartyAuthProviders=null;const e=new ll.a,t=this.url.split("/"),i=t.pop()||t.pop(),s=t.join("/");e.env=i,e.url=s,e.getThirdPartyAuthProviders().then(e=>e.data).then(e=>{this.thirdPartyAuthProviders=e,this.gettingThirdPartyAuthProviders=!1}).catch(e=>{14===e.code&&(this.notInstalled=!0,this.exists=!0),this.gettingThirdPartyAuthProviders=!1})},trySSOLogin(){const e=new URLSearchParams(window.location.search);if(e.get("error")){this.SSOerror=+this.$route.query.code;const e=window.location.toString();if(e.indexOf("?")>0){const t=e.substring(0,e.indexOf("?"));window.history.replaceState({},document.title,t)}return null}e.get("request_token")&&e.get("request_token").length>0&&(this.clearRequestToken(),this.loading=!0,this.$store.dispatch("loginSSO",e.get("request_token")).then(()=>this.enterApp()).catch(e=>{this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e}),this.loading=!1}))},install(e){const t=this.url.split("/");t.pop()||t.pop();const i=t.join("/");this.saving=!0,this.$axios.post(i+"/projects",e).then(()=>{this.installing=!1,this.exists=!0,this.notInstalled=!1,this.$notify({title:this.$t("api_installed"),color:"green",iconMain:"check"}),this.saving=!1}).catch(e=>{this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e}),this.saving=!1})},clearRequestToken(){const e=window.location.href,t=e.replace(new RegExp("[?&]request_token=[^&#]*(#.*)?$"),"$1").replace(new RegExp("([?&])request_token=[^&]*&"),"$1");history.replaceState({},"Login | Directus",t)}}},fd=md,vd=(i("8012"),Object(R["a"])(fd,od,ld,!1,null,"33b3d4a4",null));vd.options.__file="login.vue";var _d=vd.exports,gd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"interfaces"},[i("v-header",{attrs:{breadcrumb:e.links}}),i("v-table",{attrs:{columns:e.columns,items:e.items,link:"__link","primary-key-field":"id"}})],1)},yd=[],bd={metaInfo(){return{title:"Interfaces"}},computed:{links(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("interfaces"),path:"/settings/interfaces"}]},items(){return Object.keys(this.$store.state.extensions.interfaces).map(e=>({...this.$store.state.extensions.interfaces[e],__link:`/settings/interfaces/${e}`}))},columns(){return[{field:"name",name:"Name"},{field:"id",name:"id"},{field:"version",name:"Version"}]}}},$d=bd,kd=Object(R["a"])($d,gd,yd,!1,null,null,null);kd.options.__file="interfaces.vue";var wd=kd.exports,Cd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"interface-debugger"},[i("v-header",{attrs:{breadcrumb:e.links}}),i("label",[e._v("Dummy Label")]),i("div",{staticClass:"interface",style:{width:e.width+"px"}},[i("v-ext-input",{attrs:{id:e.id,name:e.id,type:e.type,length:e.length,readonly:e.readonly,required:e.required,loading:e.loading,options:e.options,"new-item":e.newItem,relation:e.relation,fields:e.fields,values:e.values},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),i("form",{on:{submit:function(e){e.preventDefault()}}},[i("fieldset",[i("legend",[e._v("Output")]),i("label",{attrs:{for:"value"}},[e._v("Value")]),i("p",[e._v("The value saved into the database")]),i("v-input",{staticClass:"value",attrs:{id:"value",type:"text"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),i("label",[e._v("Display")]),i("p",[e._v("Appearance on the Items Page (eg: Tabular)")]),i("div",{staticClass:"listing"},[i("v-ext-display",{attrs:{"interface-type":e.id,name:e.id,type:e.type,length:e.length,readonly:e.readonly,required:e.required,loading:e.loading,options:e.options,"new-item":e.newItem,relation:e.relation},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1),i("fieldset",[i("legend",[e._v("Options")]),e._l(e.extension.options,function(t,s){return i("div",{key:s,staticClass:"options"},[i("label",{attrs:{for:s}},[e._v(e._s(t.name))]),e.options.comment?i("p",{domProps:{innerHTML:e._s(e.$helpers.snarkdown(t.comment))}}):e._e(),i("v-ext-input",{attrs:{id:t.interface,name:s,type:t.type,length:t.length,readonly:t.readonly,required:t.required,loading:t.loading,options:t.options},model:{value:e.options[s],callback:function(t){e.$set(e.options,s,t)},expression:"options[optionID]"}})],1)})],2),i("fieldset",[i("legend",[e._v("Settings")]),i("div",{staticClass:"settings"},[i("label",{attrs:{for:"type"}},[e._v("Type")]),i("p",[e._v("Allowed datatypes this interface supports")]),i("v-simple-select",{staticClass:"small",attrs:{id:"type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.extension.types,function(t){return i("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],1),i("div",{staticClass:"settings"},[i("label",{attrs:{for:"length"}},[e._v("Length")]),i("p",[e._v("Database length for the column")]),i("v-input",{staticClass:"length",attrs:{id:"length",type:"number",min:0},model:{value:e.length,callback:function(t){e.length=t},expression:"length"}})],1),i("div",{staticClass:"settings"},[i("label",{attrs:{for:"collection"}},[e._v("Collection")]),i("p",[e._v("The parent collection for this field")]),i("v-input",{staticClass:"value",attrs:{id:"collection"},model:{value:e.collection,callback:function(t){e.collection=t},expression:"collection"}})],1),i("div",{staticClass:"settings"},[i("p",[e._v("Toggle the readonly/disabled state")]),i("v-checkbox",{staticClass:"checkbox",attrs:{id:"readonly",value:"readonly",type:"checkbox"},model:{value:e.readonly,callback:function(t){e.readonly=t},expression:"readonly"}}),i("label",{staticClass:"inline",attrs:{for:"readonly"}},[e._v("Read only")])],1),i("div",{staticClass:"settings"},[i("p",[e._v("Toggle the required state")]),i("v-checkbox",{staticClass:"checkbox",attrs:{id:"required",value:"required",type:"checkbox"},model:{value:e.required,callback:function(t){e.required=t},expression:"required"}}),i("label",{staticClass:"inline",attrs:{for:"required"}},[e._v("Required")])],1),i("div",{staticClass:"settings"},[i("p",[e._v("Toggle the loading state (Beta)")]),i("v-checkbox",{staticClass:"checkbox",attrs:{id:"loading",value:"loading",type:"checkbox"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}),i("label",{staticClass:"inline",attrs:{for:"loading"}},[e._v("Loading")])],1)]),i("fieldset",[i("legend",[e._v("Relation")]),i("div",{staticClass:"relation"},[i("div",{staticClass:"settings"},[i("label",{attrs:{for:"collection_many"}},[e._v("Collection Many")]),i("v-input",{staticClass:"value",attrs:{id:"collection_many",type:"text"},model:{value:e.relation.collection_many,callback:function(t){e.$set(e.relation,"collection_many",t)},expression:"relation.collection_many"}})],1),i("div",{staticClass:"settings"},[i("label",{attrs:{for:"field_many"}},[e._v("Field Many")]),i("v-input",{staticClass:"value",attrs:{id:"field_many",type:"text"},model:{value:e.relation.field_many,callback:function(t){e.$set(e.relation,"field_many",t)},expression:"relation.field_many"}})],1),i("div",{staticClass:"settings"},[i("label",{attrs:{for:"collection_one"}},[e._v("Collection One")]),i("v-input",{staticClass:"value",attrs:{id:"collection_one",type:"text"},model:{value:e.relation.collection_one,callback:function(t){e.$set(e.relation,"collection_one",t)},expression:"relation.collection_one"}})],1),i("div",{staticClass:"settings"},[i("label",{attrs:{for:"field_one"}},[e._v("Field One")]),i("v-input",{staticClass:"value",attrs:{id:"field_one",type:"text"},model:{value:e.relation.field_one,callback:function(t){e.$set(e.relation,"field_one",t)},expression:"relation.field_one"}})],1),i("div",{staticClass:"settings"},[i("label",{attrs:{for:"junction_field"}},[e._v("Junction Field")]),i("v-input",{staticClass:"value",attrs:{id:"junction_field",type:"text"},model:{value:e.relation.junction_field,callback:function(t){e.$set(e.relation,"junction_field",t)},expression:"relation.junction_field"}})],1)])]),i("fieldset",[i("legend",[e._v("Misc.")]),i("div",{staticClass:"misc"},[i("p",[e._v("Toggle viewing between New and Edit")]),i("v-checkbox",{staticClass:"checkbox",attrs:{id:"new",value:"newItem",type:"checkbox"},model:{value:e.newItem,callback:function(t){e.newItem=t},expression:"newItem"}}),i("label",{staticClass:"inline",attrs:{for:"new"}},[e._v("New item")])],1)])])],1)},xd=[],Id={name:"interface-debugger",metaInfo(){return{title:"Interface Debugger"}},props:{id:{type:String,required:!0}},data(){return{type:null,length:null,value:null,readonly:!1,required:!1,loading:!1,options:{},width:2e3,newItem:!1,collection:"members",relation:{field_many:"favorites",field_one:"members",collection_many:"members",collection_one:"movies",junction_field:""},customFields:{name:{collection:"movies",default_value:null,field:"name",group:null,hidden_detail:!1,hidden_browse:!1,id:154,interface:"text-input",length:"100",locked:!1,managed:!0,name:"Name",note:null,options:null,primary_key:!1,readonly:!1,relation:null,required:!1,signed:null,sort:"10",translation:null,type:"VARCHAR",validation:null,width:4},director:{collection:"movies",default_value:null,field:"director",group:null,hidden_detail:!1,hidden_browse:!1,id:161,interface:"text-input",length:"100",locked:!1,managed:!0,name:"Director",note:null,options:null,primary_key:!1,readonly:!1,relation:null,required:!1,signed:null,sort:"9",translation:null,type:"VARCHAR",validation:null,width:4}},customValues:{id:123,name:"Directus The Movie",director:"Ben Spielberg",preview:null}}},computed:{links(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("interfaces"),path:"/settings/interfaces"},{name:this.extension.name,path:`/settings/interfaces/${this.id}`}]},extension(){return this.$store.state.extensions.interfaces[this.id]},fields(){return{...this.customFields,[this.id]:{type:this.type,length:this.length,value:this.value,readonly:this.readonly,required:this.required,loading:this.loading,options:this.options,width:this.width,newItem:this.newItem,relation:this.relation,collection:this.collection}}},values(){return{...this.customValues,[this.id]:this.value}}},watch:{id(){this.hydrate()},type(e){if(e){const{databaseVendor:e}=this.$store.state.serverInfo,t=Ve[this.type][e].default,i=Be[e][t];i.length&&(this.length=i.defaultLength)}}},created(){this.hydrate()},methods:{hydrate(){this.type=this.extension.types[0];const e=this.$lodash.mapValues(this.extension.options,e=>void 0===e.default?null:e.default);this.options=e}}},Sd=Id,Ed=(i("46d8"),Object(R["a"])(Sd,Cd,xd,!1,null,"3cf49140",null));Ed.options.__file="interface-debugger.vue";var Od=Ed.exports,Td=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"debug"},[i("v-header",{attrs:{title:"Upload Component"}}),i("div",{staticClass:"wrapper"},[i("v-upload")],1)],1)},Fd=[],Nd={metaInfo(){return{title:"Debugger"}}},jd=Nd,Ad=(i("c1d1"),Object(R["a"])(jd,Td,Fd,!1,null,"5ea2cc4e",null));Ad.options.__file="debug.vue";var Md=Ad.exports,qd=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"settings"},[s("v-header",{attrs:{breadcrumb:e.links}}),s("v-details",{attrs:{title:e.$t("settings_project"),type:"break",open:""}},[s("nav",[s("ul",[s("v-card",{attrs:{title:e.$t("settings_global"),subtitle:e.$tc("item_count",e.globalNum,{count:e.globalNum}),element:"li",to:"/settings/global",icon:"public"}}),s("v-card",{attrs:{title:e.$t("settings_collections_fields"),subtitle:e.$tc("collection_count",e.collectionsNum,{count:e.collectionsNum}),element:"li",to:"/settings/collections"}},[s("img",{attrs:{slot:"icon",src:i("bb19"),alt:""},slot:"icon"})]),s("v-card",{attrs:{title:e.$t("settings_permissions"),subtitle:e.roleCount,element:"li",to:"/settings/roles",icon:"group"}})],1)])]),s("v-details",{attrs:{title:e.$t("additional_info"),type:"break",open:""}},[s("nav",[s("ul",[s("v-card",{attrs:{title:e.$t("interfaces"),subtitle:e.$tc("interface_count",e.interfaceCount,{count:e.interfaceCount}),element:"li",to:"/settings/interfaces",icon:"extension"}}),s("v-card",{attrs:{title:e.$t("about_directus"),subtitle:e.$t("learn_more"),element:"li",href:"https://directus.io",icon:"info_outline"}}),s("v-card",{attrs:{title:e.$t("activity_log"),subtitle:e.activityCount,element:"li",to:"/activity",icon:"warning"}}),s("v-card",{attrs:{title:e.$t("report_issue"),subtitle:e.$t("open_on_gh"),element:"li",href:"https://github.com/directus/app/issues/new?template=Bug_report.md",icon:"bug_report"}}),s("v-card",{attrs:{title:e.$t("request_feature"),subtitle:e.$t("open_on_gh"),element:"li",href:"https://github.com/directus/app/issues/new?template=Feature_request.md",icon:"how_to_vote"}})],1)])]),s("v-details",{attrs:{title:e.$t("coming_soon"),type:"break",open:""}},[s("nav",[s("ul",[s("v-card",{attrs:{title:e.$t("connection"),subtitle:e.$t("latency")+": "+e.$n(Math.round(e.$store.state.latency[e.$store.state.latency.length-1].latency))+"ms",disabled:"",element:"li"}},[s("v-signal",{staticClass:"signal",attrs:{slot:"icon"},slot:"icon"})],1),s("v-card",{attrs:{title:e.$t("server_details"),disabled:"",subtitle:e.projectName,element:"li",icon:"storage"}}),s("v-card",{attrs:{title:e.$t("version_and_updates"),disabled:"",subtitle:e.version,element:"li",icon:"update"}})],1)])])],1)},Pd=[],Dd={name:"settings",metaInfo(){return{title:`${this.$t("settings")}`}},components:{VSignal:fo},data(){return{roleCount:"Loading...",activityCount:"Loading..."}},computed:{globalNum(){return Object.keys(this.$store.state.settings).length},collectionsNum(){return Object.keys(this.$store.state.collections).filter(e=>!1===e.startsWith("directus_")).length},projectName(){return this.$store.state.auth.projectName},interfaceCount(){return Object.keys(this.$store.state.extensions.interfaces).length},version(){return cc["a"]},links(){return[{name:this.$t("settings"),path:"/settings",color:"warning"}]}},created(){this.getRoleCount(),this.getActivityCount()},methods:{getRoleCount(){this.$api.getItems("directus_roles",{fields:"-",limit:0,meta:"total_count"}).then(e=>e.meta).then(({total_count:e})=>{this.roleCount=this.$tc("role_count",e,{count:this.$n(e)})}).catch(()=>{this.roleCount="--"})},getActivityCount(){this.$api.getItems("directus_activity",{fields:"-",limit:0,meta:"total_count"}).then(e=>e.meta).then(({total_count:e})=>{this.activityCount=this.$tc("event_count",e,{count:this.$n(e)})}).catch(()=>{this.activityCount="--"})}}},Rd=Dd,Ld=(i("edee"),Object(R["a"])(Rd,qd,Pd,!1,null,"78127792",null));Ld.options.__file="settings.vue";var Bd=Ld.exports,Vd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"settings-global"},[i("v-header",{attrs:{breadcrumb:e.links}},[i("template",{slot:"buttons"},[i("v-header-button",{attrs:{disabled:!e.editing,loading:e.saving,label:e.$t("save"),icon:"check",color:"action"},on:{click:function(t){e.save("leave")}}})],1)],2),i("v-form",{attrs:{fields:e.fields,values:e.settings},on:{"stage-value":e.stageValue}})],1)},Ud=[],Kd={name:"settings-global",metaInfo(){return{title:`${this.$t("settings")} | ${this.$t("settings_global")}`}},data(){return{saving:!1,rawSettings:{},edits:{},fields:{}}},computed:{settings(){return this.$store.state.settings},links(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("settings_global"),path:"/settings/global"}]},editing(){return Object.keys(this.edits).length>0}},methods:{stageValue({field:e,value:t}){return this.$store.state.settings[e]==t?this.$delete(this.edits,e):this.$set(this.edits,e,t)},save(){const e=Jr.a.generate();Kr.dispatch("loadingStart",{id:e}),this.saving=!0;const t=[];this.$lodash.forEach(this.edits,(e,i)=>{t.push({id:this.rawSettings[i].id,value:e})}),this.$api.updateItems("directus_settings",t).then(()=>{this.saving=!1,this.$store.dispatch("loadingFinished",e),this.$router.push("/settings")}).catch(t=>{this.saving=!1,this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})}},beforeRouteEnter(e,t,i){const s=Jr.a.generate();Kr.dispatch("loadingStart",{id:s}),Promise.all([Kr.dispatch("getSettings"),Xr.getItems("directus_settings"),Xr.getFields("directus_settings")]).then(([,e,t])=>{return{fields:t.data,rawSettings:e.data}}).then(({rawSettings:e,fields:t})=>{return{rawSettings:e,fields:Object(_["keyBy"])(t,"field")}}).then(({rawSettings:e,fields:t})=>{return{rawSettings:e,fields:Object(_["mapValues"])(t,e=>({...e,name:hl()(e.field)}))}}).then(({rawSettings:e,fields:t})=>{const i=Kr.state.settings;return{rawSettings:Object(_["keyBy"])(e,"key"),fields:Object(_["mapValues"])(i,(e,i)=>t[i]||{collection:"directus_settings",field:i,group:null,hidden_detail:!1,hidden_browse:!1,id:null,interface:"text-input",locked:!0,name:hl()(i),note:null,options:null,readonly:!1,required:!1,sort:null,translation:null,type:"VARCHAR",validation:null,width:4})}}).then(({rawSettings:e,fields:t})=>{Kr.dispatch("loadingFinished",s),i(i=>{i.$data.fields=t,i.$data.rawSettings=e})}).catch(e=>{Kr.dispatch("loadingFinished",s),ac.emit("error",{notify:qe.t("something_went_wrong_body"),error:e})})},beforeRouteLeave(e,t,i){return this.editing?(this.confirmNavigation=!0,this.toPath=e.fullPath,i(!1)):i()}},zd=Kd,Wd=(i("9e9d"),Object(R["a"])(zd,Vd,Ud,!1,null,"770344fb",null));Wd.options.__file="global.vue";var Hd=Wd.exports,Gd=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"collections"},[i("v-header",{attrs:{breadcrumb:e.breadcrumb}},[i("template",{slot:"buttons"},[i("v-header-button",{key:"add",attrs:{icon:"add",color:"action",label:e.$t("new")},on:{click:function(t){e.addNew=!0}}})],1)],2),0===e.items.length?i("v-error",{attrs:{title:e.$t("no_collections"),body:e.$t("no_collections_body"),icon:"error_outline"}}):i("div",{staticClass:"table"},[i("div",{staticClass:"header"},[i("div",{staticClass:"row"},[i("div",{staticClass:"cell style-4"},[e._v(e._s(e.$t("collection")))]),i("div",{staticClass:"cell note style-4"},[e._v(e._s(e.$t("note")))])])]),i("div",{staticClass:"body"},e._l(e.items,function(t){return i("router-link",{key:t.collection,staticClass:"row",attrs:{to:t.__link__}},[i("div",{staticClass:"cell"},[e._v(e._s(t.name))]),i("div",{staticClass:"cell note"},[e._v(e._s(t.note))]),t.managed?i("button",{staticClass:"managed",on:{click:function(i){i.preventDefault(),i.stopPropagation(),e.toggleManage(t)}}},[e._v(e._s(e.$t("dont_manage")))]):i("button",{staticClass:"not-managed",on:{click:function(i){i.preventDefault(),i.stopPropagation(),e.toggleManage(t)}}},[e._v(e._s(e.$t("manage")))])])}))]),e.addNew?i("portal",{attrs:{to:"modal"}},[i("v-prompt",{attrs:{safe:"","confirm-text":e.$t("create"),message:e.$t("create_collection"),placeholder:e.$t("enter_collection_name"),loading:e.adding},on:{cancel:function(t){e.addNew=!1},confirm:e.add},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1):e._e(),e.dontManage?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{message:e.$t("dont_manage_copy",{collection:e.dontManage.name}),color:"danger","confirm-text":e.$t("dont_manage")},on:{cancel:function(t){e.dontManage=null},confirm:e.stopManaging}})],1):e._e()],1)},Qd=[],Xd={name:"settings-collections",metaInfo(){return{title:`${this.$t("settings")} | ${this.$t("settings_collections_fields")}`}},data(){return{addNew:!1,newName:"",adding:!1,dontManage:null}},computed:{items(){const e=this.$store.state.collections||{};return Object.values(e).filter(e=>!1===e.collection.startsWith("directus_")).map(e=>({...e,name:this.$t(`collections-${e.collection}`),__link__:`/settings/collections/${e.collection}`}))},breadcrumb(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("collections_and_fields"),path:"/settings/collections"}]}},methods:{add(){this.adding=!0;const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.createCollection({collection:this.newName,hidden:0,fields:[{type:"integer",datatype:"INT",length:15,field:"id",interface:"primary-key",auto_increment:!0,primary_key:!0,hidden_detail:!0}]},{fields:"*.*"}).then(e=>e.data).then(t=>{this.$store.dispatch("loadingFinished",e),this.$store.dispatch("addCollection",{...t,fields:{id:{auto_increment:!0,collection:this.newName,datatype:"INT",default_value:null,field:"id",group:null,hidden_detail:!0,hidden_browse:!1,interface:"primary-key",length:"10",locked:0,note:"",options:null,primary_key:!0,readonly:0,required:!0,signed:!1,sort:1,translation:null,type:"integer",unique:!1,validation:null,width:4}}}),this.$store.dispatch("addPermission",{collection:this.newName,permission:{$create:Ri,...Ri}}),this.$router.push(`/settings/collections/${this.newName}`)}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},toggleManage(e){if(!e.managed)return this.$api.updateItem("directus_collections",e.collection,{managed:!0}).then(()=>{return this.$store.dispatch("getCollections")}).catch(e=>{this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})});this.dontManage=e},stopManaging(){return this.$api.updateItem("directus_collections",this.dontManage.collection,{managed:!1}).then(()=>{return this.$store.dispatch("getCollections")}).then(()=>{this.dontManage=null}).catch(e=>{this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}}},Yd=Xd,Jd=(i("6778"),Object(R["a"])(Yd,Gd,Qd,!1,null,"29502ae1",null));Jd.options.__file="collections.vue";var Zd=Jd.exports,eu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.collectionInfo?i("div",{staticClass:"settings-fields"},[i("v-header",{attrs:{breadcrumb:e.breadcrumb}},[i("template",{slot:"buttons"},[i("v-header-button",{key:"delete",attrs:{icon:"close",color:"danger",label:e.$t("delete")},on:{click:function(t){e.confirmRemove=!0}}}),i("v-header-button",{key:"save",attrs:{icon:"check",color:"action",loading:e.saving,disabled:0===Object.keys(e.edits).length,label:e.$t("save")},on:{click:e.save}})],1)],2),i("label",{staticClass:"label "},[e._v(e._s(e.$t("fields"))+" "),i("em",{staticClass:"notice"},[e._v(e._s(e.$t("fields_are_saved_instantly")))])]),i("div",{staticClass:"table"},[i("div",{staticClass:"header"},[i("div",{staticClass:"row"},[i("div",{staticClass:"drag"},[i("i",{staticClass:"material-icons"},[e._v("swap_vert")])]),i("div",[e._v(e._s(e.$t("field")))]),i("div",[e._v(e._s(e.$t("interface")))])])]),i("div",{staticClass:"body",class:{dragging:e.dragging}},[i("draggable",{on:{start:e.startSort,end:e.saveSort},model:{value:e.fields,callback:function(t){e.fields=t},expression:"fields"}},e._l(e.fields,function(t){return i("div",{key:t.field,staticClass:"row"},[i("div",{staticClass:"drag"},[i("i",{staticClass:"material-icons"},[e._v("drag_handle")])]),i("div",{staticClass:"inner row",on:{click:function(i){i.stopPropagation(),e.startEditingField(t)}}},[i("div",[e._v("\n              "+e._s(e.$helpers.formatTitle(t.field))+"\n              "),!0===t.required||"1"===t.required?i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("required"),expression:"$t('required')"}],staticClass:"material-icons required"},[e._v("star")]):e._e(),t.primary_key?i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("primary_key"),expression:"$t('primary_key')"}],staticClass:"material-icons key"},[e._v("vpn_key")]):e._e()]),i("div",[e._v(e._s(e.$store.state.extensions.interfaces[t.interface]&&e.$store.state.extensions.interfaces[t.interface].name||"--"))])]),i("v-popover",{staticClass:"more-options",attrs:{placement:"left-start"}},[i("button",{staticClass:"menu-toggle",attrs:{type:"button"}},[i("i",{staticClass:"material-icons"},[e._v("more_vert")])]),i("template",{slot:"popover"},[i("ul",{staticClass:"ctx-menu"},[i("li",[i("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],attrs:{type:"button",disabled:!e.canDuplicate(t.interface)},on:{click:function(i){i.stopPropagation(),e.duplicateField(t)}}},[i("i",{staticClass:"material-icons"},[e._v("control_point_duplicate")]),e._v(" "+e._s(e.$t("duplicate"))+" \n                  ")])]),i("li",[i("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],attrs:{type:"button"},on:{click:function(i){i.stopPropagation(),e.warnRemoveField(t.field)}}},[i("i",{staticClass:"material-icons"},[e._v("close")]),e._v(" "+e._s(e.$t("delete"))+"\n                  ")])])])])],2)],1)}))],1)]),i("v-button",{staticClass:"new-field",on:{click:function(t){e.startEditingField({})}}},[e._v("New Field")]),e.fields?i("v-form",{attrs:{fields:e.directusFields,values:e.values,collection:"directus_collections"},on:{"stage-value":e.stageValue}}):e._e(),e.confirmRemove?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{color:"danger",message:e.$t("delete_collection_are_you_sure"),"confirm-text":e.$t("delete")},on:{cancel:function(t){e.confirmRemove=!1},confirm:e.remove}})],1):e._e(),e.confirmFieldRemove?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{color:"danger",message:e.$t("delete_field_are_you_sure",{field:e.fieldToBeRemoved}),"confirm-text":e.$t("delete")},on:{cancel:function(t){e.confirmFieldRemove=!1},confirm:function(t){e.removeField(e.fieldToBeRemoved)}}})],1):e._e(),e.editingField?i("v-field-setup",{attrs:{"field-info":e.fieldBeingEdited,"collection-info":e.collectionInfo},on:{close:function(t){e.editingField=!1},save:e.setFieldSettings}}):e._e(),e.duplicatingField?i("v-field-duplicate",{attrs:{"field-information":e.fieldBeingDuplicated,"collection-information":e.collectionInfo},on:{close:function(t){e.duplicatingField=!1},save:e.duplicateFieldSettings}}):e._e()],1):i("not-found")},tu=[],iu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-modal",{attrs:{title:e.existing?e.$t("update_field")+": "+e.displayName:e.$t("create_field"),tabs:e.tabs,"active-tab":e.activeTab,buttons:e.buttons},on:{tab:function(t){e.activeTab=t},next:e.nextTab,close:function(t){e.$emit("close")}}},[i("template",{slot:"interface"},[e.existing?e._e():[i("h1",{staticClass:"style-0"},[e._v(e._s(e.$t("choose_interface")))])],e.interfaceName?i("p",{staticClass:"currently-selected subtext"},[e._v("\n      "+e._s(e.$t("currently_selected",{thing:e.interfaces[e.interfaceName].name}))+"\n    ")]):i("p",{staticClass:"subtext"},[e._v("\n      "+e._s(e.$t("select_interface_below"))+"\n    ")]),i("div",e._l(e.interfacesGrouped,function(t,s){return i("v-details",{key:t.title,attrs:{title:t.title,open:0===s}},[i("div",{staticClass:"interfaces"},e._l(t.interfaces,function(s){return i("article",{key:t.title+"-"+s.id,staticClass:"interface",class:{active:e.interfaceName===s.id},on:{click:function(t){e.setInterface(s.id)}}},[i("div",{staticClass:"header"},[i("i",{staticClass:"material-icons"},[e._v(e._s(s.icon?s.icon:"category"))])]),i("div",{staticClass:"body"},[i("h2",[e._v(e._s(s.name))]),i("p",[e._v("Directus Team")])])])}))])}))],2),e.interfaceName?i("template",{slot:"schema"},[e.existing?e._e():[i("h1",{staticClass:"style-0"},[e._v(e._s(e.$t("name_field",{field:e.$helpers.formatTitle(e.interfaceName)})))]),i("p",{staticClass:"subtext"},[e._v(e._s(e.$t("intelligent_defaults")))])],i("form",{staticClass:"schema",on:{submit:function(e){e.preventDefault()}}},[i("div",{staticClass:"name"},[i("label",[e._v(e._s(e.$t("name"))),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("required"),expression:"$t('required')"}],staticClass:"material-icons required"},[e._v("star")]),i("v-input",{staticClass:"name-input",attrs:{type:"text",placeholder:e.$t("db_column_name"),disabled:e.existing},model:{value:e.field,callback:function(t){e.field=t},expression:"field"}})],1),i("label",[e._v(e._s(e.$t("display_name"))+" "),i("v-input",{attrs:{type:"text",disabled:"",value:e.displayName,placeholder:e.$t("auto_generated")}})],1)]),i("label",[e._v(e._s(e.$t("note"))+" "),i("v-input",{attrs:{type:"text",placeholder:e.$t("add_note")},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}})],1),i("details",{staticClass:"advanced",attrs:{open:e.existing}},[i("summary",[e._v(e._s(e.$t("advanced_options")))]),i("div",{staticClass:"advanced-form"},[i("label",[e._v("\n            "+e._s(e.$t("field_type"))+"\n            "),i("v-simple-select",{model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.availableFieldTypes,function(t){return i("option",{key:t,domProps:{value:t,selected:e.type===t}},[e._v("\n                "+e._s(e.$helpers.formatTitle(t))+"\n              ")])})),i("small",{staticClass:"description"},[e._v(e._s(e.fieldTypeDescription))])],1),i("label",[e._v("\n            "+e._s(e.$t("db_datatype",{db:e.$helpers.formatTitle(e.databaseVendor)}))+"\n            "),i("v-simple-select",{model:{value:e.datatype,callback:function(t){e.datatype=t},expression:"datatype"}},e._l(e.availableDatatypes,function(t){return i("option",{key:t,domProps:{value:t,selected:e.datatype===t}},[e._v("\n                "+e._s(t)+"\n              ")])})),i("small",{staticClass:"description"},[e._v(e._s(e.selectedDatatypeInfo&&e.selectedDatatypeInfo.description))])],1),i("label",[e._v(e._s(e.$t("default"))+" "),i("v-input",{attrs:{type:"text",placeholder:"NULL"},model:{value:e.default_value,callback:function(t){e.default_value=t},expression:"default_value"}})],1),i("label",[e._v(e._s(e.$t("length"))+" "),i("v-input",{attrs:{type:e.selectedDatatypeInfo&&e.selectedDatatypeInfo.decimal?"string":"number",value:e.lengthDisabled?null:e.length,disabled:e.lengthDisabled},on:{input:function(t){e.length=t}}})],1),i("label",[e._v(e._s(e.$t("validation"))+" "),i("v-input",{attrs:{type:"text",placeholder:e.$t("regex")},model:{value:e.validation,callback:function(t){e.validation=t},expression:"validation"}})],1),i("div"),"alias"!==e.type?i("label",{staticClass:"toggle"},[i("v-toggle",{model:{value:e.required,callback:function(t){e.required=t},expression:"required"}}),e._v(" "+e._s(e.$t("required"))+" ")],1):e._e(),i("label",{staticClass:"toggle"},[i("v-toggle",{model:{value:e.readonly,callback:function(t){e.readonly=t},expression:"readonly"}}),e._v(" "+e._s(e.$t("readonly"))+" ")],1),i("label",{staticClass:"toggle"},[i("v-toggle",{model:{value:e.unique,callback:function(t){e.unique=t},expression:"unique"}}),e._v(" "+e._s(e.$t("unique")))],1),i("label",{staticClass:"toggle"},[i("v-toggle",{model:{value:e.hidden_detail,callback:function(t){e.hidden_detail=t},expression:"hidden_detail"}}),e._v(" "+e._s(e.$t("hidden_detail")))],1),i("label",{staticClass:"toggle"},[i("v-toggle",{model:{value:e.hidden_browse,callback:function(t){e.hidden_browse=t},expression:"hidden_browse"}}),e._v(e._s(e.$t("hidden_browse")))],1),i("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.primaryKeyTooltip,expression:"primaryKeyTooltip"}],staticClass:"toggle",class:{disabled:e.primaryKeyDisabled}},[i("v-toggle",{attrs:{disabled:e.primaryKeyDisabled},model:{value:e.primary_key,callback:function(t){e.primary_key=t},expression:"primary_key"}}),e._v("\n            "+e._s(e.$t("primary_key"))+"\n          ")],1)])])])],2):e._e(),e.selectedInterfaceInfo&&e.relation?i("template",{slot:"relation"},[e.existing?e._e():[i("h1",{staticClass:"style-0"},[e._v(e._s(e.$t("relation_setup")))]),i("p",{staticClass:"subtext"},[e._v(e._s(e.$t("relation_setup_copy",{relation:e.$t(e.relation)})))])],"m2o"===e.relation?i("form",{staticClass:"single"},[i("p",[e._v(e._s(e.$t("this_collection")))]),i("v-simple-select",{staticClass:"select",attrs:{value:e.relationInfo.collection_many,disabled:""}},[i("option",{attrs:{selected:""},domProps:{value:e.collectionInfo.collection}},[e._v(e._s(e.collectionInfo.collection))])]),i("v-simple-select",{staticClass:"select",attrs:{value:e.relationInfo.field_many,disabled:""}},[i("option",{attrs:{selected:""},domProps:{value:e.field}},[e._v(e._s(e.field))])]),i("i",{staticClass:"material-icons"},[e._v("arrow_backward")]),i("p",[e._v(e._s(e.$t("related_collection")))]),i("v-simple-select",{staticClass:"select",model:{value:e.relationInfo.collection_one,callback:function(t){e.$set(e.relationInfo,"collection_one",t)},expression:"relationInfo.collection_one"}},e._l(e.collections,function(t){var s=t.collection;return i("option",{key:s,domProps:{value:s}},[e._v(e._s(s))])})),i("v-simple-select",{staticClass:"select",attrs:{value:e.primaryKeyField.field,disabled:""}},[i("option",{attrs:{selected:""},domProps:{value:e.primaryKeyField.field}},[e._v(e._s(e.primaryKeyField.field))])])],1):e._e(),"o2m"===e.relation?i("form",{staticClass:"single"},[i("p",[e._v(e._s(e.$t("this_collection")))]),i("v-simple-select",{staticClass:"select",attrs:{value:e.collectionInfo.collection,disabled:""}},[i("option",{attrs:{selected:""},domProps:{value:e.collectionInfo.collection}},[e._v(e._s(e.collectionInfo.collection))])]),i("v-simple-select",{staticClass:"select",attrs:{value:e.primaryKeyField.field,disabled:""}},[i("option",{attrs:{selected:""},domProps:{value:e.primaryKeyField.field}},[e._v(e._s(e.primaryKeyField.field))])]),i("i",{staticClass:"material-icons"},[e._v("arrow_forward")]),i("p",[e._v(e._s(e.$t("related_collection")))]),i("v-simple-select",{staticClass:"select",model:{value:e.relationInfo.collection_many,callback:function(t){e.$set(e.relationInfo,"collection_many",t)},expression:"relationInfo.collection_many"}},e._l(e.collections,function(t){var s=t.collection;return i("option",{key:s,domProps:{value:s}},[e._v(e._s(s))])})),i("v-simple-select",{staticClass:"select",model:{value:e.relationInfo.field_many,callback:function(t){e.$set(e.relationInfo,"field_many",t)},expression:"relationInfo.field_many"}},e._l(e.fields(e.relationInfo.collection_many),function(t){var s=t.field;return i("option",{key:s,domProps:{value:s}},[e._v(e._s(s))])}))],1):e._e(),"m2m"===e.relation?i("form",{staticClass:"full"},[i("p",[e._v(e._s(e.$t("this_collection")))]),i("v-simple-select",{staticClass:"select",attrs:{value:e.collectionInfo.collection,disabled:""}},[i("option",{attrs:{selected:""},domProps:{value:e.collectionInfo.collection}},[e._v(e._s(e.collectionInfo.collection))])]),i("v-simple-select",{staticClass:"select",attrs:{value:e.primaryKeyField.field,disabled:""}},[i("option",{attrs:{selected:""},domProps:{value:e.primaryKeyField.field}},[e._v(e._s(e.primaryKeyField.field))])]),i("i",{staticClass:"material-icons"},[e._v("arrow_forward")]),i("p",[e._v(e._s(e.$t("junction_collection")))]),i("v-simple-select",{staticClass:"select",attrs:{value:e.relationInfoM2M[0].collection_many},on:{input:function(t){e.relationInfoM2M[0].collection_many=t,e.relationInfoM2M[1].collection_many=t}}},e._l(e.collections,function(t){var s=t.collection;return i("option",{key:s,domProps:{value:s}},[e._v(e._s(s))])})),i("v-simple-select",{staticClass:"select",model:{value:e.relationInfoM2M[e.currentM2MIndex].field_many,callback:function(t){e.$set(e.relationInfoM2M[e.currentM2MIndex],"field_many",t)},expression:"relationInfoM2M[currentM2MIndex].field_many"}},e._l(e.fields(e.relationInfoM2M[0].collection_many),function(t){var s=t.field;return i("option",{key:s,domProps:{value:s}},[e._v(e._s(s))])})),i("v-simple-select",{staticClass:"select",model:{value:e.relationInfoM2M[0===e.currentM2MIndex?1:0].field_many,callback:function(t){e.$set(e.relationInfoM2M[0===e.currentM2MIndex?1:0],"field_many",t)},expression:"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].field_many"}},e._l(e.fields(e.relationInfoM2M[0].collection_many),function(t){var s=t.field;return i("option",{key:s,domProps:{value:s}},[e._v(e._s(s))])})),i("i",{staticClass:"material-icons"},[e._v("arrow_backward")]),i("p",[e._v(e._s(e.$t("related_collection")))]),i("v-simple-select",{staticClass:"select",model:{value:e.relationInfoM2M[0===e.currentM2MIndex?1:0].collection_one,callback:function(t){e.$set(e.relationInfoM2M[0===e.currentM2MIndex?1:0],"collection_one",t)},expression:"relationInfoM2M[currentM2MIndex === 0 ? 1 : 0].collection_one"}},e._l(e.collections,function(t){var s=t.collection;return i("option",{key:s,domProps:{value:s}},[e._v(e._s(s))])})),i("v-simple-select",{staticClass:"select",attrs:{value:e.primaryKeyFieldByCollection(e.relationInfoM2M[0===e.currentM2MIndex?1:0].collection_one).field,disabled:""}},[i("option",{attrs:{selected:""},domProps:{value:e.primaryKeyFieldByCollection(e.relationInfoM2M[0===e.currentM2MIndex?1:0].collection_one).field}},[e._v(e._s(e.primaryKeyFieldByCollection(e.relationInfoM2M[0===e.currentM2MIndex?1:0].collection_one).field))])])],1):e._e()],2):e._e(),i("template",{slot:"options"},[e.existing?e._e():[i("h1",{staticClass:"style-0"},[e._v(e._s(e.$t("almost_done_options")))]),i("p",{staticClass:"subtext"},[e._v(e._s(e.$t("almost_done_copy")))])],e.selectedInterfaceInfo?i("form",{staticClass:"options",on:{submit:function(e){e.preventDefault()}}},[e._l(e.interfaceOptions.regular,function(t,s){return i("div",{key:s,staticClass:"options"},[i("label",{attrs:{for:s}},[e._v(e._s(t.name))]),i("p",{staticClass:"note",domProps:{innerHTML:e._s(e.$helpers.snarkdown(t.comment||""))}}),i("v-ext-input",{attrs:{id:t.interface,name:s,type:t.type,length:t.length,readonly:t.readonly,required:t.required,loading:t.loading,options:t.options,value:e.options[s],fields:e.selectedInterfaceInfo.options,values:e.options},on:{input:function(t){e.$set(e.options,s,t)}}})],1)}),Object.keys(e.interfaceOptions.advanced).length>0?i("details",{staticClass:"advanced",attrs:{open:e.existing}},[i("summary",[e._v(e._s(e.$t("advanced_options")))]),e._l(e.interfaceOptions.advanced,function(t,s){return i("div",{key:s,staticClass:"options"},[i("label",{attrs:{for:s}},[e._v(e._s(t.name))]),i("p",{staticClass:"note",domProps:{innerHTML:e._s(e.$helpers.snarkdown(t.comment||""))}}),i("v-ext-input",{attrs:{id:t.interface,name:s,type:t.type,length:t.length,readonly:t.readonly,required:t.required,loading:t.loading,options:t.options,value:e.options[s]||t.default,fields:e.selectedInterfaceInfo.options,values:e.options},on:{input:function(t){e.$set(e.options,s,t)}}})],1)})],2):e._e()],2):e._e()],2)],2)},su=[],nu={name:"v-field-setup",props:{collectionInfo:{type:Object,required:!0},fieldInfo:{type:Object,required:!0}},data(){return{activeTab:"interface",id:null,sort:null,saving:!1,field:null,datatype:null,type:null,interfaceName:null,options:{},translation:{},readonly:!1,required:!1,unique:!1,note:null,hidden_detail:!1,hidden_browse:!1,primary_key:!1,length:null,default_value:null,validation:null,relationInfo:{id:null,collection_many:null,field_many:null,collection_one:null,field_one:null},relationInfoM2M:[{id:null,collection_many:null,field_many:null,collection_one:null,field_one:null,junction_field:null},{id:null,collection_many:null,field_many:null,collection_one:null,field_one:null,junction_field:null}]}},computed:{collections(){return Object.assign({},this.$store.state.collections)},interfaces(){return Object.assign({},this.$store.state.extensions.interfaces)},interfacesGrouped(){const e=[{title:this.$t("popular"),interfaces:["text-input","textarea","wysiwyg","datetime","calendar","toggle","file","many-to-one","one-to-many","primary-key","status","sort"]},{title:this.$t("text"),interfaces:["code","hashed","markdown","password","primary-key","slug","tags","text-input","textarea","wysiwyg","wysiwyg-full"]},{title:this.$t("numeric"),interfaces:["numeric","primary-key","rating","slider","sort"]},{title:this.$t("date_and_time"),interfaces:["date","datetime","time","calendar"]},{title:this.$t("relational"),interfaces:["one-to-many","many-to-one","many-to-many","file","translation"]}];return e.push({title:this.$t("other"),interfaces:Object.keys(this.interfaces).filter(t=>{let i=!1;return e.forEach(e=>{e.interfaces.includes(t)&&(i=!0)}),!1===i})}),e.map(e=>({...e,interfaces:e.interfaces.map(e=>this.interfaces[e])}))},databaseVendor(){return this.$store.state.serverInfo.databaseVendor},primaryKeyDisabled(){return!!this.primaryKeyField},primaryKeyTooltip(){return this.primaryKeyField?this.field===this.primaryKeyField.field?this.$t("cant_disable_primary"):this.$t("max_one_primary_key"):null},selectedInterfaceInfo(){return this.interfaceName?Object.assign({},this.interfaces[this.interfaceName]):null},interfaceOptions(){if(!this.selectedInterfaceInfo)return null;const e=Object.assign({},this.selectedInterfaceInfo.options),t=this.$lodash.pickBy(e,e=>!e.advanced),i=this.$lodash.pickBy(e,e=>!0===e.advanced);return{regular:t,advanced:i}},existing(){return null!==this.id},schemaDisabled(){return!(this.interfaceName&&this.interfaceName.length>0)},optionsDisabled(){return!0===this.schemaDisabled||!this.field},displayName(){return this.field?this.$helpers.formatTitle(this.field):""},availableFieldTypes(){return this.interfaceName&&this.interfaces[this.interfaceName]&&this.interfaces[this.interfaceName].types||[]},availableDatatypes(){return this.type?0===this.availableFieldTypes.length?[]:Ve[this.type][this.databaseVendor].datatypes:[]},selectedDatatypeInfo(){return Be[this.databaseVendor][this.datatype]},fieldTypeDescription(){return this.type?Ve[this.type]&&Ve[this.type].description:null},lengthDisabled(){return(!this.selectedDatatypeInfo||!0!==this.selectedDatatypeInfo.length)&&(!this.selectedDatatypeInfo||!0!==this.selectedDatatypeInfo.decimal)},relation(){return this.selectedInterfaceInfo?null==!this.selectedInterfaceInfo.relation?null:this.selectedInterfaceInfo.relation:null},buttons(){let e=!1;"interface"!==this.activeTab||this.interfaceName||(e=!0),"schema"!==this.activeTab||this.field||(e=!0);let t=this.$t("next");return("options"===this.activeTab||"schema"===this.activeTab&&!1===this.hasOptions||this.existing)&&(t=this.$t("save")),{next:{disabled:e,text:t,loading:this.saving}}},tabs(){const e={interface:{text:this.$t("interface")},schema:{text:this.$t("schema"),disabled:!(this.interfaceName&&this.interfaceName.length>0)}};if(this.relation&&(e.relation={text:this.$t("relation"),disabled:!0===this.schemaDisabled||!this.field}),this.interfaceName&&Object.keys(this.selectedInterfaceInfo.options).length>0){let t=!0===this.schemaDisabled||!this.field;e.options={text:this.$t("options"),disabled:t}}return e},hasOptions(){return!!(this.interfaceName&&Object.keys(this.interfaces[this.interfaceName].options).length>0)},primaryKeyField(){return this.$lodash.find(this.collectionInfo.fields,{primary_key:!0})},currentM2MIndex(){const e=this.$lodash.findIndex(this.relationInfoM2M,e=>{return e.collection_one===this.collectionInfo.collection});return-1===e?0:e}},created(){this.useFieldInfo(),this.initRelation(),this.activeTab=this.existing?"schema":"interface"},watch:{fieldInfo(){this.useFieldInfo()},interfaceName(e,t){if(e){if(e!==this.fieldInfo.interface){const e={...this.interfaceOptions.advanced,...this.interfaceOptions.regular};this.$lodash.forEach(e,(e,t)=>{this.$set(this.options,t,e.default)})}if((!this.existing||null!=t)&&(this.type=this.availableFieldTypes[0],this.datatype=this.type?Ve[this.type][this.databaseVendor].default:null,!this.existing)){if(this.selectedInterfaceInfo&&this.selectedInterfaceInfo.recommended){const{defaultValue:e,length:t,validation:i}=this.selectedInterfaceInfo.recommended;e&&(this.default_value=e),t&&(this.length=t),i&&(this.validation=i)}this.initRelation()}}},type(e){this.existing||e&&(this.datatype=Ve[e][this.databaseVendor].default)},datatype(){this.existing&&null!==this.length||(this.selectedInterfaceInfo&&this.selectedInterfaceInfo.recommended&&this.selectedInterfaceInfo.recommended.length?this.length=this.selectedInterfaceInfo.recommended.length:(this.selectedDatatypeInfo.length&&(this.length=this.selectedDatatypeInfo.defaultLength,Ve[this.type][this.databaseVendor].length&&(this.length=Ve[this.type][this.databaseVendor].length)),this.selectedDatatypeInfo&&this.selectedDatatypeInfo.decimal&&(this.length=this.selectedDatatypeInfo.defaultDigits+","+this.selectedDatatypeInfo.defaultDecimals)))},lengthDisabled(e){e&&(this.length=null)},field(e){this.field=e.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w_]+/g,"").replace(/__+/g,"_"),this.relation&&("m2o"===this.relation&&(this.relationInfo.field_many=this.field),"o2m"===this.relation&&(this.relationInfo.field_one=this.field))},relationInfoM2M:{deep:!0,handler(){this.relationInfoM2M[0].junction_field=this.relationInfoM2M[1].field_many,this.relationInfoM2M[1].junction_field=this.relationInfoM2M[0].field_many,this.relationInfoM2M[this.currentM2MIndex].field_one=this.field}},relationInfo:{deep:!0,handler(){"o2m"===this.relation&&this.getM2OID()}}},methods:{nextTab(){if(this.existing)return this.saveField();switch(this.activeTab){case"interface":this.activeTab="schema";break;case"schema":if(this.relation)return this.activeTab="relation";if(!1===this.hasOptions)return this.saveField();this.activeTab="options";break;case"relation":if(!1===this.hasOptions)return this.saveField();this.activeTab="options";break;case"options":default:this.saveField();break}},setInterface(e){this.interfaceName=e,this.nextTab()},saveField(){const e={id:this.id,sort:this.sort,field:this.field,type:this.type,datatype:this.datatype,interface:this.interfaceName,default_value:this.default_value,options:this.options,readonly:this.readonly,required:this.required,unique:this.unique,note:this.note,hidden_detail:this.hidden_detail,hidden_browse:this.hidden_browse,primary_key:this.primary_key,length:this.length,validation:this.validation};this.saving=!0;const t={fieldInfo:e,relation:null};this.relation&&("m2o"===this.relation&&(t.relation={...this.relationInfo},delete t.relation.field_one),"o2m"===this.relation&&(t.relation={...this.relationInfo}),"m2m"===this.relation&&(t.relation=[...this.relationInfoM2M])),this.$emit("save",t)},useFieldInfo(){if(!this.fieldInfo||0===Object.keys(this.fieldInfo).length)return;const e=this.fieldInfo.field,t=this.collectionInfo.collection,i=this.$lodash.clone(this.$store.state.collections[t].fields[e]);Object.keys(i).forEach(e=>{null!=i[e]&&(this[e]=i[e])}),this.interfaceName=i.interface,this.type=this.type&&this.type.toLowerCase(),this.datatype=this.datatype&&this.datatype.toUpperCase()},initRelation(){if(!this.relation)return;const e=this.collectionInfo.collection,t=this.field;if("m2o"===this.relation){const i=this.$store.getters.m2o(e,t);i?this.$lodash.forEach(i,(e,t)=>{return t&&e&&t.startsWith("collection")?this.$set(this.relationInfo,t,e.collection):t&&e&&t.startsWith("field")?this.$set(this.relationInfo,t,e.field):void(e&&this.$set(this.relationInfo,t,e))}):(this.relationInfo.collection_many=this.collectionInfo.collection,this.relationInfo.field_many=this.field,this.relationInfo.collection_one=Object.values(this.$store.state.collections)[0].collection,this.relationInfo.field_one=this.$lodash.find(Object.values(this.$store.state.collections)[0].fields,{primary_key:!0}).field)}else if("o2m"===this.relation){const i=this.$store.getters.o2m(e,t);i?this.$lodash.forEach(i,(e,t)=>{return t&&e&&t.startsWith("collection")?this.$set(this.relationInfo,t,e.collection):t&&e&&t.startsWith("field")?this.$set(this.relationInfo,t,e.field):void(e&&this.$set(this.relationInfo,t,e))}):(this.relationInfo.collection_one=this.collectionInfo.collection,this.relationInfo.field_one=this.field,this.relationInfo.collection_many=Object.values(this.$store.state.collections)[0].collection,this.relationInfo.field_many=this.$lodash.find(Object.values(this.$store.state.collections)[0].fields,{primary_key:!0}).field,this.getM2OID())}else if("m2m"===this.relation){const i=this.$store.getters.o2m(e,t);t&&i?(this.relationInfoM2M[0].id=i.id,this.relationInfoM2M[0].collection_many=i.collection_many.collection,this.relationInfoM2M[0].field_many=i.field_many.field,this.relationInfoM2M[0].collection_one=i.collection_one.collection,this.relationInfoM2M[0].field_one=i.field_one.field,this.relationInfoM2M[0].junction_field=i.junction.field_many.field,this.relationInfoM2M[1].id=i.junction.id,this.relationInfoM2M[1].collection_many=i.collection_many.collection,this.relationInfoM2M[1].field_many=i.junction.field_many.field,this.relationInfoM2M[1].collection_one=i.junction.collection_one.collection,this.relationInfoM2M[1].field_one=i.junction.field_one&&i.junction.field_one.field,this.relationInfoM2M[1].junction_field=i.field_many.field):(this.relationInfoM2M[0].collection_many=Object.keys(this.collections)[0],this.relationInfoM2M[0].field_many=Object.values(Object.values(this.collections)[0].fields)[0].field,this.relationInfoM2M[0].collection_one=this.collectionInfo.collection,this.relationInfoM2M[0].junction_field=Object.values(Object.values(this.collections)[0].fields)[1].field,this.relationInfoM2M[1].collection_many=Object.keys(this.collections)[0],this.relationInfoM2M[1].field_many=Object.values(Object.values(this.collections)[0].fields)[1].field,this.relationInfoM2M[1].collection_one=Object.keys(this.collections)[1],this.relationInfoM2M[1].junction_field=Object.values(Object.values(this.collections)[0].fields)[0].field)}},getM2OID(){const e=this.relationInfo.collection_many,t=this.relationInfo.field_many,i=this.$store.getters.m2o(e,t);this.relationInfo.id=i?i.id:null},fields(e){return e?this.collections[e].fields:{}},primaryKeyFieldByCollection(e){const t=this.fields(e);return this.$lodash.find(t,{primary_key:!0})}}},au=nu,ou=(i("7745"),Object(R["a"])(au,iu,su,!1,null,"342f2718",null));ou.options.__file="field-setup.vue";var lu=ou.exports,ru=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-modal",{attrs:{title:e.$t("duplicating_field")+": "+e.$helpers.formatTitle(e.fieldInfo.field),buttons:e.buttons},on:{save:function(t){e.saveField()},close:function(t){e.$emit("close")}}},[i("form",{staticClass:"options",on:{submit:function(e){e.preventDefault()}}},[i("div",{staticClass:"options"},[i("label",[e._v(e._s(e.$t("collection"))),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("required"),expression:"$t('required')"}],staticClass:"material-icons required"},[e._v("star")]),i("v-simple-select",{attrs:{required:""},model:{value:e.selectedCollection,callback:function(t){e.selectedCollection=t},expression:"selectedCollection"}},e._l(Object.keys(this.collections),function(t){return i("option",{key:t,domProps:{value:t,selected:t===e.selectedCollection}},[e._v("\n              "+e._s(e.$helpers.formatTitle(t))+"\n            ")])}))],1)]),i("div",{staticClass:"options"},[i("label",[e._v(e._s(e.$t("field")+" "+e.$t("name"))),i("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("required"),expression:"$t('required')"}],staticClass:"material-icons required"},[e._v("star")]),i("v-input",{attrs:{required:"",value:e.field,placeholder:e.fieldInfo.field,"icon-right":e.iconToShow.icon,"icon-right-color":e.iconToShow.color},model:{value:e.field,callback:function(t){e.field=t},expression:"field"}})],1),i("p",{staticClass:"small-text"},[e._v(" \n          "+e._s(e.$t("display_name"))+": "),i("b",[e._v(e._s(e.$helpers.formatTitle(e.field||"...")))])])])])])},cu=[],du={name:"v-field-duplicate",props:{collectionInformation:{type:Object,required:!0},fieldInformation:{type:Object,required:!0}},data(){return{fieldInfo:Object.assign({},this.fieldInformation),selectedCollection:this.collectionInformation.collection,field:null,saving:!1}},computed:{canDuplicate(){return!!(this.field&&this.isFieldValid&&this.selectedCollection)},iconToShow(){return this.field?this.isFieldValid?{icon:"done",color:"success"}:{icon:"error",color:"danger"}:{icon:null,color:null}},isFieldValid(){let e=!0;return Object.keys(this.collections[this.selectedCollection].fields).forEach(t=>{t===this.field&&(e=!1)}),!!e},collectionFieldCount(){return Object.keys(this.collections[this.selectedCollection].fields).length},collections(){const e=Object.assign({},this.$store.state.collections);return Object.keys(e).filter(e=>!1===e.startsWith("directus_")).reduce((t,i)=>{return t[i]=e[i],t},{})},buttons(){return{save:{disabled:!this.canDuplicate,text:this.$t("create"),loading:this.saving}}}},watch:{field(e){this.field=e.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w_]+/g,"").replace(/__+/g,"_")}},methods:{saveField(){this.saving=!0;let e=this.fieldInfo;e.field=this.field,e.sort=this.collectionFieldCount+1,delete e.id,delete e.name;const t={fieldInfo:e,collection:this.selectedCollection};this.$emit("save",t)}}},uu=du,hu=(i("0a2d"),Object(R["a"])(uu,ru,cu,!1,null,"74cc0d8c",null));hu.options.__file="field-duplicate.vue";var pu=hu.exports,mu={name:"settings-fields",metaInfo(){return{title:`${this.$t("settings")} | ${this.$t("editing",{collection:this.$helpers.formatTitle(this.collection)})}`}},components:{NotFound:Tc,VFieldSetup:lu,VFieldDuplicate:pu},props:{collection:{type:String,required:!0}},data(){return{duplicateInterfaceBlacklist:["primary-key","many-to-many","one-to-many","many-to-one","sort"],saving:!1,dragging:!1,fields:null,directusFields:null,notFound:!1,error:!1,confirmRemove:!1,confirmRemoveLoading:!1,confirmNavigation:!1,leavingTo:"",edits:{},fieldBeingEdited:null,fieldToBeRemoved:null,confirmFieldRemove:!1,fieldBeingDuplicated:null,duplicatingField:!1,editingField:!1}},computed:{breadcrumb(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("collections_and_fields"),path:"/settings/collections"},{name:this.$t(`collections-${this.collection}`),path:`/settings/collections/${this.collection}`}]},collectionInfo(){return this.$store.state.collections[this.collection]},fieldsWithSort(){return this.fields.map((e,t)=>({...e,sort:t+1}))},values(){return{...this.collectionInfo,...this.edits}}},methods:{remove(){const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteCollection(this.collection).then(()=>{this.$store.dispatch("loadingFinished",e),this.$store.dispatch("removeCollection",this.collection),this.$notify({title:this.$t("collection_removed",{collection:this.$helpers.formatTitle(this.collection)}),color:"green",iconMain:"check"}),this.$router.push("/settings/collections")}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},save(){this.saving=!0;const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.updateCollection(this.collection,this.edits).then(()=>{this.$notify({title:this.$t("collection_updated",{collection:this.$helpers.formatTitle(this.collection)}),color:"green",iconMain:"check"}),this.$store.dispatch("loadingFinished",e),this.saving=!1,this.$store.dispatch("updateCollection",{collection:this.collection,edits:this.edits}),this.$router.push("/settings/collections")}).catch(t=>{this.saving=!1,this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},stageValue({field:e,value:t}){t!==this.collectionInfo[e]?this.$set(this.edits,e,t):this.$delete(this.edits,e)},canDuplicate(e){return!1===this.duplicateInterfaceBlacklist.includes(e)},duplicateFieldSettings({fieldInfo:e,collection:t}){const i=[],s=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:s}),e.collection=t,i.push(this.$api.createField(t,e)),Promise.all(i).then(([e])=>({savedFieldInfo:e.data})).then(({savedFieldInfo:i})=>{this.$store.dispatch("loadingFinished",s),this.collection===t&&(this.fields=[...this.fields,i]),this.$store.dispatch("addField",{collection:t,field:i}),this.$notify({title:this.$t("field_created",{field:this.$helpers.formatTitle(e.field)}),color:"green",iconMain:"check"})}).then(()=>{this.duplicatingField=!1,this.fieldBeingDuplicated=null}).catch(e=>{this.$store.dispatch("loadingFinished",s),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})},setFieldSettings({fieldInfo:e,relation:t}){const i=this.$store.state.collections[this.collection].fields.hasOwnProperty(e.field),s=[],n=this.$helpers.shortid.generate();if(this.$store.dispatch("loadingStart",{id:n}),i?s.push(this.$api.updateField(this.collection,e.field,e)):(delete e.id,e.collection=this.collection,s.push(this.$api.createField(this.collection,e))),t){const e=e=>{const t=e&&null!=e.id;t?s.push(this.$api.updateRelation(e.id,e)):(delete e.id,s.push(this.$api.createRelation(e)))};Array.isArray(t)?t.forEach(e):e(t)}return Promise.all(s).then(([e,t])=>({savedFieldInfo:e.data,savedRelationInfo:t&&t.data})).then(({savedFieldInfo:s,savedRelationInfo:a})=>{if(this.$store.dispatch("loadingFinished",n),i?(this.fields=this.fields.map(e=>{return e.id===s.id?s:e}),this.$notify({title:this.$t("field_updated",{field:this.$helpers.formatTitle(e.field)}),color:"green",iconMain:"check"}),this.$store.dispatch("updateField",{collection:this.collection,field:s})):(this.fields=[...this.fields,s],this.$notify({title:this.$t("field_created",{field:this.$helpers.formatTitle(e.field)}),color:"green",iconMain:"check"}),this.$store.dispatch("addField",{collection:this.collection,field:s})),t){const e=e=>{const t=e&&null!=e.id;t?this.$store.dispatch("updateRelation",a):this.$store.dispatch("addRelation",a)};Array.isArray(t)?t.forEach(e):e(t)}}).then(()=>{this.editingField=!1,this.fieldBeingEdited=null}).catch(e=>{this.$store.dispatch("loadingFinished",n),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})},duplicateField(e){this.fieldBeingDuplicated=e,this.duplicatingField=!0},startEditingField(e){this.fieldBeingEdited=e,this.editingField=!0},warnRemoveField(e){this.fieldToBeRemoved=e,this.confirmFieldRemove=!0},removeField(e){this.removingField=!0;const t=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:t}),this.$api.deleteField(this.collection,e).then(()=>{this.$store.dispatch("loadingFinished",t),this.fields=this.fields.filter(({field:t})=>t!==e),this.removingField=!1,this.fieldToBeRemoved=null,this.confirmFieldRemove=!1,this.$notify({title:this.$t("field_removed",{field:this.$helpers.formatTitle(e)}),color:"green",iconMain:"check"}),this.$store.dispatch("removeField",{collection:this.collection,field:e})}).catch(e=>{this.$store.dispatch("loadingFinished",t),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})},startSort(){this.dragging=!0},saveSort(){this.dragging=!1;const e=this.fieldsWithSort.map(e=>({field:e.field,sort:e.sort})),t=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:t}),this.$api.patch(`/fields/${this.collection}`,e,{activity_skip:1}).then(e=>e.data).then(i=>{this.$store.dispatch("loadingFinished",t),this.$store.dispatch("updateFields",{collection:this.collection,updates:e}),this.fields=i}).catch(e=>{this.$store.dispatch("loadingFinished",t),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e})})}},beforeRouteEnter(e,t,i){const{collection:s}=e.params,n=Jr.a.generate();return Kr.dispatch("loadingStart",{id:n}),Promise.all([Xr.getFields("directus_collections"),Xr.getFields(s,{sort:"sort"})]).then(([e,t])=>({directusFields:e.data,fields:t.data})).then(({directusFields:e,fields:t})=>{Kr.dispatch("loadingFinished",n),i(i=>{i.$data.directusFields=Object(_["keyBy"])(e.map(e=>({...e,name:hl()(e.field),note:i.$t("note_"+e.field)})),"field"),delete i.$data.directusFields.note.note,i.$data.directusFields.note.options={placeholder:i.$t("note_note")},i.$data.fields=t.map(e=>({...e,name:hl()(e.field)})).sort((e,t)=>{return e.sort==t.sort?0:null===e.sort?1:null===t.sort?-1:e.sort>t.sort?1:-1})})}).catch(e=>{Kr.dispatch("loadingFinished",n),i(t=>{t.$data.error=e})})}},fu=mu,vu=(i("c920"),Object(R["a"])(fu,eu,tu,!1,null,"15361671",null));vu.options.__file="fields.vue";var _u=vu.exports,gu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"settings-roles"},[i("v-header",{attrs:{breadcrumb:e.breadcrumb}},[i("template",{slot:"buttons"},[i("v-header-button",{key:"add",attrs:{icon:"add",color:"action",label:e.$t("new")},on:{click:function(t){e.addNew=!0}}})],1)],2),i("v-table",{attrs:{items:e.items,columns:e.fields,"primary-key-field":"collection",link:"__link__"}}),e.addNew?i("portal",{attrs:{to:"modal"}},[i("v-prompt",{attrs:{"confirm-text":e.$t("create"),message:e.$t("create_role"),placeholder:e.$t("enter_role_name"),loading:e.adding},on:{cancel:function(t){e.addNew=!1},confirm:e.add},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1):e._e()],1)},yu=[],bu={name:"settings-roles",metaInfo(){return{title:`${this.$t("settings")} | ${this.$t("roles")}`}},data(){return{error:null,roles:[],adding:!1,addNew:!1,newName:""}},computed:{breadcrumb(){return[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("roles"),path:"/settings/roles"}]},items(){return this.roles.map(e=>({...e,__link__:`/settings/roles/${e.id}`}))},fields(){return[{field:"name",name:this.$t("name")},{field:"description",name:this.$t("description")}]}},beforeRouteEnter(e,t,i){Xr.getRoles().then(e=>e.data).then(e=>{i(t=>{t.$data.roles=e})}).catch(e=>{this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:e}),i(t=>{t.$data.error=e})})},methods:{add(){this.adding=!0;const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.$api.createRole({name:this.newName}).then(e=>e.data).then(t=>{this.$store.dispatch("loadingFinished",e),this.$router.push(`/settings/roles/${t.id}`)}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})}}},$u=bu,ku=Object(R["a"])($u,gu,yu,!1,null,null,null);ku.options.__file="roles.vue";var wu=ku.exports,Cu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.error?i("div",[i("v-header"),e.error?i("v-error",{attrs:{icon:"error_outline",color:"warning",title:e.$t("server_trouble"),body:e.$t("server_trouble_copy")}}):e._e()],1):i("div",{staticClass:"settings-permissions"},[i("v-header",{attrs:{breadcrumb:e.breadcrumb}},[i("template",{slot:"buttons"},[e.isNew||e.isSystem?e._e():i("v-header-button",{attrs:{loading:e.removing,label:e.$t("delete"),icon:"close",color:"danger"},on:{click:function(t){e.confirmRemove=!0}}}),i("v-header-button",{attrs:{disabled:!e.editing,loading:e.saving,label:e.$t("save"),icon:"check",color:"action"},on:{click:e.save}})],1)],2),i("label",[e._v(e._s(e.$t("permissions")))]),e.isAdmin?i("p",{staticClass:"admin-note"},[e._v(e._s(e.$t("permissions_admin")))]):i("v-permissions",{attrs:{loading:!(e.permissions&&e.statuses),permissions:e.permissions,statuses:e.statuses,fields:e.permissionFields},on:{input:e.setPermission}}),e.fields&&e.role?i("v-form",{attrs:{fields:e.fields,values:e.role,collection:"directus_roles"},on:{"stage-value":e.stageValue}}):e._e(),e.confirmRemove?i("portal",{attrs:{to:"modal"}},[i("v-confirm",{attrs:{color:"danger",message:e.$t("delete_role_are_you_sure",{name:e.role.name}),"confirm-text":e.$t("delete"),loading:e.removing},on:{cancel:function(t){e.confirmRemove=!1},confirm:e.remove}})],1):e._e()],1)},xu=[],Iu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.loading?i("div",{staticClass:"v-permissions interface loading"},[i("v-spinner",{attrs:{"line-fg-color":"var(--light-gray)","line-bg-color":"var(--lighter-gray)"}})],1):i("div",{staticClass:"interface"},[i("div",{staticClass:"v-permissions"},[i("v-permissions-header",{on:{"toggle-all":e.toggleAll}}),i("div",{staticClass:"body"},[0===Object.keys(e.rows).length?i("p",{staticClass:"no-collections-message"},[e._v(e._s(e.$t("permissions_no_collections")))]):e._e(),e._l(e.rows,function(t,s){return i("v-permissions-row",{key:s,attrs:{permission:t,"permission-name":s,statuses:(e.statuses[s]||{}).mapping,fields:e.fields[s]},on:{input:function(t){e.$emit("input",t)}}})}),e._l(e.directusRows,function(t,s,n){return e.showDirectus?i("v-permissions-row",{key:s,class:{border:0===n},attrs:{permission:t,"permission-name":s,statuses:(e.statuses[s]||{}).mapping,fields:e.fields[s],system:""},on:{input:function(t){e.$emit("input",t)}}}):e._e()})],2)],1),i("label",[i("v-toggle",{staticClass:"toggle",attrs:{id:"toggle-directus"},model:{value:e.showDirectus,callback:function(t){e.showDirectus=t},expression:"showDirectus"}}),e._v(e._s(e.$t("show_directus_collections")))],1)])},Su=[],Eu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header"},[i("div",{staticClass:"row"},[i("div",{staticClass:"cell"},[e._v(e._s(e.$t("collection")))]),i("div",{staticClass:"cell"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("click_to_toggle_all_none"),expression:"$t('click_to_toggle_all_none')"}],staticClass:"cell",attrs:{type:"button"},on:{click:function(t){e.$emit("toggle-all","create")}}},[e._v(e._s(e.$t("create")))])]),i("div",{staticClass:"cell"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("click_to_toggle_all_none"),expression:"$t('click_to_toggle_all_none')"}],staticClass:"cell",attrs:{type:"button"},on:{click:function(t){e.$emit("toggle-all","read")}}},[e._v(e._s(e.$t("read")))])]),i("div",{staticClass:"cell"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("click_to_toggle_all_none"),expression:"$t('click_to_toggle_all_none')"}],staticClass:"cell",attrs:{type:"button"},on:{click:function(t){e.$emit("toggle-all","update")}}},[e._v(e._s(e.$t("update")))])]),i("div",{staticClass:"cell"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("click_to_toggle_all_none"),expression:"$t('click_to_toggle_all_none')"}],staticClass:"cell",attrs:{type:"button"},on:{click:function(t){e.$emit("toggle-all","delete")}}},[e._v(e._s(e.$t("delete")))])]),i("div",{staticClass:"cell"},[i("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("click_to_toggle_all_none"),expression:"$t('click_to_toggle_all_none')"}],staticClass:"cell",attrs:{type:"button"},on:{click:function(t){e.$emit("toggle-all","comment")}}},[e._v(e._s(e.$t("comment")))])]),i("div",{staticClass:"cell"},[e._v(e._s(e.$t("explain")))]),i("div",{staticClass:"cell"},[e._v(e._s(e.$t("fields")))]),i("div",{staticClass:"cell"},[e._v(e._s(e.$t("statuses")))])])])},Ou=[],Tu=(i("25af"),{}),Fu=Object(R["a"])(Tu,Eu,Ou,!1,null,"1caae9b1",null);Fu.options.__file="permissions-header.vue";var Nu=Fu.exports,ju=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"v-permissions-row",class:{"system-row":e.system}},[e.statuses?i("div",{staticClass:"row"},[i("div",{staticClass:"cell"},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.permissionName,expression:"permissionName"}]},[e._v(e._s(e.$helpers.formatTitle(e.permissionName)))]),i("span",{staticClass:"set-all"},[i("button",{attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.setAll(!0)}}},[e._v(e._s(e.$t("all")))]),e._v(" / "),i("button",{attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.setAll(!1)}}},[e._v(e._s(e.$t("none")))])])]),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.getCombinedVal("create"),options:["none","full"]},on:{input:function(t){e.setAllStatuses("create",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.getCombinedVal("read"),options:e.permissionOptions},on:{input:function(t){e.setAllStatuses("read",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.getCombinedVal("update"),options:e.permissionOptions},on:{input:function(t){e.setAllStatuses("update",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.getCombinedVal("delete"),options:e.permissionOptions},on:{input:function(t){e.setAllStatuses("delete",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.getCombinedVal("comment"),options:["none","read","create","update","full"]},on:{input:function(t){e.setAllStatuses("comment",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.getCombinedVal("explain"),options:["none","create","update","always"]},on:{input:function(t){e.setAllStatuses("explain",t)}}})],1),i("div",{staticClass:"cell"},[i("button",{class:{mixed:e.fieldState},on:{click:function(t){e.active=!e.active}}},[e._v("\n        "+e._s(e.fieldState?e.$t("mixed"):e.$t("all"))+"\n      ")])]),i("div",{staticClass:"cell"},[i("button",{staticClass:"mixed",on:{click:function(t){e.active=!e.active}}},[e._v("\n        --\n      ")])])]):i("div",{staticClass:"row"},[i("div",{staticClass:"cell"},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.permissionName,expression:"permissionName"}],class:{system:e.system}},[e._v(e._s(e.$helpers.formatTitle(e.system?e.permissionName.substring(9):e.permissionName))),e.system?i("i",{staticClass:"material-icons"},[e._v("star")]):e._e()]),i("span",{staticClass:"set-all"},[i("button",{attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.setAll(!0)}}},[e._v(e._s(e.$t("all")))]),e._v(" / "),i("button",{attrs:{type:"button"},on:{click:function(t){t.preventDefault(),e.setAll(!1)}}},[e._v(e._s(e.$t("none")))])])]),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission.create,options:["none","full"]},on:{input:function(t){e.emitValue("create",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission.read,options:e.permissionOptions},on:{input:function(t){e.emitValue("read",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission.update,options:e.permissionOptions},on:{input:function(t){e.emitValue("update",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission.delete,options:e.permissionOptions},on:{input:function(t){e.emitValue("delete",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission.comment,options:["none","read","create","update","full"]},on:{input:function(t){e.emitValue("comment",t)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission.explain,options:["none","on_create","on_update","always"]},on:{input:function(t){e.emitValue("explain",t)}}})],1),i("div",{staticClass:"cell"},[i("button",{class:{limited:e.fieldState},on:{click:function(t){e.fieldsSelect={collection:e.permissionName}}}},[e._v("\n        "+e._s(e.fieldState?e.$t("limited"):e.$t("all"))+"\n      ")])]),e._m(0)]),e.active?[i("div",{staticClass:"sub row"},[i("div",{staticClass:"cell"},[i("span",{staticClass:"system"},[e._v(e._s(e.$t("permission_states.on_create"))),i("i",{staticClass:"material-icons"},[e._v("star")])])]),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),e._m(6),i("div",{staticClass:"cell"},[i("button",{class:{limited:e.getFieldSettingsPerStatus("$create")},on:{click:function(t){e.fieldsSelect={collection:e.permissionName,status:"$create"}}}},[e._v("\n          "+e._s(e.getFieldSettingsPerStatus("$create")?e.$t("limited"):e.$t("all"))+"\n        ")])]),e.statuses?i("div",{staticClass:"cell"},[i("button",{class:{limited:0!==(e.permission.$create.status_blacklist||[]).length},on:{click:function(t){e.statusSelect={collection:e.permissionName,status:"$create"}}}},[e._v("\n          "+e._s(0===(e.permission.$create.status_blacklist||[]).length?e.$t("all"):e.$t("limited"))+"\n        ")])]):i("div",{staticClass:"cell"},[i("span",{staticClass:"mixed"},[e._v("n/a")])])])]:e._e(),e.statuses&&e.active?e._l(e.statuses,function(t,s){return i("div",{key:e.permissionName+"-"+s,staticClass:"sub row"},[i("div",{staticClass:"cell"},[i("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:s,expression:"status"}]},[e._v(e._s(t.name))])]),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission[s].create,options:["none","full"]},on:{input:function(t){e.emitValue("create",t,s)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission[s].read,options:e.permissionOptions},on:{input:function(t){e.emitValue("read",t,s)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission[s].update,options:e.permissionOptions},on:{input:function(t){e.emitValue("update",t,s)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission[s].delete,options:e.permissionOptions},on:{input:function(t){e.emitValue("delete",t,s)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission[s].comment,options:["none","create","update","full"]},on:{input:function(t){e.emitValue("comment",t,s)}}})],1),i("div",{staticClass:"cell"},[i("v-permissions-toggle",{attrs:{value:e.permission[s].explain,options:["none","create","update","always"]},on:{input:function(t){e.emitValue("explain",t,s)}}})],1),i("div",{staticClass:"cell"},[i("button",{class:{limited:e.getFieldSettingsPerStatus(s)},on:{click:function(t){e.fieldsSelect={collection:e.permissionName,status:s}}}},[e._v("\n          "+e._s(e.getFieldSettingsPerStatus(s)?e.$t("limited"):e.$t("all"))+"\n        ")])]),i("div",{staticClass:"cell"},[i("button",{class:{limited:0!==(e.permission[s].status_blacklist||[]).length},on:{click:function(t){e.statusSelect={collection:e.permissionName,status:s}}}},[e._v("\n          "+e._s(0===(e.permission[s].status_blacklist||[]).length?e.$t("all"):e.$t("limited"))+"\n        ")])])])}):e._e(),i("button",{staticClass:"collapse",on:{click:function(t){e.active=!e.active}}},[i("i",{staticClass:"material-icons"},[e._v(e._s(e.active?"unfold_less":"unfold_more"))])]),e.fieldsSelect?i("portal",{attrs:{to:"modal"}},[i("v-modal",{attrs:{title:e.$t("select_fields"),buttons:{confirm:{text:e.$t("confirm")}},"action-required":""},on:{confirm:function(t){e.fieldsSelect=null}}},[i("form",{staticClass:"modal-content",on:{submit:function(e){e.preventDefault()}}},[i("fieldset",[i("legend",{staticClass:"style-3"},[e._v(e._s(e.$t("readable_fields")))]),i("p",{staticClass:"style-4"},[e._v(e._s(e.$t("readable_fields_copy")))]),e._l(e.fields,function(t,s){return i("v-checkbox",{key:e.permissionName+"-read-"+s,attrs:{id:e.permissionName+"-read-"+s,checked:!e.blacklist.read.includes(s),label:e.$helpers.formatTitle(s),value:s},on:{change:function(t){e.toggleField(s)}}})})],2),i("fieldset",[i("legend",{staticClass:"style-3"},[e._v(e._s(e.$t("writable_fields")))]),i("p",{staticClass:"style-4"},[e._v(e._s(e.$t("writable_fields_copy")))]),e._l(e.fields,function(t,s){return i("v-checkbox",{key:e.permissionName+"-write-"+s,attrs:{id:e.permissionName+"-write-"+s,checked:!e.blacklist.write.includes(s),label:e.$helpers.formatTitle(s),value:s},on:{change:function(t){e.toggleField(s,!0)}}})})],2)])])],1):e._e(),e.statusSelect&&e.statuses?i("portal",{attrs:{to:"modal"}},[i("v-modal",{attrs:{title:e.$t("select_statuses"),buttons:{confirm:{text:e.$t("confirm")}},"action-required":""},on:{confirm:function(t){e.statusSelect=null}}},[i("form",{staticClass:"modal-content",on:{submit:function(e){e.preventDefault()}}},[i("fieldset",[i("legend",{staticClass:"style-3"},[e._v(e._s(e.$t("statuses")))]),i("p",{staticClass:"style-4"},[e._v(e._s(e.$t("select_statuses_copy")))]),e._l(e.statuses,function(t,s){return i("v-checkbox",{key:"status-"+s,attrs:{id:"status-"+s,checked:!(e.permission[e.statusSelect.status].status_blacklist||[]).includes(s),label:t.name,value:s},on:{change:function(t){e.toggleStatus(s)}}})})],2)])])],1):e._e()],2)},Au=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cell"},[i("span",{staticClass:"mixed"},[e._v("n/a")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cell block"},[i("i",{staticClass:"material-icons"},[e._v("block")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cell block"},[i("i",{staticClass:"material-icons"},[e._v("block")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cell block"},[i("i",{staticClass:"material-icons"},[e._v("block")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cell block"},[i("i",{staticClass:"material-icons"},[e._v("block")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cell block"},[i("i",{staticClass:"material-icons"},[e._v("block")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cell block"},[i("i",{staticClass:"material-icons"},[e._v("block")])])}],Mu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-popover",{attrs:{placement:"right-start",offset:"5"}},[i("button",{staticClass:"box",class:[{none:null===e.value},e.value]},["none"===e.value?i("i",{staticClass:"material-icons"},[e._v("close")]):"mine"===e.value?i("i",{staticClass:"material-icons"},[e._v("person")]):"role"===e.value?i("i",{staticClass:"material-icons"},[e._v("group")]):"full"===e.value?i("i",{staticClass:"material-icons"},[e._v("check")]):"read"===e.value?i("i",{staticClass:"material-icons"},[e._v("remove_red_eye")]):"create"===e.value?i("i",{staticClass:"material-icons"},[e._v("add")]):"on_create"===e.value?i("i",{staticClass:"material-icons"},[e._v("add")]):"update"===e.value?i("i",{staticClass:"material-icons"},[e._v("edit")]):"on_update"===e.value?i("i",{staticClass:"material-icons"},[e._v("edit")]):"always"===e.value?i("i",{staticClass:"material-icons"},[e._v("announcement")]):"indeterminate"===e.value?i("i",{staticClass:"material-icons"},[e._v("remove")]):e._e()]),i("template",{slot:"popover"},[i("div",{staticClass:"popover-content"},e._l(e.options,function(t){return i("button",{directives:[{name:"close-popover",rawName:"v-close-popover"}],key:t,on:{click:function(i){e.$emit("input",t)}}},[i("div",{staticClass:"box",class:t},["none"===t?i("i",{staticClass:"material-icons"},[e._v("close")]):"mine"===t?i("i",{staticClass:"material-icons"},[e._v("person")]):"role"===t?i("i",{staticClass:"material-icons"},[e._v("group")]):"full"===t?i("i",{staticClass:"material-icons"},[e._v("check")]):"read"===t?i("i",{staticClass:"material-icons"},[e._v("remove_red_eye")]):"create"===t?i("i",{staticClass:"material-icons"},[e._v("add")]):"on_create"===t?i("i",{staticClass:"material-icons"},[e._v("add")]):"update"===t?i("i",{staticClass:"material-icons"},[e._v("edit")]):"on_update"===t?i("i",{staticClass:"material-icons"},[e._v("edit")]):"always"===t?i("i",{staticClass:"material-icons"},[e._v("announcement")]):e._e()]),"none"===t?[e._v(e._s(e.$t("permission_states.none")))]:e._e(),"mine"===t?[e._v(e._s(e.$t("permission_states.mine")))]:e._e(),"role"===t?[e._v(e._s(e.$t("permission_states.role")))]:e._e(),"full"===t?[e._v(e._s(e.$t("permission_states.full")))]:e._e(),"read"===t?[e._v(e._s(e.$t("permission_states.read")))]:e._e(),"create"===t?[e._v(e._s(e.$t("permission_states.create")))]:e._e(),"on_create"===t?[e._v(e._s(e.$t("permission_states.on_create")))]:e._e(),"update"===t?[e._v(e._s(e.$t("permission_states.update")))]:e._e(),"on_update"===t?[e._v(e._s(e.$t("permission_states.on_update")))]:e._e(),"always"===t?[e._v(e._s(e.$t("permission_states.always")))]:e._e()],2)}))])],2)},qu=[],Pu={name:"permission-toggle",props:{options:{type:Array,default:()=>[]},value:{type:String,default:"none"}}},Du=Pu,Ru=(i("2243"),Object(R["a"])(Du,Mu,qu,!1,null,"03338779",null));Ru.options.__file="permissions-toggle.vue";var Lu=Ru.exports,Bu={name:"v-permissions-row",components:{VPermissionsToggle:Lu},props:{permission:{type:Object,required:!0},statuses:{type:Object,default:null},permissionName:{type:String,required:!0},fields:{type:Object,default:()=>({})},system:{type:Boolean,default:!1}},data(){return{active:!1,fieldsSelect:!1,statusSelect:!1}},computed:{collapsable(){return null!=this.statuses},blacklist(){if(!this.fieldsSelect||!this.permission)return;const{status:e}=this.fieldsSelect,t=e?this.permission[e]:this.permission;return{read:t.read_field_blacklist||[],write:t.write_field_blacklist||[]}},fieldState(){if(!this.permission)return this.$t("all");if(this.statuses){let e=!0;return this.$lodash.forEach(this.permission,t=>{(t.read_field_blacklist.length>0||t.write_field_blacklist.length>0)&&(e=!1)}),!e}const e=this.permission.read_field_blacklist||[],t=this.permission.write_field_blacklist||[];return 0!==e.length||0!==t.length},userCreatedField(){return this.$lodash.find(this.fields,e=>e.type&&"user_created"===e.type.toLowerCase())},permissionOptions(){return this.userCreatedField?["none","mine","role","full"]:["none","full"]}},methods:{setAll(e=!0){const t=e?{create:"full",read:"full",update:"full",delete:"full",comment:"full",explain:"none",read_field_blacklist:[],write_field_blacklist:[],status_blacklist:[]}:{create:"none",read:"none",update:"none",delete:"none",comment:"none",explain:"none",read_field_blacklist:[],write_field_blacklist:[],status_blacklist:[]};if(this.statuses){const e=[];return Object.keys(this.statuses).forEach(i=>{Object.keys(t).forEach(s=>{e.push({collection:this.permissionName,permission:s,value:t[s],status:i})})}),this.$emit("input",e)}return this.$emit("input",Object.keys(t).map(e=>({collection:this.permissionName,permission:e,value:t[e]})))},emitValue(e,t,i=null){this.$emit("input",{collection:this.permissionName,permission:e,value:t,status:i})},getCombinedVal(e){if(!this.statuses)return null;let t=this.permission[Object.keys(this.statuses)[0]][e];return this.$lodash.forEach(this.permission,(i,s)=>{"$create"!==s&&i[e]!==t&&(t="indeterminate")}),t},getFieldSettingsPerStatus(e){const t=this.permission[e].read_field_blacklist,i=this.permission[e].write_field_blacklist;return 0!==t.length||0!==i.length},setAllStatuses(e,t){Object.keys(this.statuses).forEach(i=>{this.emitValue(e,t,i)})},toggleField(e,t=!1){const{status:i}=this.fieldsSelect,s=t?this.blacklist.write:this.blacklist.read,n=t?"write_field_blacklist":"read_field_blacklist";return s.includes(e)?this.emitValue(n,s.filter(t=>t!==e),i):this.emitValue(n,[...s,e],i)},toggleStatus(e){if(!this.statuses)return;const t=this.statusSelect.status,i=this.permission[t].status_blacklist;return i.includes(e)?this.emitValue("status_blacklist",i.filter(t=>t!==e),t):this.emitValue("status_blacklist",[...i,e],t)}}},Vu=Bu,Uu=(i("0f39"),Object(R["a"])(Vu,ju,Au,!1,null,"594a0dd2",null));Uu.options.__file="permissions-row.vue";var Ku=Uu.exports,zu={name:"v-permissions",data(){return{showDirectus:!1}},components:{VPermissionsHeader:Nu,VPermissionsRow:Ku},props:{permissions:{type:Object,default:()=>({})},statuses:{type:Object,default:()=>({})},fields:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1}},computed:{directusRows(){const e=this.$lodash.pickBy(this.permissions,(e,t)=>t.startsWith("directus_"));return this.$lodash(e).toPairs().sortBy(0).fromPairs().value()},rows(){const e=this.$lodash.pickBy(this.permissions,(e,t)=>!1===t.startsWith("directus_"));return this.$lodash(e).toPairs().sortBy(0).fromPairs().value()}},methods:{toggleAll(e){const t=[];let i=!0;this.$lodash.forEach(this.permissions,(t,s)=>{s.startsWith("directus_")||(this.statuses[s]?this.$lodash.forEach(t,t=>{"full"===t[e]&&(i=!1)}):"full"===t[e]&&(i=!1))}),Object.keys(this.permissions).forEach(s=>{if(!s.startsWith("directus_"))return this.statuses[s]?Object.keys(this.statuses[s].mapping).forEach(n=>{t.push({collection:s,status:n,permission:e,value:i?"full":"none"})}):void t.push({collection:s,permission:e,value:i?"full":"none"})}),this.$emit("input",t)}}},Wu=zu,Hu=(i("fcbf"),Object(R["a"])(Wu,Iu,Su,!1,null,"e3dc994e",null));Hu.options.__file="permissions.vue";var Gu=Hu.exports,Qu={name:"settings-permissions",metaInfo(){if(this.role)return{title:`${this.$t("settings")} | ${this.$helpers.formatTitle(this.role.name)} ${this.$t("permissions")}`}},components:{VPermissions:Gu},data(){return{role:null,error:null,saving:!1,roleEdits:{},confirmRemove:!1,removing:!1,fields:{},permissionsLoading:!1,savedPermissions:{},permissionEdits:{},permissionFields:{},statuses:null}},computed:{isNew(){return"+"===this.$route.params.id},isSystem(){return!!this.role&&(1===this.role.id||2===this.role.id)},isAdmin(){return 1==this.$route.params.id},collections(){return this.$store.state.collections},breadcrumb(){return this.role?this.isNew?[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("roles"),path:"/settings/roles"},{name:this.$t("creating_role"),path:"/settings/roles/+"}]:[{name:this.$t("settings"),path:"/settings",color:"warning"},{name:this.$t("roles"),path:"/settings/roles"},{name:this.$helpers.formatTitle(this.role.name),path:`/settings/roles/${this.role.id}`}]:[]},editing(){return Object.keys(this.roleEdits).length>0||Object.keys(this.permissionEdits).length>0},permissions(){if(!this.statuses)return null;if(!this.collections)return null;const e={};return Object.keys(this.collections).forEach(t=>{const i=Object.assign({},Di);if(i.collection=t,null==this.statuses[t])return e[t]=i,e[t].$create=i,this.savedPermissions[t]&&(e[t]={...e[t],...this.savedPermissions[t]}),void(this.permissionEdits[t]&&(e[t]={...e[t],...this.permissionEdits[t]}));Object.keys(this.statuses[t].mapping).forEach(s=>{e[t]||(e[t]={}),e[t][s]={...i,status:s},this.savedPermissions[t]&&this.savedPermissions[t][s]&&(e[t][s]={...e[t][s],...this.savedPermissions[t][s]}),this.permissionEdits[t]&&this.permissionEdits[t][s]&&(e[t][s]={...e[t][s],...this.permissionEdits[t][s]})}),e[t].$create=i}),e}},beforeRouteEnter(e,t,i){const{id:s}=e.params,n="+"===s;return n?Xr.getFields("directus_roles").then(e=>e.data).then(e=>{i(t=>{const i=Object(_["keyBy"])(e.map(e=>({...e,name:hl()(e.field)})),"field");t.$data.fields=i,t.$data.role=Object(_["mapValues"])(i,e=>e.default_value)})}).catch(e=>{i(t=>{t.$data.error=e})}):Promise.all([Xr.getRole(+s),Xr.getFields("directus_roles")]).then(([e,t])=>({role:e.data,fields:Object(_["keyBy"])(t.data.map(e=>({...e,name:hl()(e.field)})),"field")})).then(({role:e,fields:t})=>{i(i=>{i.$data.role=e,i.$data.fields=t})}).catch(e=>{i(t=>{t.$data.error=e})})},created(){this.loadPermissions()},watch:{$route(){this.loadPermissions()}},methods:{stageValue({field:e,value:t}){this.roleEdits={...this.roleEdits,[e]:t}},save(){this.saving=!0;const e=this.$helpers.shortid.generate();this.$store.dispatch("loadingStart",{id:e}),this.saveRole().then(this.savePermissions).then(()=>{this.$store.dispatch("loadingFinished",e),this.saving=!1,this.$router.push("/settings/roles")}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},saveRole(){return 0===Object.keys(this.roleEdits).length?Promise.resolve():this.isNew?this.$api.createRole(this.roleEdits):this.$api.updateRole(this.role.id,this.roleEdits)},savePermissions(){if(0===Object.keys(this.permissionEdits).length)return Promise.resolve();let e=[],t=[];return Object.keys(this.permissionEdits).forEach(i=>{if(this.statuses[i])Object.keys(this.permissionEdits[i]).forEach(s=>{const n=this.savedPermissions[i]&&this.savedPermissions[i][s]&&this.savedPermissions[i][s].id||null;n?t.push({id:n,...this.permissionEdits[i][s]}):e.push({collection:i,status:s,role:this.role.id,...this.permissionEdits[i][s]})});else{if(this.permissionEdits[i].$create){const s=this.savedPermissions[i]&&this.savedPermissions[i].$create&&this.savedPermissions[i].$create.id||null;if(s?t.push({id:s,...this.permissionEdits[i].$create}):e.push({collection:i,status:"$create",role:this.role.id,...this.permissionEdits[i].$create}),this.$delete(this.permissionEdits[i],"$create"),0===Object.keys(this.permissionEdits[i]))return}const s=this.savedPermissions[i]&&this.savedPermissions[i].id||null;s?t.push({id:s,...this.permissionEdits[i]}):e.push({collection:i,role:this.role.id,...this.permissionEdits[i]})}}),Promise.all([e.length>0?this.$api.createPermissions(e):Promise.resolve(),t.length>0?this.$api.updatePermissions(t):Promise.resolve()])},remove(){if(this.isSystem)return;this.removing=!0;const e=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:e}),this.$api.deleteRole(this.role.id).then(()=>{this.$store.dispatch("loadingFinished",e),this.removing=!1,this.$router.push("/settings/roles")}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},loadPermissions(){if(this.isNew)return;this.permissionsLoading=!0;const e=this.$helpers.shortid.generate();return this.$store.dispatch("loadingStart",{id:e}),Promise.all([this.$api.getAllFields(),this.$api.getPermissions({"filter[role][eq]":this.$route.params.id,limit:-1})]).then(([e,t])=>({fields:e.data,permissions:t.data})).then(({fields:t,permissions:i})=>{this.$store.dispatch("loadingFinished",e);const s={};i.forEach(e=>{null==e.status?s[e.collection]={...e}:(s[e.collection]||(s[e.collection]={}),s[e.collection][e.status]={...e})}),this.permissionsLoading=!1,this.savedPermissions=s,this.statuses=this.$lodash.keyBy(t.filter(e=>e.type&&"status"===e.type.toLowerCase()).map(e=>({mapping:e.options.status_mapping,collection:e.collection})),"collection"),this.permissionFields=this.$lodash.mapValues(this.$lodash.groupBy(t,"collection"),e=>this.$lodash.keyBy(e,"field"))}).catch(t=>{this.$store.dispatch("loadingFinished",e),this.$events.emit("error",{notify:this.$t("something_went_wrong_body"),error:t})})},setPermission(e){return Array.isArray(e)?e.forEach(e=>this.stagePermission(e)):this.stagePermission(e)},stagePermission({collection:e,permission:t,value:i,status:s=null}){return null===s?this.$set(this.permissionEdits,e,{...this.permissionEdits[e]||{},[t]:i}):(null==this.permissionEdits[e]&&this.$set(this.permissionEdits,e,{}),this.$set(this.permissionEdits,e,{...this.permissionEdits[e]||{},[s]:{...this.permissionEdits[e][s]||{},[t]:i}}))}}},Xu=Qu,Yu=(i("5e15"),Object(R["a"])(Xu,Cu,xu,!1,null,"6eea8d5c",null));Yu.options.__file="permissions.vue";var Ju=Yu.exports,Zu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!1===e.exists?i("v-not-found"):i("v-ext-page",{attrs:{id:e.id}})},eh=[],th={name:"page-extension",metaInfo(){const e=this.$store.state.extensions.pages[this.id];return e?{title:e.name}:null},components:{VNotFound:Tc},props:{id:{type:String,required:!0}},data(){return{exists:!1}},beforeRouteEnter(e,t,i){const s=Kr.state.extensions.pages,n=e.params.id;let a=!1;return s.hasOwnProperty(n)&&(a=!0),i(e=>{e.exists=a})},beforeRouteUpdate(e,t,i){const s=this.$store.state.extensions.pages,n=this.id;return this.exists=!1,s.hasOwnProperty(n)&&(this.exists=!0),i()}},ih=th,sh=Object(R["a"])(ih,Zu,eh,!1,null,null,null);sh.options.__file="page-extension.vue";var nh=sh.exports,ah=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-debug"},[i("v-header",{attrs:{title:"Debug yo modals"}}),i("label",[e._v("\n    Title\n    "),i("v-input",{model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),i("label",[e._v("\n    Confirm button text\n    "),i("v-input",{model:{value:e.confirmText,callback:function(t){e.confirmText=t},expression:"confirmText"}})],1),i("label",[e._v("\n    Cancel button text\n    "),i("v-input",{model:{value:e.cancelText,callback:function(t){e.cancelText=t},expression:"cancelText"}})],1),i("v-button",{staticClass:"button",on:{click:function(t){e.alert=!0}}},[e._v("ALERT")]),i("v-button",{staticClass:"button",on:{click:function(t){e.confirm=!0}}},[e._v("CONFIRM")]),i("v-button",{staticClass:"button",on:{click:function(t){e.prompt=!0}}},[e._v("PROMPT")]),i("p",[e._v("Prompt entered text: "+e._s(e.promptText))]),e.alert?i("v-alert",{attrs:{message:e.title,confirmText:e.confirmText},on:{confirm:function(t){e.alert=!1}}}):e._e(),e.confirm?i("v-confirm",{attrs:{message:e.title,cancelText:e.cancelText,confirmText:e.confirmText},on:{confirm:function(t){e.confirm=!1},cancel:function(t){e.confirm=!1}}}):e._e(),e.prompt?i("v-prompt",{attrs:{message:e.title,cancelText:e.cancelText,confirmText:e.confirmText,required:""},on:{confirm:function(t){e.prompt=!1},cancel:function(t){e.prompt=!1}},model:{value:e.promptText,callback:function(t){e.promptText=t},expression:"promptText"}}):e._e()],1)},oh=[],lh={metaInfo(){return{title:"Debug Modals"}},data(){return{alert:!1,confirm:!1,prompt:!1,title:"Are you sure you want to log out?",confirmText:"Yes",cancelText:"Cancel",promptText:"I love Directus!"}}},rh=lh,ch=(i("897f"),Object(R["a"])(rh,ah,oh,!1,null,"126c8c79",null));ch.options.__file="modal-debug.vue";var dh=ch.exports;v["default"].use(al["a"]);const uh=window.__DirectusConfig__&&window.__DirectusConfig__.routerMode,hh=window.__DirectusConfig__&&window.__DirectusConfig__.routerBaseUrl,ph=new al["a"]({mode:uh||"hash",base:hh||"/",routes:[{path:"/modals",component:dh},{path:"/",redirect:"/collections"},{path:"/collections",component:vc},{path:"/collections/:collection",props:!0,component:Ac},{path:"/collections/:collection/:primaryKey",props:!0,component:ad},{path:"/ext/:id",props:!0,component:nh},{path:"/bookmarks/:collection/:bookmarkID",beforeEnter(e,t,i){const{collection:s,bookmarkID:n}=e.params,a=Kr.state.bookmarks.filter(e=>e.id==n)[0],{search_query:o,filters:l,view_query:r,view_options:c,view_type:d}=a;Xr.getItems("directus_collection_presets",{"filter[user][eq]":Kr.state.currentUser.id,"filter[title][null]":1,"filter[collection][eq]":s,fields:"id"}).then(e=>e.data).then(e=>e&&e.length>=1?e[0]:null).then(e=>{if(e)return Xr.updateItem("directus_collection_presets",e.id,{search_query:o,filters:l,view_query:r,view_options:c,view_type:d})}).then(()=>{return i({path:`/collections/${s}?b=${a.id}`})}).catch(e=>ac.emit("error",{notify:qe.t("something_went_wrong_body"),error:e}))}},{path:"/collections/directus_files",redirect:"/files"},{path:"/files",component:Lc},{path:"/collections/directus_files/:primaryKey",component:ad,alias:"/files/:primaryKey"},{path:"/collections/directus_users",component:Ac,alias:"/users"},{path:"/collections/directus_users/:primaryKey",component:ad,alias:"/users/:primaryKey"},{path:"/collections/directus_activity",component:Ac,alias:"/activity"},{path:"/collections/directus_activity/:primaryKey",component:ad,alias:"/activity/:primaryKey"},{path:"/debug",component:Md},{path:"/settings",component:Bd},{path:"/settings/global",component:Hd},{path:"/settings/collections",component:Zd},{path:"/settings/collections/:collection",component:_u,props:!0},{path:"/settings/roles",component:wu},{path:"/settings/roles/:id",component:Ju,props:!0},{path:"/settings/interfaces",component:wd},{path:"/settings/interfaces/:id",component:Od,props:!0},{path:"/login",component:_d,meta:{publicRoute:!0},beforeEnter(e,t,i){return Xr.loggedIn?i(!1):i()}},{path:"/logout",beforeEnter(e,t,i){Kr.dispatch("logout"),i("/login")}},{path:"*",component:Tc}]});ph.beforeEach((e,t,i)=>{const{loggedIn:s}=Kr.getters,n=e.matched.some(e=>e.meta.publicRoute);return Kr.commit(da,!1),Kr.commit(ua,!1),!1===s?n?i():"/"===t.fullPath?i({path:"/login"}):i({path:"/login",query:{redirect:e.fullPath}}):!1===Kr.state.hydrated?dc().then(()=>{if(Kr.getters.editing){const{collection:e,primaryKey:t}=Kr.state.edits;return i(`/collections/${e}/${t}`)}return i()}):i()}),ph.afterEach((e,t)=>{!1===Kr.state.hydrating&&"/logout"!==t.path&&Kr.dispatch("track",{page:e.path})});var mh=ph,fh=i("2a0c"),vh=i.n(fh),_h=i("a75a"),gh=i.n(_h),yh=i("8a60"),bh=i.n(yh),$h=i("ecde");function kh(e){const t=e.split(/[- :]/);return new Date(Date.UTC(t[0],t[1]-1,t[2],t[3],t[4],t[5]))}function wh(e){return e.toISOString().slice(0,19).replace("T"," ")}var Ch={sqlToDate:kh,dateToSql:wh};const xh={formatTitle:hl.a,date:Ch,convertRange:vh.a,micromustache:gh.a,filesize:La.a,shortid:Jr.a,componentExists:$e,formatFilters:pi,enableBodyScroll:un["enableBodyScroll"],disableBodyScroll:un["disableBodyScroll"],snarkdown:$h["a"],mousetrap:bh.a},Ih={install(e){e.prototype.$helpers=xh}};v["default"].use(Ih);var Sh=xh;v["default"].config.productionTip=!1,Object.defineProperties(v["default"].prototype,{$lodash:{value:g.a},$api:{value:Xr},$notify:{value:tc},$axios:{value:I.a}}),v["default"].use(ac),v["default"].use($["a"],{defaultDelay:500,defaultOffset:2}),v["default"].use(C.a),v["default"].use(k["a"],{name:"v-timeago",locale:"en-US",locales:{en:T.a,nl:N.a}}),v["default"].use(E.a),v["default"].component("draggable",b.a),new v["default"]({render:e=>e(nl),router:mh,i18n:qe,store:Kr,api:Xr,helpers:Sh}).$mount("#app")},5791:function(e,t,i){},"582a":function(e,t,i){},"58de":function(e,t,i){"use strict";var s=i("8d23"),n=i.n(s);n.a},"5a56":function(e,t,i){"use strict";var s=i("41b5"),n=i.n(s);n.a},"5b09":function(e,t){function i(e){e.key&&"tab"===e.key.toLowerCase()&&(document.body.classList.add("user-is-tabbing"),window.removeEventListener("keydown",i),window.addEventListener("mousedown",s))}function s(){document.body.classList.remove("user-is-tabbing"),window.removeEventListener("mousedown",s),window.addEventListener("keydown",i)}window.addEventListener("keydown",i)},"5cc9":function(e,t,i){"use strict";var s=i("80df"),n=i.n(s);n.a},"5d8f":function(e,t,i){"use strict";var s=i("7c11"),n=i.n(s);n.a},"5da0":function(e,t,i){"use strict";var s=i("6635"),n=i.n(s);n.a},"5e15":function(e,t,i){"use strict";var s=i("b885"),n=i.n(s);n.a},"5e48":function(e,t,i){"use strict";var s=i("54e5"),n=i.n(s);n.a},"5fd0":function(e,t,i){"use strict";var s=i("df84"),n=i.n(s);n.a},"619b":function(e,t,i){"use strict";var s=i("9ce8"),n=i.n(s);n.a},6294:function(e,t,i){"use strict";var s=i("7fba"),n=i.n(s);n.a},6635:function(e,t,i){},6671:function(e,t,i){"use strict";var s=i("483c"),n=i.n(s);n.a},6778:function(e,t,i){"use strict";var s=i("dc8f"),n=i.n(s);n.a},"67e9":function(e,t,i){},"689c":function(e,t,i){},6915:function(e,t,i){"use strict";var s=i("cb21"),n=i.n(s);n.a},"6bff":function(e,t){let i,s=!1;function n(){s=!1,clearTimeout(i),i=setTimeout(()=>{!1===s&&document.body.classList.remove("dragging")},50)}document.body.addEventListener("dragenter",()=>{s=!0,document.body.classList.add("dragging")},!1),document.body.addEventListener("dragover",()=>{s=!0},!1),document.body.addEventListener("dragleave",n,!1),document.body.addEventListener("dragexit",n,!1),document.body.addEventListener("dragend",n,!1),document.body.addEventListener("drop",n,!1)},7745:function(e,t,i){"use strict";var s=i("1b2c"),n=i.n(s);n.a},"7b1e":function(e,t,i){"use strict";var s=i("c835"),n=i.n(s);n.a},"7c11":function(e,t,i){},"7cef":function(e,t,i){"use strict";var s=i("4e8c"),n=i.n(s);n.a},"7fba":function(e,t,i){},8012:function(e,t,i){"use strict";var s=i("ebe6"),n=i.n(s);n.a},"80df":function(e,t,i){},8624:function(e,t,i){"use strict";var s=i("0494"),n=i.n(s);n.a},8634:function(e,t,i){"use strict";var s=i("e059"),n=i.n(s);n.a},8701:function(e,t,i){var s={"./de-DE":["9e91","lang-de-DE"],"./de-DE.js":["9e91","lang-de-DE"],"./en-US":["1271"],"./en-US.js":["1271"],"./fr-FR":["f18a","lang-fr-FR"],"./fr-FR.js":["f18a","lang-fr-FR"],"./nl-NL":["c1fc","lang-nl-NL"],"./nl-NL.js":["c1fc","lang-nl-NL"]};function n(e){var t=s[e];return t?Promise.all(t.slice(1).map(i.e)).then(function(){var e=t[0];return i(e)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return Object.keys(s)},n.id="8701",e.exports=n},"897f":function(e,t,i){"use strict";var s=i("2ae6"),n=i.n(s);n.a},"8c66":function(e,t,i){},"8d23":function(e,t,i){},"8d64":function(e,t,i){},9026:function(e,t,i){},9224:function(e){e.exports={a:"7.0.6"}},9582:function(e,t,i){"use strict";var s=i("de58"),n=i.n(s);n.a},"959d":function(e,t,i){},9645:function(e,t,i){},"96a2":function(e,t,i){},"998b":function(e,t,i){},"9a48":function(e,t,i){"use strict";var s=i("cae8"),n=i.n(s);n.a},"9ce8":function(e,t,i){},"9e9d":function(e,t,i){"use strict";var s=i("d026"),n=i.n(s);n.a},"9eb6":function(e,t,i){"use strict";var s=i("4865"),n=i.n(s);n.a},a1fb:function(e,t,i){},a725:function(e,t,i){},abf3:function(e,t,i){},ac27:function(e,t,i){},adbe:function(e,t,i){},ae7e:function(e,t,i){},aef9:function(e,t,i){"use strict";var s=i("b307"),n=i.n(s);n.a},b1af:function(e,t,i){},b307:function(e,t,i){},b425:function(e,t,i){},b885:function(e,t,i){},b9d8:function(e,t,i){},b9e6:function(e,t,i){},bb19:function(e,t,i){e.exports=i.p+"img/box.713f50cf.svg"},bd86:function(e,t,i){"use strict";var s=i("582a"),n=i.n(s);n.a},be34:function(e,t,i){"use strict";var s=i("01d9"),n=i.n(s);n.a},bef4:function(e,t,i){"use strict";var s=i("1392"),n=i.n(s);n.a},c1d1:function(e,t,i){"use strict";var s=i("eea9"),n=i.n(s);n.a},c26d:function(e,t,i){},c6e5:function(e,t,i){"use strict";var s=i("ae7e"),n=i.n(s);n.a},c82b:function(e,t,i){"use strict";var s=i("3027"),n=i.n(s);n.a},c835:function(e,t,i){},c920:function(e,t,i){"use strict";var s=i("195d"),n=i.n(s);n.a},ca69:function(e,t,i){"use strict";var s=i("b425"),n=i.n(s);n.a},cae2:function(e,t,i){"use strict";var s=i("998b"),n=i.n(s);n.a},cae8:function(e,t,i){},cb21:function(e,t,i){},cdfb:function(e,t,i){},ce60:function(e,t,i){},cfb0:function(e,t,i){},d026:function(e,t,i){},d0b0:function(e,t,i){"use strict";var s=i("8d64"),n=i.n(s);n.a},d33e:function(e,t,i){"use strict";var s=i("8c66"),n=i.n(s);n.a},d3a9:function(e,t,i){"use strict";var s=i("ac27"),n=i.n(s);n.a},d45e:function(e,t,i){"use strict";var s=i("1f04"),n=i.n(s);n.a},d4cb:function(e,t,i){"use strict";var s=i("4ade"),n=i.n(s);n.a},d624:function(e,t,i){},d8fe:function(e,t,i){"use strict";var s=i("559b"),n=i.n(s);n.a},dada:function(e,t,i){},dc8f:function(e,t,i){},de58:function(e,t,i){},df84:function(e,t,i){},e008:function(e,t,i){},e059:function(e,t,i){},e16e:function(e,t,i){"use strict";var s=i("3fd6"),n=i.n(s);n.a},e543:function(e,t,i){},e8ae:function(e,t,i){"use strict";var s=i("96a2"),n=i.n(s);n.a},ebe6:function(e,t,i){},edee:function(e,t,i){"use strict";var s=i("171c"),n=i.n(s);n.a},eea9:function(e,t,i){},f181:function(e,t,i){"use strict";var s=i("a1fb"),n=i.n(s);n.a},f367:function(e,t,i){},f3d3:function(e,t,i){},f5f1:function(e,t,i){"use strict";var s=i("9026"),n=i.n(s);n.a},f76e:function(e,t,i){"use strict";var s=i("ce60"),n=i.n(s);n.a},faa4:function(e,t,i){},fc00:function(e,t,i){"use strict";var s=i("cfb0"),n=i.n(s);n.a},fcbf:function(e,t,i){"use strict";var s=i("faa4"),n=i.n(s);n.a},ff70:function(e,t,i){"use strict";var s=i("b9e6"),n=i.n(s);n.a}});
//# sourceMappingURL=app-legacy.fd3bc1df.js.map